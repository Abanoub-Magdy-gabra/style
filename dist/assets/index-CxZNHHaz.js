function Vy(e,t){for(var s=0;s<t.length;s++){const r=t[s];if(typeof r!="string"&&!Array.isArray(r)){for(const n in r)if(n!=="default"&&!(n in e)){const a=Object.getOwnPropertyDescriptor(r,n);a&&Object.defineProperty(e,n,a.get?a:{enumerable:!0,get:()=>r[n]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const a of n)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function s(n){const a={};return n.integrity&&(a.integrity=n.integrity),n.referrerPolicy&&(a.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?a.credentials="include":n.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(n){if(n.ep)return;n.ep=!0;const a=s(n);fetch(n.href,a)}})();var lt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function By(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Uy(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var s=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};s.prototype=t.prototype}else s={};return Object.defineProperty(s,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var n=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(s,r,n.get?n:{enumerable:!0,get:function(){return e[r]}})}),s}var Kf={exports:{}},co={},Qf={exports:{}},V={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xi=Symbol.for("react.element"),Wy=Symbol.for("react.portal"),qy=Symbol.for("react.fragment"),Hy=Symbol.for("react.strict_mode"),Gy=Symbol.for("react.profiler"),Ky=Symbol.for("react.provider"),Qy=Symbol.for("react.context"),Yy=Symbol.for("react.forward_ref"),Jy=Symbol.for("react.suspense"),Xy=Symbol.for("react.memo"),Zy=Symbol.for("react.lazy"),Qd=Symbol.iterator;function ev(e){return e===null||typeof e!="object"?null:(e=Qd&&e[Qd]||e["@@iterator"],typeof e=="function"?e:null)}var Yf={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Jf=Object.assign,Xf={};function Xr(e,t,s){this.props=e,this.context=t,this.refs=Xf,this.updater=s||Yf}Xr.prototype.isReactComponent={};Xr.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Xr.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Zf(){}Zf.prototype=Xr.prototype;function mu(e,t,s){this.props=e,this.context=t,this.refs=Xf,this.updater=s||Yf}var fu=mu.prototype=new Zf;fu.constructor=mu;Jf(fu,Xr.prototype);fu.isPureReactComponent=!0;var Yd=Array.isArray,ep=Object.prototype.hasOwnProperty,pu={current:null},tp={key:!0,ref:!0,__self:!0,__source:!0};function sp(e,t,s){var r,n={},a=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(a=""+t.key),t)ep.call(t,r)&&!tp.hasOwnProperty(r)&&(n[r]=t[r]);var l=arguments.length-2;if(l===1)n.children=s;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];n.children=c}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)n[r]===void 0&&(n[r]=l[r]);return{$$typeof:xi,type:e,key:a,ref:o,props:n,_owner:pu.current}}function tv(e,t){return{$$typeof:xi,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function gu(e){return typeof e=="object"&&e!==null&&e.$$typeof===xi}function sv(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(s){return t[s]})}var Jd=/\/+/g;function zo(e,t){return typeof e=="object"&&e!==null&&e.key!=null?sv(""+e.key):t.toString(36)}function aa(e,t,s,r,n){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case xi:case Wy:o=!0}}if(o)return o=e,n=n(o),e=r===""?"."+zo(o,0):r,Yd(n)?(s="",e!=null&&(s=e.replace(Jd,"$&/")+"/"),aa(n,t,s,"",function(u){return u})):n!=null&&(gu(n)&&(n=tv(n,s+(!n.key||o&&o.key===n.key?"":(""+n.key).replace(Jd,"$&/")+"/")+e)),t.push(n)),1;if(o=0,r=r===""?".":r+":",Yd(e))for(var l=0;l<e.length;l++){a=e[l];var c=r+zo(a,l);o+=aa(a,t,s,c,n)}else if(c=ev(e),typeof c=="function")for(e=c.call(e),l=0;!(a=e.next()).done;)a=a.value,c=r+zo(a,l++),o+=aa(a,t,s,c,n);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Ri(e,t,s){if(e==null)return e;var r=[],n=0;return aa(e,r,"","",function(a){return t.call(s,a,n++)}),r}function rv(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(s){(e._status===0||e._status===-1)&&(e._status=1,e._result=s)},function(s){(e._status===0||e._status===-1)&&(e._status=2,e._result=s)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ie={current:null},oa={transition:null},nv={ReactCurrentDispatcher:Ie,ReactCurrentBatchConfig:oa,ReactCurrentOwner:pu};function rp(){throw Error("act(...) is not supported in production builds of React.")}V.Children={map:Ri,forEach:function(e,t,s){Ri(e,function(){t.apply(this,arguments)},s)},count:function(e){var t=0;return Ri(e,function(){t++}),t},toArray:function(e){return Ri(e,function(t){return t})||[]},only:function(e){if(!gu(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};V.Component=Xr;V.Fragment=qy;V.Profiler=Gy;V.PureComponent=mu;V.StrictMode=Hy;V.Suspense=Jy;V.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=nv;V.act=rp;V.cloneElement=function(e,t,s){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Jf({},e.props),n=e.key,a=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,o=pu.current),t.key!==void 0&&(n=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)ep.call(t,c)&&!tp.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=s;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:xi,type:e.type,key:n,ref:a,props:r,_owner:o}};V.createContext=function(e){return e={$$typeof:Qy,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Ky,_context:e},e.Consumer=e};V.createElement=sp;V.createFactory=function(e){var t=sp.bind(null,e);return t.type=e,t};V.createRef=function(){return{current:null}};V.forwardRef=function(e){return{$$typeof:Yy,render:e}};V.isValidElement=gu;V.lazy=function(e){return{$$typeof:Zy,_payload:{_status:-1,_result:e},_init:rv}};V.memo=function(e,t){return{$$typeof:Xy,type:e,compare:t===void 0?null:t}};V.startTransition=function(e){var t=oa.transition;oa.transition={};try{e()}finally{oa.transition=t}};V.unstable_act=rp;V.useCallback=function(e,t){return Ie.current.useCallback(e,t)};V.useContext=function(e){return Ie.current.useContext(e)};V.useDebugValue=function(){};V.useDeferredValue=function(e){return Ie.current.useDeferredValue(e)};V.useEffect=function(e,t){return Ie.current.useEffect(e,t)};V.useId=function(){return Ie.current.useId()};V.useImperativeHandle=function(e,t,s){return Ie.current.useImperativeHandle(e,t,s)};V.useInsertionEffect=function(e,t){return Ie.current.useInsertionEffect(e,t)};V.useLayoutEffect=function(e,t){return Ie.current.useLayoutEffect(e,t)};V.useMemo=function(e,t){return Ie.current.useMemo(e,t)};V.useReducer=function(e,t,s){return Ie.current.useReducer(e,t,s)};V.useRef=function(e){return Ie.current.useRef(e)};V.useState=function(e){return Ie.current.useState(e)};V.useSyncExternalStore=function(e,t,s){return Ie.current.useSyncExternalStore(e,t,s)};V.useTransition=function(){return Ie.current.useTransition()};V.version="18.3.1";Qf.exports=V;var v=Qf.exports;const iv=By(v),av=Vy({__proto__:null,default:iv},[v]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ov=v,lv=Symbol.for("react.element"),cv=Symbol.for("react.fragment"),uv=Object.prototype.hasOwnProperty,dv=ov.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,hv={key:!0,ref:!0,__self:!0,__source:!0};function np(e,t,s){var r,n={},a=null,o=null;s!==void 0&&(a=""+s),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)uv.call(t,r)&&!hv.hasOwnProperty(r)&&(n[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)n[r]===void 0&&(n[r]=t[r]);return{$$typeof:lv,type:e,key:a,ref:o,props:n,_owner:dv.current}}co.Fragment=cv;co.jsx=np;co.jsxs=np;Kf.exports=co;var i=Kf.exports,ip={exports:{}},Ze={},ap={exports:{}},op={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(C,D){var I=C.length;C.push(D);e:for(;0<I;){var ce=I-1>>>1,ge=C[ce];if(0<n(ge,D))C[ce]=D,C[I]=ge,I=ce;else break e}}function s(C){return C.length===0?null:C[0]}function r(C){if(C.length===0)return null;var D=C[0],I=C.pop();if(I!==D){C[0]=I;e:for(var ce=0,ge=C.length,Ti=ge>>>1;ce<Ti;){var Os=2*(ce+1)-1,Fo=C[Os],Ds=Os+1,Ai=C[Ds];if(0>n(Fo,I))Ds<ge&&0>n(Ai,Fo)?(C[ce]=Ai,C[Ds]=I,ce=Ds):(C[ce]=Fo,C[Os]=I,ce=Os);else if(Ds<ge&&0>n(Ai,I))C[ce]=Ai,C[Ds]=I,ce=Ds;else break e}}return D}function n(C,D){var I=C.sortIndex-D.sortIndex;return I!==0?I:C.id-D.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,h=null,m=3,x=!1,w=!1,b=!1,y=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function f(C){for(var D=s(u);D!==null;){if(D.callback===null)r(u);else if(D.startTime<=C)r(u),D.sortIndex=D.expirationTime,t(c,D);else break;D=s(u)}}function j(C){if(b=!1,f(C),!w)if(s(c)!==null)w=!0,Re(N);else{var D=s(u);D!==null&&W(j,D.startTime-C)}}function N(C,D){w=!1,b&&(b=!1,g(k),k=-1),x=!0;var I=m;try{for(f(D),h=s(c);h!==null&&(!(h.expirationTime>D)||C&&!H());){var ce=h.callback;if(typeof ce=="function"){h.callback=null,m=h.priorityLevel;var ge=ce(h.expirationTime<=D);D=e.unstable_now(),typeof ge=="function"?h.callback=ge:h===s(c)&&r(c),f(D)}else r(c);h=s(c)}if(h!==null)var Ti=!0;else{var Os=s(u);Os!==null&&W(j,Os.startTime-D),Ti=!1}return Ti}finally{h=null,m=I,x=!1}}var S=!1,_=null,k=-1,A=5,T=-1;function H(){return!(e.unstable_now()-T<A)}function B(){if(_!==null){var C=e.unstable_now();T=C;var D=!0;try{D=_(!0,C)}finally{D?G():(S=!1,_=null)}}else S=!1}var G;if(typeof p=="function")G=function(){p(B)};else if(typeof MessageChannel<"u"){var Z=new MessageChannel,R=Z.port2;Z.port1.onmessage=B,G=function(){R.postMessage(null)}}else G=function(){y(B,0)};function Re(C){_=C,S||(S=!0,G())}function W(C,D){k=y(function(){C(e.unstable_now())},D)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(C){C.callback=null},e.unstable_continueExecution=function(){w||x||(w=!0,Re(N))},e.unstable_forceFrameRate=function(C){0>C||125<C?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<C?Math.floor(1e3/C):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return s(c)},e.unstable_next=function(C){switch(m){case 1:case 2:case 3:var D=3;break;default:D=m}var I=m;m=D;try{return C()}finally{m=I}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(C,D){switch(C){case 1:case 2:case 3:case 4:case 5:break;default:C=3}var I=m;m=C;try{return D()}finally{m=I}},e.unstable_scheduleCallback=function(C,D,I){var ce=e.unstable_now();switch(typeof I=="object"&&I!==null?(I=I.delay,I=typeof I=="number"&&0<I?ce+I:ce):I=ce,C){case 1:var ge=-1;break;case 2:ge=250;break;case 5:ge=1073741823;break;case 4:ge=1e4;break;default:ge=5e3}return ge=I+ge,C={id:d++,callback:D,priorityLevel:C,startTime:I,expirationTime:ge,sortIndex:-1},I>ce?(C.sortIndex=I,t(u,C),s(c)===null&&C===s(u)&&(b?(g(k),k=-1):b=!0,W(j,I-ce))):(C.sortIndex=ge,t(c,C),w||x||(w=!0,Re(N))),C},e.unstable_shouldYield=H,e.unstable_wrapCallback=function(C){var D=m;return function(){var I=m;m=D;try{return C.apply(this,arguments)}finally{m=I}}}})(op);ap.exports=op;var mv=ap.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fv=v,Xe=mv;function P(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,s=1;s<arguments.length;s++)t+="&args[]="+encodeURIComponent(arguments[s]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var lp=new Set,Wn={};function rr(e,t){zr(e,t),zr(e+"Capture",t)}function zr(e,t){for(Wn[e]=t,e=0;e<t.length;e++)lp.add(t[e])}var zt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ml=Object.prototype.hasOwnProperty,pv=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Xd={},Zd={};function gv(e){return Ml.call(Zd,e)?!0:Ml.call(Xd,e)?!1:pv.test(e)?Zd[e]=!0:(Xd[e]=!0,!1)}function xv(e,t,s,r){if(s!==null&&s.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:s!==null?!s.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function yv(e,t,s,r){if(t===null||typeof t>"u"||xv(e,t,s,r))return!0;if(r)return!1;if(s!==null)switch(s.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function $e(e,t,s,r,n,a,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=n,this.mustUseProperty=s,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var ke={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ke[e]=new $e(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ke[t]=new $e(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){ke[e]=new $e(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ke[e]=new $e(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ke[e]=new $e(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){ke[e]=new $e(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){ke[e]=new $e(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){ke[e]=new $e(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){ke[e]=new $e(e,5,!1,e.toLowerCase(),null,!1,!1)});var xu=/[\-:]([a-z])/g;function yu(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(xu,yu);ke[t]=new $e(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(xu,yu);ke[t]=new $e(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(xu,yu);ke[t]=new $e(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){ke[e]=new $e(e,1,!1,e.toLowerCase(),null,!1,!1)});ke.xlinkHref=new $e("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){ke[e]=new $e(e,1,!1,e.toLowerCase(),null,!0,!0)});function vu(e,t,s,r){var n=ke.hasOwnProperty(t)?ke[t]:null;(n!==null?n.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(yv(t,s,n,r)&&(s=null),r||n===null?gv(t)&&(s===null?e.removeAttribute(t):e.setAttribute(t,""+s)):n.mustUseProperty?e[n.propertyName]=s===null?n.type===3?!1:"":s:(t=n.attributeName,r=n.attributeNamespace,s===null?e.removeAttribute(t):(n=n.type,s=n===3||n===4&&s===!0?"":""+s,r?e.setAttributeNS(r,t,s):e.setAttribute(t,s))))}var Kt=fv.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Oi=Symbol.for("react.element"),fr=Symbol.for("react.portal"),pr=Symbol.for("react.fragment"),wu=Symbol.for("react.strict_mode"),Il=Symbol.for("react.profiler"),cp=Symbol.for("react.provider"),up=Symbol.for("react.context"),bu=Symbol.for("react.forward_ref"),$l=Symbol.for("react.suspense"),Fl=Symbol.for("react.suspense_list"),ju=Symbol.for("react.memo"),Zt=Symbol.for("react.lazy"),dp=Symbol.for("react.offscreen"),eh=Symbol.iterator;function cn(e){return e===null||typeof e!="object"?null:(e=eh&&e[eh]||e["@@iterator"],typeof e=="function"?e:null)}var ie=Object.assign,Vo;function vn(e){if(Vo===void 0)try{throw Error()}catch(s){var t=s.stack.trim().match(/\n( *(at )?)/);Vo=t&&t[1]||""}return`
`+Vo+e}var Bo=!1;function Uo(e,t){if(!e||Bo)return"";Bo=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var n=u.stack.split(`
`),a=r.stack.split(`
`),o=n.length-1,l=a.length-1;1<=o&&0<=l&&n[o]!==a[l];)l--;for(;1<=o&&0<=l;o--,l--)if(n[o]!==a[l]){if(o!==1||l!==1)do if(o--,l--,0>l||n[o]!==a[l]){var c=`
`+n[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{Bo=!1,Error.prepareStackTrace=s}return(e=e?e.displayName||e.name:"")?vn(e):""}function vv(e){switch(e.tag){case 5:return vn(e.type);case 16:return vn("Lazy");case 13:return vn("Suspense");case 19:return vn("SuspenseList");case 0:case 2:case 15:return e=Uo(e.type,!1),e;case 11:return e=Uo(e.type.render,!1),e;case 1:return e=Uo(e.type,!0),e;default:return""}}function zl(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case pr:return"Fragment";case fr:return"Portal";case Il:return"Profiler";case wu:return"StrictMode";case $l:return"Suspense";case Fl:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case up:return(e.displayName||"Context")+".Consumer";case cp:return(e._context.displayName||"Context")+".Provider";case bu:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ju:return t=e.displayName||null,t!==null?t:zl(e.type)||"Memo";case Zt:t=e._payload,e=e._init;try{return zl(e(t))}catch{}}return null}function wv(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return zl(t);case 8:return t===wu?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function vs(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function hp(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function bv(e){var t=hp(e)?"checked":"value",s=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var n=s.get,a=s.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return n.call(this)},set:function(o){r=""+o,a.call(this,o)}}),Object.defineProperty(e,t,{enumerable:s.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Di(e){e._valueTracker||(e._valueTracker=bv(e))}function mp(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var s=t.getValue(),r="";return e&&(r=hp(e)?e.checked?"true":"false":e.value),e=r,e!==s?(t.setValue(e),!0):!1}function Na(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Vl(e,t){var s=t.checked;return ie({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:s??e._wrapperState.initialChecked})}function th(e,t){var s=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;s=vs(t.value!=null?t.value:s),e._wrapperState={initialChecked:r,initialValue:s,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function fp(e,t){t=t.checked,t!=null&&vu(e,"checked",t,!1)}function Bl(e,t){fp(e,t);var s=vs(t.value),r=t.type;if(s!=null)r==="number"?(s===0&&e.value===""||e.value!=s)&&(e.value=""+s):e.value!==""+s&&(e.value=""+s);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Ul(e,t.type,s):t.hasOwnProperty("defaultValue")&&Ul(e,t.type,vs(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function sh(e,t,s){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,s||t===e.value||(e.value=t),e.defaultValue=t}s=e.name,s!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,s!==""&&(e.name=s)}function Ul(e,t,s){(t!=="number"||Na(e.ownerDocument)!==e)&&(s==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+s&&(e.defaultValue=""+s))}var wn=Array.isArray;function Ar(e,t,s,r){if(e=e.options,t){t={};for(var n=0;n<s.length;n++)t["$"+s[n]]=!0;for(s=0;s<e.length;s++)n=t.hasOwnProperty("$"+e[s].value),e[s].selected!==n&&(e[s].selected=n),n&&r&&(e[s].defaultSelected=!0)}else{for(s=""+vs(s),t=null,n=0;n<e.length;n++){if(e[n].value===s){e[n].selected=!0,r&&(e[n].defaultSelected=!0);return}t!==null||e[n].disabled||(t=e[n])}t!==null&&(t.selected=!0)}}function Wl(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(P(91));return ie({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function rh(e,t){var s=t.value;if(s==null){if(s=t.children,t=t.defaultValue,s!=null){if(t!=null)throw Error(P(92));if(wn(s)){if(1<s.length)throw Error(P(93));s=s[0]}t=s}t==null&&(t=""),s=t}e._wrapperState={initialValue:vs(s)}}function pp(e,t){var s=vs(t.value),r=vs(t.defaultValue);s!=null&&(s=""+s,s!==e.value&&(e.value=s),t.defaultValue==null&&e.defaultValue!==s&&(e.defaultValue=s)),r!=null&&(e.defaultValue=""+r)}function nh(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function gp(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ql(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?gp(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Li,xp=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,s,r,n){MSApp.execUnsafeLocalFunction(function(){return e(t,s,r,n)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Li=Li||document.createElement("div"),Li.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Li.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function qn(e,t){if(t){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=t;return}}e.textContent=t}var kn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},jv=["Webkit","ms","Moz","O"];Object.keys(kn).forEach(function(e){jv.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),kn[t]=kn[e]})});function yp(e,t,s){return t==null||typeof t=="boolean"||t===""?"":s||typeof t!="number"||t===0||kn.hasOwnProperty(e)&&kn[e]?(""+t).trim():t+"px"}function vp(e,t){e=e.style;for(var s in t)if(t.hasOwnProperty(s)){var r=s.indexOf("--")===0,n=yp(s,t[s],r);s==="float"&&(s="cssFloat"),r?e.setProperty(s,n):e[s]=n}}var Nv=ie({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Hl(e,t){if(t){if(Nv[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(P(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(P(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(P(61))}if(t.style!=null&&typeof t.style!="object")throw Error(P(62))}}function Gl(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Kl=null;function Nu(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ql=null,Rr=null,Or=null;function ih(e){if(e=wi(e)){if(typeof Ql!="function")throw Error(P(280));var t=e.stateNode;t&&(t=po(t),Ql(e.stateNode,e.type,t))}}function wp(e){Rr?Or?Or.push(e):Or=[e]:Rr=e}function bp(){if(Rr){var e=Rr,t=Or;if(Or=Rr=null,ih(e),t)for(e=0;e<t.length;e++)ih(t[e])}}function jp(e,t){return e(t)}function Np(){}var Wo=!1;function Sp(e,t,s){if(Wo)return e(t,s);Wo=!0;try{return jp(e,t,s)}finally{Wo=!1,(Rr!==null||Or!==null)&&(Np(),bp())}}function Hn(e,t){var s=e.stateNode;if(s===null)return null;var r=po(s);if(r===null)return null;s=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(P(231,t,typeof s));return s}var Yl=!1;if(zt)try{var un={};Object.defineProperty(un,"passive",{get:function(){Yl=!0}}),window.addEventListener("test",un,un),window.removeEventListener("test",un,un)}catch{Yl=!1}function Sv(e,t,s,r,n,a,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(s,u)}catch(d){this.onError(d)}}var _n=!1,Sa=null,ka=!1,Jl=null,kv={onError:function(e){_n=!0,Sa=e}};function _v(e,t,s,r,n,a,o,l,c){_n=!1,Sa=null,Sv.apply(kv,arguments)}function Cv(e,t,s,r,n,a,o,l,c){if(_v.apply(this,arguments),_n){if(_n){var u=Sa;_n=!1,Sa=null}else throw Error(P(198));ka||(ka=!0,Jl=u)}}function nr(e){var t=e,s=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(s=t.return),e=t.return;while(e)}return t.tag===3?s:null}function kp(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function ah(e){if(nr(e)!==e)throw Error(P(188))}function Pv(e){var t=e.alternate;if(!t){if(t=nr(e),t===null)throw Error(P(188));return t!==e?null:e}for(var s=e,r=t;;){var n=s.return;if(n===null)break;var a=n.alternate;if(a===null){if(r=n.return,r!==null){s=r;continue}break}if(n.child===a.child){for(a=n.child;a;){if(a===s)return ah(n),e;if(a===r)return ah(n),t;a=a.sibling}throw Error(P(188))}if(s.return!==r.return)s=n,r=a;else{for(var o=!1,l=n.child;l;){if(l===s){o=!0,s=n,r=a;break}if(l===r){o=!0,r=n,s=a;break}l=l.sibling}if(!o){for(l=a.child;l;){if(l===s){o=!0,s=a,r=n;break}if(l===r){o=!0,r=a,s=n;break}l=l.sibling}if(!o)throw Error(P(189))}}if(s.alternate!==r)throw Error(P(190))}if(s.tag!==3)throw Error(P(188));return s.stateNode.current===s?e:t}function _p(e){return e=Pv(e),e!==null?Cp(e):null}function Cp(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Cp(e);if(t!==null)return t;e=e.sibling}return null}var Pp=Xe.unstable_scheduleCallback,oh=Xe.unstable_cancelCallback,Ev=Xe.unstable_shouldYield,Tv=Xe.unstable_requestPaint,de=Xe.unstable_now,Av=Xe.unstable_getCurrentPriorityLevel,Su=Xe.unstable_ImmediatePriority,Ep=Xe.unstable_UserBlockingPriority,_a=Xe.unstable_NormalPriority,Rv=Xe.unstable_LowPriority,Tp=Xe.unstable_IdlePriority,uo=null,Ct=null;function Ov(e){if(Ct&&typeof Ct.onCommitFiberRoot=="function")try{Ct.onCommitFiberRoot(uo,e,void 0,(e.current.flags&128)===128)}catch{}}var vt=Math.clz32?Math.clz32:Mv,Dv=Math.log,Lv=Math.LN2;function Mv(e){return e>>>=0,e===0?32:31-(Dv(e)/Lv|0)|0}var Mi=64,Ii=4194304;function bn(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ca(e,t){var s=e.pendingLanes;if(s===0)return 0;var r=0,n=e.suspendedLanes,a=e.pingedLanes,o=s&268435455;if(o!==0){var l=o&~n;l!==0?r=bn(l):(a&=o,a!==0&&(r=bn(a)))}else o=s&~n,o!==0?r=bn(o):a!==0&&(r=bn(a));if(r===0)return 0;if(t!==0&&t!==r&&!(t&n)&&(n=r&-r,a=t&-t,n>=a||n===16&&(a&4194240)!==0))return t;if(r&4&&(r|=s&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)s=31-vt(t),n=1<<s,r|=e[s],t&=~n;return r}function Iv(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function $v(e,t){for(var s=e.suspendedLanes,r=e.pingedLanes,n=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-vt(a),l=1<<o,c=n[o];c===-1?(!(l&s)||l&r)&&(n[o]=Iv(l,t)):c<=t&&(e.expiredLanes|=l),a&=~l}}function Xl(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Ap(){var e=Mi;return Mi<<=1,!(Mi&4194240)&&(Mi=64),e}function qo(e){for(var t=[],s=0;31>s;s++)t.push(e);return t}function yi(e,t,s){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-vt(t),e[t]=s}function Fv(e,t){var s=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<s;){var n=31-vt(s),a=1<<n;t[n]=0,r[n]=-1,e[n]=-1,s&=~a}}function ku(e,t){var s=e.entangledLanes|=t;for(e=e.entanglements;s;){var r=31-vt(s),n=1<<r;n&t|e[r]&t&&(e[r]|=t),s&=~n}}var q=0;function Rp(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Op,_u,Dp,Lp,Mp,Zl=!1,$i=[],us=null,ds=null,hs=null,Gn=new Map,Kn=new Map,ss=[],zv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function lh(e,t){switch(e){case"focusin":case"focusout":us=null;break;case"dragenter":case"dragleave":ds=null;break;case"mouseover":case"mouseout":hs=null;break;case"pointerover":case"pointerout":Gn.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Kn.delete(t.pointerId)}}function dn(e,t,s,r,n,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:s,eventSystemFlags:r,nativeEvent:a,targetContainers:[n]},t!==null&&(t=wi(t),t!==null&&_u(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,n!==null&&t.indexOf(n)===-1&&t.push(n),e)}function Vv(e,t,s,r,n){switch(t){case"focusin":return us=dn(us,e,t,s,r,n),!0;case"dragenter":return ds=dn(ds,e,t,s,r,n),!0;case"mouseover":return hs=dn(hs,e,t,s,r,n),!0;case"pointerover":var a=n.pointerId;return Gn.set(a,dn(Gn.get(a)||null,e,t,s,r,n)),!0;case"gotpointercapture":return a=n.pointerId,Kn.set(a,dn(Kn.get(a)||null,e,t,s,r,n)),!0}return!1}function Ip(e){var t=Bs(e.target);if(t!==null){var s=nr(t);if(s!==null){if(t=s.tag,t===13){if(t=kp(s),t!==null){e.blockedOn=t,Mp(e.priority,function(){Dp(s)});return}}else if(t===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function la(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var s=ec(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(s===null){s=e.nativeEvent;var r=new s.constructor(s.type,s);Kl=r,s.target.dispatchEvent(r),Kl=null}else return t=wi(s),t!==null&&_u(t),e.blockedOn=s,!1;t.shift()}return!0}function ch(e,t,s){la(e)&&s.delete(t)}function Bv(){Zl=!1,us!==null&&la(us)&&(us=null),ds!==null&&la(ds)&&(ds=null),hs!==null&&la(hs)&&(hs=null),Gn.forEach(ch),Kn.forEach(ch)}function hn(e,t){e.blockedOn===t&&(e.blockedOn=null,Zl||(Zl=!0,Xe.unstable_scheduleCallback(Xe.unstable_NormalPriority,Bv)))}function Qn(e){function t(n){return hn(n,e)}if(0<$i.length){hn($i[0],e);for(var s=1;s<$i.length;s++){var r=$i[s];r.blockedOn===e&&(r.blockedOn=null)}}for(us!==null&&hn(us,e),ds!==null&&hn(ds,e),hs!==null&&hn(hs,e),Gn.forEach(t),Kn.forEach(t),s=0;s<ss.length;s++)r=ss[s],r.blockedOn===e&&(r.blockedOn=null);for(;0<ss.length&&(s=ss[0],s.blockedOn===null);)Ip(s),s.blockedOn===null&&ss.shift()}var Dr=Kt.ReactCurrentBatchConfig,Pa=!0;function Uv(e,t,s,r){var n=q,a=Dr.transition;Dr.transition=null;try{q=1,Cu(e,t,s,r)}finally{q=n,Dr.transition=a}}function Wv(e,t,s,r){var n=q,a=Dr.transition;Dr.transition=null;try{q=4,Cu(e,t,s,r)}finally{q=n,Dr.transition=a}}function Cu(e,t,s,r){if(Pa){var n=ec(e,t,s,r);if(n===null)tl(e,t,r,Ea,s),lh(e,r);else if(Vv(n,e,t,s,r))r.stopPropagation();else if(lh(e,r),t&4&&-1<zv.indexOf(e)){for(;n!==null;){var a=wi(n);if(a!==null&&Op(a),a=ec(e,t,s,r),a===null&&tl(e,t,r,Ea,s),a===n)break;n=a}n!==null&&r.stopPropagation()}else tl(e,t,r,null,s)}}var Ea=null;function ec(e,t,s,r){if(Ea=null,e=Nu(r),e=Bs(e),e!==null)if(t=nr(e),t===null)e=null;else if(s=t.tag,s===13){if(e=kp(t),e!==null)return e;e=null}else if(s===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ea=e,null}function $p(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Av()){case Su:return 1;case Ep:return 4;case _a:case Rv:return 16;case Tp:return 536870912;default:return 16}default:return 16}}var as=null,Pu=null,ca=null;function Fp(){if(ca)return ca;var e,t=Pu,s=t.length,r,n="value"in as?as.value:as.textContent,a=n.length;for(e=0;e<s&&t[e]===n[e];e++);var o=s-e;for(r=1;r<=o&&t[s-r]===n[a-r];r++);return ca=n.slice(e,1<r?1-r:void 0)}function ua(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Fi(){return!0}function uh(){return!1}function et(e){function t(s,r,n,a,o){this._reactName=s,this._targetInst=n,this.type=r,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(s=e[l],this[l]=s?s(a):a[l]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Fi:uh,this.isPropagationStopped=uh,this}return ie(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Fi)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Fi)},persist:function(){},isPersistent:Fi}),t}var Zr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Eu=et(Zr),vi=ie({},Zr,{view:0,detail:0}),qv=et(vi),Ho,Go,mn,ho=ie({},vi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Tu,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==mn&&(mn&&e.type==="mousemove"?(Ho=e.screenX-mn.screenX,Go=e.screenY-mn.screenY):Go=Ho=0,mn=e),Ho)},movementY:function(e){return"movementY"in e?e.movementY:Go}}),dh=et(ho),Hv=ie({},ho,{dataTransfer:0}),Gv=et(Hv),Kv=ie({},vi,{relatedTarget:0}),Ko=et(Kv),Qv=ie({},Zr,{animationName:0,elapsedTime:0,pseudoElement:0}),Yv=et(Qv),Jv=ie({},Zr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Xv=et(Jv),Zv=ie({},Zr,{data:0}),hh=et(Zv),e1={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},t1={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},s1={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function r1(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=s1[e])?!!t[e]:!1}function Tu(){return r1}var n1=ie({},vi,{key:function(e){if(e.key){var t=e1[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ua(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?t1[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Tu,charCode:function(e){return e.type==="keypress"?ua(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ua(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),i1=et(n1),a1=ie({},ho,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),mh=et(a1),o1=ie({},vi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Tu}),l1=et(o1),c1=ie({},Zr,{propertyName:0,elapsedTime:0,pseudoElement:0}),u1=et(c1),d1=ie({},ho,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),h1=et(d1),m1=[9,13,27,32],Au=zt&&"CompositionEvent"in window,Cn=null;zt&&"documentMode"in document&&(Cn=document.documentMode);var f1=zt&&"TextEvent"in window&&!Cn,zp=zt&&(!Au||Cn&&8<Cn&&11>=Cn),fh=" ",ph=!1;function Vp(e,t){switch(e){case"keyup":return m1.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bp(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var gr=!1;function p1(e,t){switch(e){case"compositionend":return Bp(t);case"keypress":return t.which!==32?null:(ph=!0,fh);case"textInput":return e=t.data,e===fh&&ph?null:e;default:return null}}function g1(e,t){if(gr)return e==="compositionend"||!Au&&Vp(e,t)?(e=Fp(),ca=Pu=as=null,gr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return zp&&t.locale!=="ko"?null:t.data;default:return null}}var x1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function gh(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!x1[e.type]:t==="textarea"}function Up(e,t,s,r){wp(r),t=Ta(t,"onChange"),0<t.length&&(s=new Eu("onChange","change",null,s,r),e.push({event:s,listeners:t}))}var Pn=null,Yn=null;function y1(e){e0(e,0)}function mo(e){var t=vr(e);if(mp(t))return e}function v1(e,t){if(e==="change")return t}var Wp=!1;if(zt){var Qo;if(zt){var Yo="oninput"in document;if(!Yo){var xh=document.createElement("div");xh.setAttribute("oninput","return;"),Yo=typeof xh.oninput=="function"}Qo=Yo}else Qo=!1;Wp=Qo&&(!document.documentMode||9<document.documentMode)}function yh(){Pn&&(Pn.detachEvent("onpropertychange",qp),Yn=Pn=null)}function qp(e){if(e.propertyName==="value"&&mo(Yn)){var t=[];Up(t,Yn,e,Nu(e)),Sp(y1,t)}}function w1(e,t,s){e==="focusin"?(yh(),Pn=t,Yn=s,Pn.attachEvent("onpropertychange",qp)):e==="focusout"&&yh()}function b1(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return mo(Yn)}function j1(e,t){if(e==="click")return mo(t)}function N1(e,t){if(e==="input"||e==="change")return mo(t)}function S1(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var bt=typeof Object.is=="function"?Object.is:S1;function Jn(e,t){if(bt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var s=Object.keys(e),r=Object.keys(t);if(s.length!==r.length)return!1;for(r=0;r<s.length;r++){var n=s[r];if(!Ml.call(t,n)||!bt(e[n],t[n]))return!1}return!0}function vh(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function wh(e,t){var s=vh(e);e=0;for(var r;s;){if(s.nodeType===3){if(r=e+s.textContent.length,e<=t&&r>=t)return{node:s,offset:t-e};e=r}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=vh(s)}}function Hp(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Hp(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Gp(){for(var e=window,t=Na();t instanceof e.HTMLIFrameElement;){try{var s=typeof t.contentWindow.location.href=="string"}catch{s=!1}if(s)e=t.contentWindow;else break;t=Na(e.document)}return t}function Ru(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function k1(e){var t=Gp(),s=e.focusedElem,r=e.selectionRange;if(t!==s&&s&&s.ownerDocument&&Hp(s.ownerDocument.documentElement,s)){if(r!==null&&Ru(s)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in s)s.selectionStart=t,s.selectionEnd=Math.min(e,s.value.length);else if(e=(t=s.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var n=s.textContent.length,a=Math.min(r.start,n);r=r.end===void 0?a:Math.min(r.end,n),!e.extend&&a>r&&(n=r,r=a,a=n),n=wh(s,a);var o=wh(s,r);n&&o&&(e.rangeCount!==1||e.anchorNode!==n.node||e.anchorOffset!==n.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(n.node,n.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=s;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<t.length;s++)e=t[s],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var _1=zt&&"documentMode"in document&&11>=document.documentMode,xr=null,tc=null,En=null,sc=!1;function bh(e,t,s){var r=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;sc||xr==null||xr!==Na(r)||(r=xr,"selectionStart"in r&&Ru(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),En&&Jn(En,r)||(En=r,r=Ta(tc,"onSelect"),0<r.length&&(t=new Eu("onSelect","select",null,t,s),e.push({event:t,listeners:r}),t.target=xr)))}function zi(e,t){var s={};return s[e.toLowerCase()]=t.toLowerCase(),s["Webkit"+e]="webkit"+t,s["Moz"+e]="moz"+t,s}var yr={animationend:zi("Animation","AnimationEnd"),animationiteration:zi("Animation","AnimationIteration"),animationstart:zi("Animation","AnimationStart"),transitionend:zi("Transition","TransitionEnd")},Jo={},Kp={};zt&&(Kp=document.createElement("div").style,"AnimationEvent"in window||(delete yr.animationend.animation,delete yr.animationiteration.animation,delete yr.animationstart.animation),"TransitionEvent"in window||delete yr.transitionend.transition);function fo(e){if(Jo[e])return Jo[e];if(!yr[e])return e;var t=yr[e],s;for(s in t)if(t.hasOwnProperty(s)&&s in Kp)return Jo[e]=t[s];return e}var Qp=fo("animationend"),Yp=fo("animationiteration"),Jp=fo("animationstart"),Xp=fo("transitionend"),Zp=new Map,jh="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ks(e,t){Zp.set(e,t),rr(t,[e])}for(var Xo=0;Xo<jh.length;Xo++){var Zo=jh[Xo],C1=Zo.toLowerCase(),P1=Zo[0].toUpperCase()+Zo.slice(1);ks(C1,"on"+P1)}ks(Qp,"onAnimationEnd");ks(Yp,"onAnimationIteration");ks(Jp,"onAnimationStart");ks("dblclick","onDoubleClick");ks("focusin","onFocus");ks("focusout","onBlur");ks(Xp,"onTransitionEnd");zr("onMouseEnter",["mouseout","mouseover"]);zr("onMouseLeave",["mouseout","mouseover"]);zr("onPointerEnter",["pointerout","pointerover"]);zr("onPointerLeave",["pointerout","pointerover"]);rr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));rr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));rr("onBeforeInput",["compositionend","keypress","textInput","paste"]);rr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));rr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));rr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var jn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),E1=new Set("cancel close invalid load scroll toggle".split(" ").concat(jn));function Nh(e,t,s){var r=e.type||"unknown-event";e.currentTarget=s,Cv(r,t,void 0,e),e.currentTarget=null}function e0(e,t){t=(t&4)!==0;for(var s=0;s<e.length;s++){var r=e[s],n=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var l=r[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==a&&n.isPropagationStopped())break e;Nh(n,l,u),a=c}else for(o=0;o<r.length;o++){if(l=r[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==a&&n.isPropagationStopped())break e;Nh(n,l,u),a=c}}}if(ka)throw e=Jl,ka=!1,Jl=null,e}function Y(e,t){var s=t[oc];s===void 0&&(s=t[oc]=new Set);var r=e+"__bubble";s.has(r)||(t0(t,e,2,!1),s.add(r))}function el(e,t,s){var r=0;t&&(r|=4),t0(s,e,r,t)}var Vi="_reactListening"+Math.random().toString(36).slice(2);function Xn(e){if(!e[Vi]){e[Vi]=!0,lp.forEach(function(s){s!=="selectionchange"&&(E1.has(s)||el(s,!1,e),el(s,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Vi]||(t[Vi]=!0,el("selectionchange",!1,t))}}function t0(e,t,s,r){switch($p(t)){case 1:var n=Uv;break;case 4:n=Wv;break;default:n=Cu}s=n.bind(null,t,s,e),n=void 0,!Yl||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(n=!0),r?n!==void 0?e.addEventListener(t,s,{capture:!0,passive:n}):e.addEventListener(t,s,!0):n!==void 0?e.addEventListener(t,s,{passive:n}):e.addEventListener(t,s,!1)}function tl(e,t,s,r,n){var a=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===n||l.nodeType===8&&l.parentNode===n)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===n||c.nodeType===8&&c.parentNode===n))return;o=o.return}for(;l!==null;){if(o=Bs(l),o===null)return;if(c=o.tag,c===5||c===6){r=a=o;continue e}l=l.parentNode}}r=r.return}Sp(function(){var u=a,d=Nu(s),h=[];e:{var m=Zp.get(e);if(m!==void 0){var x=Eu,w=e;switch(e){case"keypress":if(ua(s)===0)break e;case"keydown":case"keyup":x=i1;break;case"focusin":w="focus",x=Ko;break;case"focusout":w="blur",x=Ko;break;case"beforeblur":case"afterblur":x=Ko;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":x=dh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":x=Gv;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":x=l1;break;case Qp:case Yp:case Jp:x=Yv;break;case Xp:x=u1;break;case"scroll":x=qv;break;case"wheel":x=h1;break;case"copy":case"cut":case"paste":x=Xv;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":x=mh}var b=(t&4)!==0,y=!b&&e==="scroll",g=b?m!==null?m+"Capture":null:m;b=[];for(var p=u,f;p!==null;){f=p;var j=f.stateNode;if(f.tag===5&&j!==null&&(f=j,g!==null&&(j=Hn(p,g),j!=null&&b.push(Zn(p,j,f)))),y)break;p=p.return}0<b.length&&(m=new x(m,w,null,s,d),h.push({event:m,listeners:b}))}}if(!(t&7)){e:{if(m=e==="mouseover"||e==="pointerover",x=e==="mouseout"||e==="pointerout",m&&s!==Kl&&(w=s.relatedTarget||s.fromElement)&&(Bs(w)||w[Vt]))break e;if((x||m)&&(m=d.window===d?d:(m=d.ownerDocument)?m.defaultView||m.parentWindow:window,x?(w=s.relatedTarget||s.toElement,x=u,w=w?Bs(w):null,w!==null&&(y=nr(w),w!==y||w.tag!==5&&w.tag!==6)&&(w=null)):(x=null,w=u),x!==w)){if(b=dh,j="onMouseLeave",g="onMouseEnter",p="mouse",(e==="pointerout"||e==="pointerover")&&(b=mh,j="onPointerLeave",g="onPointerEnter",p="pointer"),y=x==null?m:vr(x),f=w==null?m:vr(w),m=new b(j,p+"leave",x,s,d),m.target=y,m.relatedTarget=f,j=null,Bs(d)===u&&(b=new b(g,p+"enter",w,s,d),b.target=f,b.relatedTarget=y,j=b),y=j,x&&w)t:{for(b=x,g=w,p=0,f=b;f;f=or(f))p++;for(f=0,j=g;j;j=or(j))f++;for(;0<p-f;)b=or(b),p--;for(;0<f-p;)g=or(g),f--;for(;p--;){if(b===g||g!==null&&b===g.alternate)break t;b=or(b),g=or(g)}b=null}else b=null;x!==null&&Sh(h,m,x,b,!1),w!==null&&y!==null&&Sh(h,y,w,b,!0)}}e:{if(m=u?vr(u):window,x=m.nodeName&&m.nodeName.toLowerCase(),x==="select"||x==="input"&&m.type==="file")var N=v1;else if(gh(m))if(Wp)N=N1;else{N=b1;var S=w1}else(x=m.nodeName)&&x.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(N=j1);if(N&&(N=N(e,u))){Up(h,N,s,d);break e}S&&S(e,m,u),e==="focusout"&&(S=m._wrapperState)&&S.controlled&&m.type==="number"&&Ul(m,"number",m.value)}switch(S=u?vr(u):window,e){case"focusin":(gh(S)||S.contentEditable==="true")&&(xr=S,tc=u,En=null);break;case"focusout":En=tc=xr=null;break;case"mousedown":sc=!0;break;case"contextmenu":case"mouseup":case"dragend":sc=!1,bh(h,s,d);break;case"selectionchange":if(_1)break;case"keydown":case"keyup":bh(h,s,d)}var _;if(Au)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else gr?Vp(e,s)&&(k="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(k="onCompositionStart");k&&(zp&&s.locale!=="ko"&&(gr||k!=="onCompositionStart"?k==="onCompositionEnd"&&gr&&(_=Fp()):(as=d,Pu="value"in as?as.value:as.textContent,gr=!0)),S=Ta(u,k),0<S.length&&(k=new hh(k,e,null,s,d),h.push({event:k,listeners:S}),_?k.data=_:(_=Bp(s),_!==null&&(k.data=_)))),(_=f1?p1(e,s):g1(e,s))&&(u=Ta(u,"onBeforeInput"),0<u.length&&(d=new hh("onBeforeInput","beforeinput",null,s,d),h.push({event:d,listeners:u}),d.data=_))}e0(h,t)})}function Zn(e,t,s){return{instance:e,listener:t,currentTarget:s}}function Ta(e,t){for(var s=t+"Capture",r=[];e!==null;){var n=e,a=n.stateNode;n.tag===5&&a!==null&&(n=a,a=Hn(e,s),a!=null&&r.unshift(Zn(e,a,n)),a=Hn(e,t),a!=null&&r.push(Zn(e,a,n))),e=e.return}return r}function or(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Sh(e,t,s,r,n){for(var a=t._reactName,o=[];s!==null&&s!==r;){var l=s,c=l.alternate,u=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&u!==null&&(l=u,n?(c=Hn(s,a),c!=null&&o.unshift(Zn(s,c,l))):n||(c=Hn(s,a),c!=null&&o.push(Zn(s,c,l)))),s=s.return}o.length!==0&&e.push({event:t,listeners:o})}var T1=/\r\n?/g,A1=/\u0000|\uFFFD/g;function kh(e){return(typeof e=="string"?e:""+e).replace(T1,`
`).replace(A1,"")}function Bi(e,t,s){if(t=kh(t),kh(e)!==t&&s)throw Error(P(425))}function Aa(){}var rc=null,nc=null;function ic(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var ac=typeof setTimeout=="function"?setTimeout:void 0,R1=typeof clearTimeout=="function"?clearTimeout:void 0,_h=typeof Promise=="function"?Promise:void 0,O1=typeof queueMicrotask=="function"?queueMicrotask:typeof _h<"u"?function(e){return _h.resolve(null).then(e).catch(D1)}:ac;function D1(e){setTimeout(function(){throw e})}function sl(e,t){var s=t,r=0;do{var n=s.nextSibling;if(e.removeChild(s),n&&n.nodeType===8)if(s=n.data,s==="/$"){if(r===0){e.removeChild(n),Qn(t);return}r--}else s!=="$"&&s!=="$?"&&s!=="$!"||r++;s=n}while(s);Qn(t)}function ms(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Ch(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"){if(t===0)return e;t--}else s==="/$"&&t++}e=e.previousSibling}return null}var en=Math.random().toString(36).slice(2),_t="__reactFiber$"+en,ei="__reactProps$"+en,Vt="__reactContainer$"+en,oc="__reactEvents$"+en,L1="__reactListeners$"+en,M1="__reactHandles$"+en;function Bs(e){var t=e[_t];if(t)return t;for(var s=e.parentNode;s;){if(t=s[Vt]||s[_t]){if(s=t.alternate,t.child!==null||s!==null&&s.child!==null)for(e=Ch(e);e!==null;){if(s=e[_t])return s;e=Ch(e)}return t}e=s,s=e.parentNode}return null}function wi(e){return e=e[_t]||e[Vt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function vr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(P(33))}function po(e){return e[ei]||null}var lc=[],wr=-1;function _s(e){return{current:e}}function X(e){0>wr||(e.current=lc[wr],lc[wr]=null,wr--)}function Q(e,t){wr++,lc[wr]=e.current,e.current=t}var ws={},Ae=_s(ws),We=_s(!1),Xs=ws;function Vr(e,t){var s=e.type.contextTypes;if(!s)return ws;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var n={},a;for(a in s)n[a]=t[a];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=n),n}function qe(e){return e=e.childContextTypes,e!=null}function Ra(){X(We),X(Ae)}function Ph(e,t,s){if(Ae.current!==ws)throw Error(P(168));Q(Ae,t),Q(We,s)}function s0(e,t,s){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return s;r=r.getChildContext();for(var n in r)if(!(n in t))throw Error(P(108,wv(e)||"Unknown",n));return ie({},s,r)}function Oa(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ws,Xs=Ae.current,Q(Ae,e),Q(We,We.current),!0}function Eh(e,t,s){var r=e.stateNode;if(!r)throw Error(P(169));s?(e=s0(e,t,Xs),r.__reactInternalMemoizedMergedChildContext=e,X(We),X(Ae),Q(Ae,e)):X(We),Q(We,s)}var Mt=null,go=!1,rl=!1;function r0(e){Mt===null?Mt=[e]:Mt.push(e)}function I1(e){go=!0,r0(e)}function Cs(){if(!rl&&Mt!==null){rl=!0;var e=0,t=q;try{var s=Mt;for(q=1;e<s.length;e++){var r=s[e];do r=r(!0);while(r!==null)}Mt=null,go=!1}catch(n){throw Mt!==null&&(Mt=Mt.slice(e+1)),Pp(Su,Cs),n}finally{q=t,rl=!1}}return null}var br=[],jr=0,Da=null,La=0,rt=[],nt=0,Zs=null,It=1,$t="";function Is(e,t){br[jr++]=La,br[jr++]=Da,Da=e,La=t}function n0(e,t,s){rt[nt++]=It,rt[nt++]=$t,rt[nt++]=Zs,Zs=e;var r=It;e=$t;var n=32-vt(r)-1;r&=~(1<<n),s+=1;var a=32-vt(t)+n;if(30<a){var o=n-n%5;a=(r&(1<<o)-1).toString(32),r>>=o,n-=o,It=1<<32-vt(t)+n|s<<n|r,$t=a+e}else It=1<<a|s<<n|r,$t=e}function Ou(e){e.return!==null&&(Is(e,1),n0(e,1,0))}function Du(e){for(;e===Da;)Da=br[--jr],br[jr]=null,La=br[--jr],br[jr]=null;for(;e===Zs;)Zs=rt[--nt],rt[nt]=null,$t=rt[--nt],rt[nt]=null,It=rt[--nt],rt[nt]=null}var Je=null,Ye=null,ee=!1,yt=null;function i0(e,t){var s=it(5,null,null,0);s.elementType="DELETED",s.stateNode=t,s.return=e,t=e.deletions,t===null?(e.deletions=[s],e.flags|=16):t.push(s)}function Th(e,t){switch(e.tag){case 5:var s=e.type;return t=t.nodeType!==1||s.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Je=e,Ye=ms(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Je=e,Ye=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(s=Zs!==null?{id:It,overflow:$t}:null,e.memoizedState={dehydrated:t,treeContext:s,retryLane:1073741824},s=it(18,null,null,0),s.stateNode=t,s.return=e,e.child=s,Je=e,Ye=null,!0):!1;default:return!1}}function cc(e){return(e.mode&1)!==0&&(e.flags&128)===0}function uc(e){if(ee){var t=Ye;if(t){var s=t;if(!Th(e,t)){if(cc(e))throw Error(P(418));t=ms(s.nextSibling);var r=Je;t&&Th(e,t)?i0(r,s):(e.flags=e.flags&-4097|2,ee=!1,Je=e)}}else{if(cc(e))throw Error(P(418));e.flags=e.flags&-4097|2,ee=!1,Je=e}}}function Ah(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Je=e}function Ui(e){if(e!==Je)return!1;if(!ee)return Ah(e),ee=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!ic(e.type,e.memoizedProps)),t&&(t=Ye)){if(cc(e))throw a0(),Error(P(418));for(;t;)i0(e,t),t=ms(t.nextSibling)}if(Ah(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(P(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"){if(t===0){Ye=ms(e.nextSibling);break e}t--}else s!=="$"&&s!=="$!"&&s!=="$?"||t++}e=e.nextSibling}Ye=null}}else Ye=Je?ms(e.stateNode.nextSibling):null;return!0}function a0(){for(var e=Ye;e;)e=ms(e.nextSibling)}function Br(){Ye=Je=null,ee=!1}function Lu(e){yt===null?yt=[e]:yt.push(e)}var $1=Kt.ReactCurrentBatchConfig;function fn(e,t,s){if(e=s.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(s._owner){if(s=s._owner,s){if(s.tag!==1)throw Error(P(309));var r=s.stateNode}if(!r)throw Error(P(147,e));var n=r,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(o){var l=n.refs;o===null?delete l[a]:l[a]=o},t._stringRef=a,t)}if(typeof e!="string")throw Error(P(284));if(!s._owner)throw Error(P(290,e))}return e}function Wi(e,t){throw e=Object.prototype.toString.call(t),Error(P(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Rh(e){var t=e._init;return t(e._payload)}function o0(e){function t(g,p){if(e){var f=g.deletions;f===null?(g.deletions=[p],g.flags|=16):f.push(p)}}function s(g,p){if(!e)return null;for(;p!==null;)t(g,p),p=p.sibling;return null}function r(g,p){for(g=new Map;p!==null;)p.key!==null?g.set(p.key,p):g.set(p.index,p),p=p.sibling;return g}function n(g,p){return g=xs(g,p),g.index=0,g.sibling=null,g}function a(g,p,f){return g.index=f,e?(f=g.alternate,f!==null?(f=f.index,f<p?(g.flags|=2,p):f):(g.flags|=2,p)):(g.flags|=1048576,p)}function o(g){return e&&g.alternate===null&&(g.flags|=2),g}function l(g,p,f,j){return p===null||p.tag!==6?(p=ul(f,g.mode,j),p.return=g,p):(p=n(p,f),p.return=g,p)}function c(g,p,f,j){var N=f.type;return N===pr?d(g,p,f.props.children,j,f.key):p!==null&&(p.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Zt&&Rh(N)===p.type)?(j=n(p,f.props),j.ref=fn(g,p,f),j.return=g,j):(j=xa(f.type,f.key,f.props,null,g.mode,j),j.ref=fn(g,p,f),j.return=g,j)}function u(g,p,f,j){return p===null||p.tag!==4||p.stateNode.containerInfo!==f.containerInfo||p.stateNode.implementation!==f.implementation?(p=dl(f,g.mode,j),p.return=g,p):(p=n(p,f.children||[]),p.return=g,p)}function d(g,p,f,j,N){return p===null||p.tag!==7?(p=Qs(f,g.mode,j,N),p.return=g,p):(p=n(p,f),p.return=g,p)}function h(g,p,f){if(typeof p=="string"&&p!==""||typeof p=="number")return p=ul(""+p,g.mode,f),p.return=g,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case Oi:return f=xa(p.type,p.key,p.props,null,g.mode,f),f.ref=fn(g,null,p),f.return=g,f;case fr:return p=dl(p,g.mode,f),p.return=g,p;case Zt:var j=p._init;return h(g,j(p._payload),f)}if(wn(p)||cn(p))return p=Qs(p,g.mode,f,null),p.return=g,p;Wi(g,p)}return null}function m(g,p,f,j){var N=p!==null?p.key:null;if(typeof f=="string"&&f!==""||typeof f=="number")return N!==null?null:l(g,p,""+f,j);if(typeof f=="object"&&f!==null){switch(f.$$typeof){case Oi:return f.key===N?c(g,p,f,j):null;case fr:return f.key===N?u(g,p,f,j):null;case Zt:return N=f._init,m(g,p,N(f._payload),j)}if(wn(f)||cn(f))return N!==null?null:d(g,p,f,j,null);Wi(g,f)}return null}function x(g,p,f,j,N){if(typeof j=="string"&&j!==""||typeof j=="number")return g=g.get(f)||null,l(p,g,""+j,N);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case Oi:return g=g.get(j.key===null?f:j.key)||null,c(p,g,j,N);case fr:return g=g.get(j.key===null?f:j.key)||null,u(p,g,j,N);case Zt:var S=j._init;return x(g,p,f,S(j._payload),N)}if(wn(j)||cn(j))return g=g.get(f)||null,d(p,g,j,N,null);Wi(p,j)}return null}function w(g,p,f,j){for(var N=null,S=null,_=p,k=p=0,A=null;_!==null&&k<f.length;k++){_.index>k?(A=_,_=null):A=_.sibling;var T=m(g,_,f[k],j);if(T===null){_===null&&(_=A);break}e&&_&&T.alternate===null&&t(g,_),p=a(T,p,k),S===null?N=T:S.sibling=T,S=T,_=A}if(k===f.length)return s(g,_),ee&&Is(g,k),N;if(_===null){for(;k<f.length;k++)_=h(g,f[k],j),_!==null&&(p=a(_,p,k),S===null?N=_:S.sibling=_,S=_);return ee&&Is(g,k),N}for(_=r(g,_);k<f.length;k++)A=x(_,g,k,f[k],j),A!==null&&(e&&A.alternate!==null&&_.delete(A.key===null?k:A.key),p=a(A,p,k),S===null?N=A:S.sibling=A,S=A);return e&&_.forEach(function(H){return t(g,H)}),ee&&Is(g,k),N}function b(g,p,f,j){var N=cn(f);if(typeof N!="function")throw Error(P(150));if(f=N.call(f),f==null)throw Error(P(151));for(var S=N=null,_=p,k=p=0,A=null,T=f.next();_!==null&&!T.done;k++,T=f.next()){_.index>k?(A=_,_=null):A=_.sibling;var H=m(g,_,T.value,j);if(H===null){_===null&&(_=A);break}e&&_&&H.alternate===null&&t(g,_),p=a(H,p,k),S===null?N=H:S.sibling=H,S=H,_=A}if(T.done)return s(g,_),ee&&Is(g,k),N;if(_===null){for(;!T.done;k++,T=f.next())T=h(g,T.value,j),T!==null&&(p=a(T,p,k),S===null?N=T:S.sibling=T,S=T);return ee&&Is(g,k),N}for(_=r(g,_);!T.done;k++,T=f.next())T=x(_,g,k,T.value,j),T!==null&&(e&&T.alternate!==null&&_.delete(T.key===null?k:T.key),p=a(T,p,k),S===null?N=T:S.sibling=T,S=T);return e&&_.forEach(function(B){return t(g,B)}),ee&&Is(g,k),N}function y(g,p,f,j){if(typeof f=="object"&&f!==null&&f.type===pr&&f.key===null&&(f=f.props.children),typeof f=="object"&&f!==null){switch(f.$$typeof){case Oi:e:{for(var N=f.key,S=p;S!==null;){if(S.key===N){if(N=f.type,N===pr){if(S.tag===7){s(g,S.sibling),p=n(S,f.props.children),p.return=g,g=p;break e}}else if(S.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Zt&&Rh(N)===S.type){s(g,S.sibling),p=n(S,f.props),p.ref=fn(g,S,f),p.return=g,g=p;break e}s(g,S);break}else t(g,S);S=S.sibling}f.type===pr?(p=Qs(f.props.children,g.mode,j,f.key),p.return=g,g=p):(j=xa(f.type,f.key,f.props,null,g.mode,j),j.ref=fn(g,p,f),j.return=g,g=j)}return o(g);case fr:e:{for(S=f.key;p!==null;){if(p.key===S)if(p.tag===4&&p.stateNode.containerInfo===f.containerInfo&&p.stateNode.implementation===f.implementation){s(g,p.sibling),p=n(p,f.children||[]),p.return=g,g=p;break e}else{s(g,p);break}else t(g,p);p=p.sibling}p=dl(f,g.mode,j),p.return=g,g=p}return o(g);case Zt:return S=f._init,y(g,p,S(f._payload),j)}if(wn(f))return w(g,p,f,j);if(cn(f))return b(g,p,f,j);Wi(g,f)}return typeof f=="string"&&f!==""||typeof f=="number"?(f=""+f,p!==null&&p.tag===6?(s(g,p.sibling),p=n(p,f),p.return=g,g=p):(s(g,p),p=ul(f,g.mode,j),p.return=g,g=p),o(g)):s(g,p)}return y}var Ur=o0(!0),l0=o0(!1),Ma=_s(null),Ia=null,Nr=null,Mu=null;function Iu(){Mu=Nr=Ia=null}function $u(e){var t=Ma.current;X(Ma),e._currentValue=t}function dc(e,t,s){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===s)break;e=e.return}}function Lr(e,t){Ia=e,Mu=Nr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Be=!0),e.firstContext=null)}function ct(e){var t=e._currentValue;if(Mu!==e)if(e={context:e,memoizedValue:t,next:null},Nr===null){if(Ia===null)throw Error(P(308));Nr=e,Ia.dependencies={lanes:0,firstContext:e}}else Nr=Nr.next=e;return t}var Us=null;function Fu(e){Us===null?Us=[e]:Us.push(e)}function c0(e,t,s,r){var n=t.interleaved;return n===null?(s.next=s,Fu(t)):(s.next=n.next,n.next=s),t.interleaved=s,Bt(e,r)}function Bt(e,t){e.lanes|=t;var s=e.alternate;for(s!==null&&(s.lanes|=t),s=e,e=e.return;e!==null;)e.childLanes|=t,s=e.alternate,s!==null&&(s.childLanes|=t),s=e,e=e.return;return s.tag===3?s.stateNode:null}var es=!1;function zu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function u0(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ft(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function fs(e,t,s){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,U&2){var n=r.pending;return n===null?t.next=t:(t.next=n.next,n.next=t),r.pending=t,Bt(e,s)}return n=r.interleaved,n===null?(t.next=t,Fu(r)):(t.next=n.next,n.next=t),r.interleaved=t,Bt(e,s)}function da(e,t,s){if(t=t.updateQueue,t!==null&&(t=t.shared,(s&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,s|=r,t.lanes=s,ku(e,s)}}function Oh(e,t){var s=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,s===r)){var n=null,a=null;if(s=s.firstBaseUpdate,s!==null){do{var o={eventTime:s.eventTime,lane:s.lane,tag:s.tag,payload:s.payload,callback:s.callback,next:null};a===null?n=a=o:a=a.next=o,s=s.next}while(s!==null);a===null?n=a=t:a=a.next=t}else n=a=t;s={baseState:r.baseState,firstBaseUpdate:n,lastBaseUpdate:a,shared:r.shared,effects:r.effects},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=t:e.next=t,s.lastBaseUpdate=t}function $a(e,t,s,r){var n=e.updateQueue;es=!1;var a=n.firstBaseUpdate,o=n.lastBaseUpdate,l=n.shared.pending;if(l!==null){n.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?a=u:o.next=u,o=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(a!==null){var h=n.baseState;o=0,d=u=c=null,l=a;do{var m=l.lane,x=l.eventTime;if((r&m)===m){d!==null&&(d=d.next={eventTime:x,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var w=e,b=l;switch(m=t,x=s,b.tag){case 1:if(w=b.payload,typeof w=="function"){h=w.call(x,h,m);break e}h=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=b.payload,m=typeof w=="function"?w.call(x,h,m):w,m==null)break e;h=ie({},h,m);break e;case 2:es=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,m=n.effects,m===null?n.effects=[l]:m.push(l))}else x={eventTime:x,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=x,c=h):d=d.next=x,o|=m;if(l=l.next,l===null){if(l=n.shared.pending,l===null)break;m=l,l=m.next,m.next=null,n.lastBaseUpdate=m,n.shared.pending=null}}while(!0);if(d===null&&(c=h),n.baseState=c,n.firstBaseUpdate=u,n.lastBaseUpdate=d,t=n.shared.interleaved,t!==null){n=t;do o|=n.lane,n=n.next;while(n!==t)}else a===null&&(n.shared.lanes=0);tr|=o,e.lanes=o,e.memoizedState=h}}function Dh(e,t,s){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],n=r.callback;if(n!==null){if(r.callback=null,r=s,typeof n!="function")throw Error(P(191,n));n.call(r)}}}var bi={},Pt=_s(bi),ti=_s(bi),si=_s(bi);function Ws(e){if(e===bi)throw Error(P(174));return e}function Vu(e,t){switch(Q(si,t),Q(ti,e),Q(Pt,bi),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ql(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=ql(t,e)}X(Pt),Q(Pt,t)}function Wr(){X(Pt),X(ti),X(si)}function d0(e){Ws(si.current);var t=Ws(Pt.current),s=ql(t,e.type);t!==s&&(Q(ti,e),Q(Pt,s))}function Bu(e){ti.current===e&&(X(Pt),X(ti))}var te=_s(0);function Fa(e){for(var t=e;t!==null;){if(t.tag===13){var s=t.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||s.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var nl=[];function Uu(){for(var e=0;e<nl.length;e++)nl[e]._workInProgressVersionPrimary=null;nl.length=0}var ha=Kt.ReactCurrentDispatcher,il=Kt.ReactCurrentBatchConfig,er=0,re=null,fe=null,ye=null,za=!1,Tn=!1,ri=0,F1=0;function _e(){throw Error(P(321))}function Wu(e,t){if(t===null)return!1;for(var s=0;s<t.length&&s<e.length;s++)if(!bt(e[s],t[s]))return!1;return!0}function qu(e,t,s,r,n,a){if(er=a,re=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ha.current=e===null||e.memoizedState===null?U1:W1,e=s(r,n),Tn){a=0;do{if(Tn=!1,ri=0,25<=a)throw Error(P(301));a+=1,ye=fe=null,t.updateQueue=null,ha.current=q1,e=s(r,n)}while(Tn)}if(ha.current=Va,t=fe!==null&&fe.next!==null,er=0,ye=fe=re=null,za=!1,t)throw Error(P(300));return e}function Hu(){var e=ri!==0;return ri=0,e}function kt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ye===null?re.memoizedState=ye=e:ye=ye.next=e,ye}function ut(){if(fe===null){var e=re.alternate;e=e!==null?e.memoizedState:null}else e=fe.next;var t=ye===null?re.memoizedState:ye.next;if(t!==null)ye=t,fe=e;else{if(e===null)throw Error(P(310));fe=e,e={memoizedState:fe.memoizedState,baseState:fe.baseState,baseQueue:fe.baseQueue,queue:fe.queue,next:null},ye===null?re.memoizedState=ye=e:ye=ye.next=e}return ye}function ni(e,t){return typeof t=="function"?t(e):t}function al(e){var t=ut(),s=t.queue;if(s===null)throw Error(P(311));s.lastRenderedReducer=e;var r=fe,n=r.baseQueue,a=s.pending;if(a!==null){if(n!==null){var o=n.next;n.next=a.next,a.next=o}r.baseQueue=n=a,s.pending=null}if(n!==null){a=n.next,r=r.baseState;var l=o=null,c=null,u=a;do{var d=u.lane;if((er&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=h,o=r):c=c.next=h,re.lanes|=d,tr|=d}u=u.next}while(u!==null&&u!==a);c===null?o=r:c.next=l,bt(r,t.memoizedState)||(Be=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=c,s.lastRenderedState=r}if(e=s.interleaved,e!==null){n=e;do a=n.lane,re.lanes|=a,tr|=a,n=n.next;while(n!==e)}else n===null&&(s.lanes=0);return[t.memoizedState,s.dispatch]}function ol(e){var t=ut(),s=t.queue;if(s===null)throw Error(P(311));s.lastRenderedReducer=e;var r=s.dispatch,n=s.pending,a=t.memoizedState;if(n!==null){s.pending=null;var o=n=n.next;do a=e(a,o.action),o=o.next;while(o!==n);bt(a,t.memoizedState)||(Be=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),s.lastRenderedState=a}return[a,r]}function h0(){}function m0(e,t){var s=re,r=ut(),n=t(),a=!bt(r.memoizedState,n);if(a&&(r.memoizedState=n,Be=!0),r=r.queue,Gu(g0.bind(null,s,r,e),[e]),r.getSnapshot!==t||a||ye!==null&&ye.memoizedState.tag&1){if(s.flags|=2048,ii(9,p0.bind(null,s,r,n,t),void 0,null),we===null)throw Error(P(349));er&30||f0(s,t,n)}return n}function f0(e,t,s){e.flags|=16384,e={getSnapshot:t,value:s},t=re.updateQueue,t===null?(t={lastEffect:null,stores:null},re.updateQueue=t,t.stores=[e]):(s=t.stores,s===null?t.stores=[e]:s.push(e))}function p0(e,t,s,r){t.value=s,t.getSnapshot=r,x0(t)&&y0(e)}function g0(e,t,s){return s(function(){x0(t)&&y0(e)})}function x0(e){var t=e.getSnapshot;e=e.value;try{var s=t();return!bt(e,s)}catch{return!0}}function y0(e){var t=Bt(e,1);t!==null&&wt(t,e,1,-1)}function Lh(e){var t=kt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ni,lastRenderedState:e},t.queue=e,e=e.dispatch=B1.bind(null,re,e),[t.memoizedState,e]}function ii(e,t,s,r){return e={tag:e,create:t,destroy:s,deps:r,next:null},t=re.updateQueue,t===null?(t={lastEffect:null,stores:null},re.updateQueue=t,t.lastEffect=e.next=e):(s=t.lastEffect,s===null?t.lastEffect=e.next=e:(r=s.next,s.next=e,e.next=r,t.lastEffect=e)),e}function v0(){return ut().memoizedState}function ma(e,t,s,r){var n=kt();re.flags|=e,n.memoizedState=ii(1|t,s,void 0,r===void 0?null:r)}function xo(e,t,s,r){var n=ut();r=r===void 0?null:r;var a=void 0;if(fe!==null){var o=fe.memoizedState;if(a=o.destroy,r!==null&&Wu(r,o.deps)){n.memoizedState=ii(t,s,a,r);return}}re.flags|=e,n.memoizedState=ii(1|t,s,a,r)}function Mh(e,t){return ma(8390656,8,e,t)}function Gu(e,t){return xo(2048,8,e,t)}function w0(e,t){return xo(4,2,e,t)}function b0(e,t){return xo(4,4,e,t)}function j0(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function N0(e,t,s){return s=s!=null?s.concat([e]):null,xo(4,4,j0.bind(null,t,e),s)}function Ku(){}function S0(e,t){var s=ut();t=t===void 0?null:t;var r=s.memoizedState;return r!==null&&t!==null&&Wu(t,r[1])?r[0]:(s.memoizedState=[e,t],e)}function k0(e,t){var s=ut();t=t===void 0?null:t;var r=s.memoizedState;return r!==null&&t!==null&&Wu(t,r[1])?r[0]:(e=e(),s.memoizedState=[e,t],e)}function _0(e,t,s){return er&21?(bt(s,t)||(s=Ap(),re.lanes|=s,tr|=s,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Be=!0),e.memoizedState=s)}function z1(e,t){var s=q;q=s!==0&&4>s?s:4,e(!0);var r=il.transition;il.transition={};try{e(!1),t()}finally{q=s,il.transition=r}}function C0(){return ut().memoizedState}function V1(e,t,s){var r=gs(e);if(s={lane:r,action:s,hasEagerState:!1,eagerState:null,next:null},P0(e))E0(t,s);else if(s=c0(e,t,s,r),s!==null){var n=Me();wt(s,e,r,n),T0(s,t,r)}}function B1(e,t,s){var r=gs(e),n={lane:r,action:s,hasEagerState:!1,eagerState:null,next:null};if(P0(e))E0(t,n);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var o=t.lastRenderedState,l=a(o,s);if(n.hasEagerState=!0,n.eagerState=l,bt(l,o)){var c=t.interleaved;c===null?(n.next=n,Fu(t)):(n.next=c.next,c.next=n),t.interleaved=n;return}}catch{}finally{}s=c0(e,t,n,r),s!==null&&(n=Me(),wt(s,e,r,n),T0(s,t,r))}}function P0(e){var t=e.alternate;return e===re||t!==null&&t===re}function E0(e,t){Tn=za=!0;var s=e.pending;s===null?t.next=t:(t.next=s.next,s.next=t),e.pending=t}function T0(e,t,s){if(s&4194240){var r=t.lanes;r&=e.pendingLanes,s|=r,t.lanes=s,ku(e,s)}}var Va={readContext:ct,useCallback:_e,useContext:_e,useEffect:_e,useImperativeHandle:_e,useInsertionEffect:_e,useLayoutEffect:_e,useMemo:_e,useReducer:_e,useRef:_e,useState:_e,useDebugValue:_e,useDeferredValue:_e,useTransition:_e,useMutableSource:_e,useSyncExternalStore:_e,useId:_e,unstable_isNewReconciler:!1},U1={readContext:ct,useCallback:function(e,t){return kt().memoizedState=[e,t===void 0?null:t],e},useContext:ct,useEffect:Mh,useImperativeHandle:function(e,t,s){return s=s!=null?s.concat([e]):null,ma(4194308,4,j0.bind(null,t,e),s)},useLayoutEffect:function(e,t){return ma(4194308,4,e,t)},useInsertionEffect:function(e,t){return ma(4,2,e,t)},useMemo:function(e,t){var s=kt();return t=t===void 0?null:t,e=e(),s.memoizedState=[e,t],e},useReducer:function(e,t,s){var r=kt();return t=s!==void 0?s(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=V1.bind(null,re,e),[r.memoizedState,e]},useRef:function(e){var t=kt();return e={current:e},t.memoizedState=e},useState:Lh,useDebugValue:Ku,useDeferredValue:function(e){return kt().memoizedState=e},useTransition:function(){var e=Lh(!1),t=e[0];return e=z1.bind(null,e[1]),kt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,s){var r=re,n=kt();if(ee){if(s===void 0)throw Error(P(407));s=s()}else{if(s=t(),we===null)throw Error(P(349));er&30||f0(r,t,s)}n.memoizedState=s;var a={value:s,getSnapshot:t};return n.queue=a,Mh(g0.bind(null,r,a,e),[e]),r.flags|=2048,ii(9,p0.bind(null,r,a,s,t),void 0,null),s},useId:function(){var e=kt(),t=we.identifierPrefix;if(ee){var s=$t,r=It;s=(r&~(1<<32-vt(r)-1)).toString(32)+s,t=":"+t+"R"+s,s=ri++,0<s&&(t+="H"+s.toString(32)),t+=":"}else s=F1++,t=":"+t+"r"+s.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},W1={readContext:ct,useCallback:S0,useContext:ct,useEffect:Gu,useImperativeHandle:N0,useInsertionEffect:w0,useLayoutEffect:b0,useMemo:k0,useReducer:al,useRef:v0,useState:function(){return al(ni)},useDebugValue:Ku,useDeferredValue:function(e){var t=ut();return _0(t,fe.memoizedState,e)},useTransition:function(){var e=al(ni)[0],t=ut().memoizedState;return[e,t]},useMutableSource:h0,useSyncExternalStore:m0,useId:C0,unstable_isNewReconciler:!1},q1={readContext:ct,useCallback:S0,useContext:ct,useEffect:Gu,useImperativeHandle:N0,useInsertionEffect:w0,useLayoutEffect:b0,useMemo:k0,useReducer:ol,useRef:v0,useState:function(){return ol(ni)},useDebugValue:Ku,useDeferredValue:function(e){var t=ut();return fe===null?t.memoizedState=e:_0(t,fe.memoizedState,e)},useTransition:function(){var e=ol(ni)[0],t=ut().memoizedState;return[e,t]},useMutableSource:h0,useSyncExternalStore:m0,useId:C0,unstable_isNewReconciler:!1};function pt(e,t){if(e&&e.defaultProps){t=ie({},t),e=e.defaultProps;for(var s in e)t[s]===void 0&&(t[s]=e[s]);return t}return t}function hc(e,t,s,r){t=e.memoizedState,s=s(r,t),s=s==null?t:ie({},t,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var yo={isMounted:function(e){return(e=e._reactInternals)?nr(e)===e:!1},enqueueSetState:function(e,t,s){e=e._reactInternals;var r=Me(),n=gs(e),a=Ft(r,n);a.payload=t,s!=null&&(a.callback=s),t=fs(e,a,n),t!==null&&(wt(t,e,n,r),da(t,e,n))},enqueueReplaceState:function(e,t,s){e=e._reactInternals;var r=Me(),n=gs(e),a=Ft(r,n);a.tag=1,a.payload=t,s!=null&&(a.callback=s),t=fs(e,a,n),t!==null&&(wt(t,e,n,r),da(t,e,n))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var s=Me(),r=gs(e),n=Ft(s,r);n.tag=2,t!=null&&(n.callback=t),t=fs(e,n,r),t!==null&&(wt(t,e,r,s),da(t,e,r))}};function Ih(e,t,s,r,n,a,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,a,o):t.prototype&&t.prototype.isPureReactComponent?!Jn(s,r)||!Jn(n,a):!0}function A0(e,t,s){var r=!1,n=ws,a=t.contextType;return typeof a=="object"&&a!==null?a=ct(a):(n=qe(t)?Xs:Ae.current,r=t.contextTypes,a=(r=r!=null)?Vr(e,n):ws),t=new t(s,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=yo,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=n,e.__reactInternalMemoizedMaskedChildContext=a),t}function $h(e,t,s,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(s,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(s,r),t.state!==e&&yo.enqueueReplaceState(t,t.state,null)}function mc(e,t,s,r){var n=e.stateNode;n.props=s,n.state=e.memoizedState,n.refs={},zu(e);var a=t.contextType;typeof a=="object"&&a!==null?n.context=ct(a):(a=qe(t)?Xs:Ae.current,n.context=Vr(e,a)),n.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(hc(e,t,a,s),n.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof n.getSnapshotBeforeUpdate=="function"||typeof n.UNSAFE_componentWillMount!="function"&&typeof n.componentWillMount!="function"||(t=n.state,typeof n.componentWillMount=="function"&&n.componentWillMount(),typeof n.UNSAFE_componentWillMount=="function"&&n.UNSAFE_componentWillMount(),t!==n.state&&yo.enqueueReplaceState(n,n.state,null),$a(e,s,n,r),n.state=e.memoizedState),typeof n.componentDidMount=="function"&&(e.flags|=4194308)}function qr(e,t){try{var s="",r=t;do s+=vv(r),r=r.return;while(r);var n=s}catch(a){n=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:n,digest:null}}function ll(e,t,s){return{value:e,source:null,stack:s??null,digest:t??null}}function fc(e,t){try{console.error(t.value)}catch(s){setTimeout(function(){throw s})}}var H1=typeof WeakMap=="function"?WeakMap:Map;function R0(e,t,s){s=Ft(-1,s),s.tag=3,s.payload={element:null};var r=t.value;return s.callback=function(){Ua||(Ua=!0,Sc=r),fc(e,t)},s}function O0(e,t,s){s=Ft(-1,s),s.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var n=t.value;s.payload=function(){return r(n)},s.callback=function(){fc(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(s.callback=function(){fc(e,t),typeof r!="function"&&(ps===null?ps=new Set([this]):ps.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),s}function Fh(e,t,s){var r=e.pingCache;if(r===null){r=e.pingCache=new H1;var n=new Set;r.set(t,n)}else n=r.get(t),n===void 0&&(n=new Set,r.set(t,n));n.has(s)||(n.add(s),e=aw.bind(null,e,t,s),t.then(e,e))}function zh(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Vh(e,t,s,r,n){return e.mode&1?(e.flags|=65536,e.lanes=n,e):(e===t?e.flags|=65536:(e.flags|=128,s.flags|=131072,s.flags&=-52805,s.tag===1&&(s.alternate===null?s.tag=17:(t=Ft(-1,1),t.tag=2,fs(s,t,1))),s.lanes|=1),e)}var G1=Kt.ReactCurrentOwner,Be=!1;function De(e,t,s,r){t.child=e===null?l0(t,null,s,r):Ur(t,e.child,s,r)}function Bh(e,t,s,r,n){s=s.render;var a=t.ref;return Lr(t,n),r=qu(e,t,s,r,a,n),s=Hu(),e!==null&&!Be?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n,Ut(e,t,n)):(ee&&s&&Ou(t),t.flags|=1,De(e,t,r,n),t.child)}function Uh(e,t,s,r,n){if(e===null){var a=s.type;return typeof a=="function"&&!sd(a)&&a.defaultProps===void 0&&s.compare===null&&s.defaultProps===void 0?(t.tag=15,t.type=a,D0(e,t,a,r,n)):(e=xa(s.type,null,r,t,t.mode,n),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&n)){var o=a.memoizedProps;if(s=s.compare,s=s!==null?s:Jn,s(o,r)&&e.ref===t.ref)return Ut(e,t,n)}return t.flags|=1,e=xs(a,r),e.ref=t.ref,e.return=t,t.child=e}function D0(e,t,s,r,n){if(e!==null){var a=e.memoizedProps;if(Jn(a,r)&&e.ref===t.ref)if(Be=!1,t.pendingProps=r=a,(e.lanes&n)!==0)e.flags&131072&&(Be=!0);else return t.lanes=e.lanes,Ut(e,t,n)}return pc(e,t,s,r,n)}function L0(e,t,s){var r=t.pendingProps,n=r.children,a=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Q(kr,Qe),Qe|=s;else{if(!(s&1073741824))return e=a!==null?a.baseLanes|s:s,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Q(kr,Qe),Qe|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=a!==null?a.baseLanes:s,Q(kr,Qe),Qe|=r}else a!==null?(r=a.baseLanes|s,t.memoizedState=null):r=s,Q(kr,Qe),Qe|=r;return De(e,t,n,s),t.child}function M0(e,t){var s=t.ref;(e===null&&s!==null||e!==null&&e.ref!==s)&&(t.flags|=512,t.flags|=2097152)}function pc(e,t,s,r,n){var a=qe(s)?Xs:Ae.current;return a=Vr(t,a),Lr(t,n),s=qu(e,t,s,r,a,n),r=Hu(),e!==null&&!Be?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n,Ut(e,t,n)):(ee&&r&&Ou(t),t.flags|=1,De(e,t,s,n),t.child)}function Wh(e,t,s,r,n){if(qe(s)){var a=!0;Oa(t)}else a=!1;if(Lr(t,n),t.stateNode===null)fa(e,t),A0(t,s,r),mc(t,s,r,n),r=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,u=s.contextType;typeof u=="object"&&u!==null?u=ct(u):(u=qe(s)?Xs:Ae.current,u=Vr(t,u));var d=s.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||c!==u)&&$h(t,o,r,u),es=!1;var m=t.memoizedState;o.state=m,$a(t,r,o,n),c=t.memoizedState,l!==r||m!==c||We.current||es?(typeof d=="function"&&(hc(t,s,d,r),c=t.memoizedState),(l=es||Ih(t,s,l,r,m,c,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),o.props=r,o.state=c,o.context=u,r=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,u0(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:pt(t.type,l),o.props=u,h=t.pendingProps,m=o.context,c=s.contextType,typeof c=="object"&&c!==null?c=ct(c):(c=qe(s)?Xs:Ae.current,c=Vr(t,c));var x=s.getDerivedStateFromProps;(d=typeof x=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==h||m!==c)&&$h(t,o,r,c),es=!1,m=t.memoizedState,o.state=m,$a(t,r,o,n);var w=t.memoizedState;l!==h||m!==w||We.current||es?(typeof x=="function"&&(hc(t,s,x,r),w=t.memoizedState),(u=es||Ih(t,s,u,r,m,w,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,w,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,w,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=w),o.props=r,o.state=w,o.context=c,r=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),r=!1)}return gc(e,t,s,r,a,n)}function gc(e,t,s,r,n,a){M0(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return n&&Eh(t,s,!1),Ut(e,t,a);r=t.stateNode,G1.current=t;var l=o&&typeof s.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=Ur(t,e.child,null,a),t.child=Ur(t,null,l,a)):De(e,t,l,a),t.memoizedState=r.state,n&&Eh(t,s,!0),t.child}function I0(e){var t=e.stateNode;t.pendingContext?Ph(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Ph(e,t.context,!1),Vu(e,t.containerInfo)}function qh(e,t,s,r,n){return Br(),Lu(n),t.flags|=256,De(e,t,s,r),t.child}var xc={dehydrated:null,treeContext:null,retryLane:0};function yc(e){return{baseLanes:e,cachePool:null,transitions:null}}function $0(e,t,s){var r=t.pendingProps,n=te.current,a=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(n&2)!==0),l?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(n|=1),Q(te,n&1),e===null)return uc(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,a?(r=t.mode,a=t.child,o={mode:"hidden",children:o},!(r&1)&&a!==null?(a.childLanes=0,a.pendingProps=o):a=bo(o,r,0,null),e=Qs(e,r,s,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=yc(s),t.memoizedState=xc,e):Qu(t,o));if(n=e.memoizedState,n!==null&&(l=n.dehydrated,l!==null))return K1(e,t,o,r,l,n,s);if(a){a=r.fallback,o=t.mode,n=e.child,l=n.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&t.child!==n?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=xs(n,c),r.subtreeFlags=n.subtreeFlags&14680064),l!==null?a=xs(l,a):(a=Qs(a,o,s,null),a.flags|=2),a.return=t,r.return=t,r.sibling=a,t.child=r,r=a,a=t.child,o=e.child.memoizedState,o=o===null?yc(s):{baseLanes:o.baseLanes|s,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=e.childLanes&~s,t.memoizedState=xc,r}return a=e.child,e=a.sibling,r=xs(a,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=s),r.return=t,r.sibling=null,e!==null&&(s=t.deletions,s===null?(t.deletions=[e],t.flags|=16):s.push(e)),t.child=r,t.memoizedState=null,r}function Qu(e,t){return t=bo({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function qi(e,t,s,r){return r!==null&&Lu(r),Ur(t,e.child,null,s),e=Qu(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function K1(e,t,s,r,n,a,o){if(s)return t.flags&256?(t.flags&=-257,r=ll(Error(P(422))),qi(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=r.fallback,n=t.mode,r=bo({mode:"visible",children:r.children},n,0,null),a=Qs(a,n,o,null),a.flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,t.mode&1&&Ur(t,e.child,null,o),t.child.memoizedState=yc(o),t.memoizedState=xc,a);if(!(t.mode&1))return qi(e,t,o,null);if(n.data==="$!"){if(r=n.nextSibling&&n.nextSibling.dataset,r)var l=r.dgst;return r=l,a=Error(P(419)),r=ll(a,r,void 0),qi(e,t,o,r)}if(l=(o&e.childLanes)!==0,Be||l){if(r=we,r!==null){switch(o&-o){case 4:n=2;break;case 16:n=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:n=32;break;case 536870912:n=268435456;break;default:n=0}n=n&(r.suspendedLanes|o)?0:n,n!==0&&n!==a.retryLane&&(a.retryLane=n,Bt(e,n),wt(r,e,n,-1))}return td(),r=ll(Error(P(421))),qi(e,t,o,r)}return n.data==="$?"?(t.flags|=128,t.child=e.child,t=ow.bind(null,e),n._reactRetry=t,null):(e=a.treeContext,Ye=ms(n.nextSibling),Je=t,ee=!0,yt=null,e!==null&&(rt[nt++]=It,rt[nt++]=$t,rt[nt++]=Zs,It=e.id,$t=e.overflow,Zs=t),t=Qu(t,r.children),t.flags|=4096,t)}function Hh(e,t,s){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),dc(e.return,t,s)}function cl(e,t,s,r,n){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:s,tailMode:n}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=s,a.tailMode=n)}function F0(e,t,s){var r=t.pendingProps,n=r.revealOrder,a=r.tail;if(De(e,t,r.children,s),r=te.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Hh(e,s,t);else if(e.tag===19)Hh(e,s,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Q(te,r),!(t.mode&1))t.memoizedState=null;else switch(n){case"forwards":for(s=t.child,n=null;s!==null;)e=s.alternate,e!==null&&Fa(e)===null&&(n=s),s=s.sibling;s=n,s===null?(n=t.child,t.child=null):(n=s.sibling,s.sibling=null),cl(t,!1,n,s,a);break;case"backwards":for(s=null,n=t.child,t.child=null;n!==null;){if(e=n.alternate,e!==null&&Fa(e)===null){t.child=n;break}e=n.sibling,n.sibling=s,s=n,n=e}cl(t,!0,s,null,a);break;case"together":cl(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function fa(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ut(e,t,s){if(e!==null&&(t.dependencies=e.dependencies),tr|=t.lanes,!(s&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(P(153));if(t.child!==null){for(e=t.child,s=xs(e,e.pendingProps),t.child=s,s.return=t;e.sibling!==null;)e=e.sibling,s=s.sibling=xs(e,e.pendingProps),s.return=t;s.sibling=null}return t.child}function Q1(e,t,s){switch(t.tag){case 3:I0(t),Br();break;case 5:d0(t);break;case 1:qe(t.type)&&Oa(t);break;case 4:Vu(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,n=t.memoizedProps.value;Q(Ma,r._currentValue),r._currentValue=n;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Q(te,te.current&1),t.flags|=128,null):s&t.child.childLanes?$0(e,t,s):(Q(te,te.current&1),e=Ut(e,t,s),e!==null?e.sibling:null);Q(te,te.current&1);break;case 19:if(r=(s&t.childLanes)!==0,e.flags&128){if(r)return F0(e,t,s);t.flags|=128}if(n=t.memoizedState,n!==null&&(n.rendering=null,n.tail=null,n.lastEffect=null),Q(te,te.current),r)break;return null;case 22:case 23:return t.lanes=0,L0(e,t,s)}return Ut(e,t,s)}var z0,vc,V0,B0;z0=function(e,t){for(var s=t.child;s!==null;){if(s.tag===5||s.tag===6)e.appendChild(s.stateNode);else if(s.tag!==4&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return;s=s.return}s.sibling.return=s.return,s=s.sibling}};vc=function(){};V0=function(e,t,s,r){var n=e.memoizedProps;if(n!==r){e=t.stateNode,Ws(Pt.current);var a=null;switch(s){case"input":n=Vl(e,n),r=Vl(e,r),a=[];break;case"select":n=ie({},n,{value:void 0}),r=ie({},r,{value:void 0}),a=[];break;case"textarea":n=Wl(e,n),r=Wl(e,r),a=[];break;default:typeof n.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Aa)}Hl(s,r);var o;s=null;for(u in n)if(!r.hasOwnProperty(u)&&n.hasOwnProperty(u)&&n[u]!=null)if(u==="style"){var l=n[u];for(o in l)l.hasOwnProperty(o)&&(s||(s={}),s[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Wn.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in r){var c=r[u];if(l=n!=null?n[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(s||(s={}),s[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(s||(s={}),s[o]=c[o])}else s||(a||(a=[]),a.push(u,s)),s=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(a=a||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Wn.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Y("scroll",e),a||l===c||(a=[])):(a=a||[]).push(u,c))}s&&(a=a||[]).push("style",s);var u=a;(t.updateQueue=u)&&(t.flags|=4)}};B0=function(e,t,s,r){s!==r&&(t.flags|=4)};function pn(e,t){if(!ee)switch(e.tailMode){case"hidden":t=e.tail;for(var s=null;t!==null;)t.alternate!==null&&(s=t),t=t.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var r=null;s!==null;)s.alternate!==null&&(r=s),s=s.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ce(e){var t=e.alternate!==null&&e.alternate.child===e.child,s=0,r=0;if(t)for(var n=e.child;n!==null;)s|=n.lanes|n.childLanes,r|=n.subtreeFlags&14680064,r|=n.flags&14680064,n.return=e,n=n.sibling;else for(n=e.child;n!==null;)s|=n.lanes|n.childLanes,r|=n.subtreeFlags,r|=n.flags,n.return=e,n=n.sibling;return e.subtreeFlags|=r,e.childLanes=s,t}function Y1(e,t,s){var r=t.pendingProps;switch(Du(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ce(t),null;case 1:return qe(t.type)&&Ra(),Ce(t),null;case 3:return r=t.stateNode,Wr(),X(We),X(Ae),Uu(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Ui(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,yt!==null&&(Cc(yt),yt=null))),vc(e,t),Ce(t),null;case 5:Bu(t);var n=Ws(si.current);if(s=t.type,e!==null&&t.stateNode!=null)V0(e,t,s,r,n),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(P(166));return Ce(t),null}if(e=Ws(Pt.current),Ui(t)){r=t.stateNode,s=t.type;var a=t.memoizedProps;switch(r[_t]=t,r[ei]=a,e=(t.mode&1)!==0,s){case"dialog":Y("cancel",r),Y("close",r);break;case"iframe":case"object":case"embed":Y("load",r);break;case"video":case"audio":for(n=0;n<jn.length;n++)Y(jn[n],r);break;case"source":Y("error",r);break;case"img":case"image":case"link":Y("error",r),Y("load",r);break;case"details":Y("toggle",r);break;case"input":th(r,a),Y("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Y("invalid",r);break;case"textarea":rh(r,a),Y("invalid",r)}Hl(s,a),n=null;for(var o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="children"?typeof l=="string"?r.textContent!==l&&(a.suppressHydrationWarning!==!0&&Bi(r.textContent,l,e),n=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(a.suppressHydrationWarning!==!0&&Bi(r.textContent,l,e),n=["children",""+l]):Wn.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Y("scroll",r)}switch(s){case"input":Di(r),sh(r,a,!0);break;case"textarea":Di(r),nh(r);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(r.onclick=Aa)}r=n,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=n.nodeType===9?n:n.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=gp(s)),e==="http://www.w3.org/1999/xhtml"?s==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(s,{is:r.is}):(e=o.createElement(s),s==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,s),e[_t]=t,e[ei]=r,z0(e,t,!1,!1),t.stateNode=e;e:{switch(o=Gl(s,r),s){case"dialog":Y("cancel",e),Y("close",e),n=r;break;case"iframe":case"object":case"embed":Y("load",e),n=r;break;case"video":case"audio":for(n=0;n<jn.length;n++)Y(jn[n],e);n=r;break;case"source":Y("error",e),n=r;break;case"img":case"image":case"link":Y("error",e),Y("load",e),n=r;break;case"details":Y("toggle",e),n=r;break;case"input":th(e,r),n=Vl(e,r),Y("invalid",e);break;case"option":n=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},n=ie({},r,{value:void 0}),Y("invalid",e);break;case"textarea":rh(e,r),n=Wl(e,r),Y("invalid",e);break;default:n=r}Hl(s,n),l=n;for(a in l)if(l.hasOwnProperty(a)){var c=l[a];a==="style"?vp(e,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&xp(e,c)):a==="children"?typeof c=="string"?(s!=="textarea"||c!=="")&&qn(e,c):typeof c=="number"&&qn(e,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Wn.hasOwnProperty(a)?c!=null&&a==="onScroll"&&Y("scroll",e):c!=null&&vu(e,a,c,o))}switch(s){case"input":Di(e),sh(e,r,!1);break;case"textarea":Di(e),nh(e);break;case"option":r.value!=null&&e.setAttribute("value",""+vs(r.value));break;case"select":e.multiple=!!r.multiple,a=r.value,a!=null?Ar(e,!!r.multiple,a,!1):r.defaultValue!=null&&Ar(e,!!r.multiple,r.defaultValue,!0);break;default:typeof n.onClick=="function"&&(e.onclick=Aa)}switch(s){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ce(t),null;case 6:if(e&&t.stateNode!=null)B0(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(P(166));if(s=Ws(si.current),Ws(Pt.current),Ui(t)){if(r=t.stateNode,s=t.memoizedProps,r[_t]=t,(a=r.nodeValue!==s)&&(e=Je,e!==null))switch(e.tag){case 3:Bi(r.nodeValue,s,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Bi(r.nodeValue,s,(e.mode&1)!==0)}a&&(t.flags|=4)}else r=(s.nodeType===9?s:s.ownerDocument).createTextNode(r),r[_t]=t,t.stateNode=r}return Ce(t),null;case 13:if(X(te),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ee&&Ye!==null&&t.mode&1&&!(t.flags&128))a0(),Br(),t.flags|=98560,a=!1;else if(a=Ui(t),r!==null&&r.dehydrated!==null){if(e===null){if(!a)throw Error(P(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(P(317));a[_t]=t}else Br(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ce(t),a=!1}else yt!==null&&(Cc(yt),yt=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=s,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||te.current&1?pe===0&&(pe=3):td())),t.updateQueue!==null&&(t.flags|=4),Ce(t),null);case 4:return Wr(),vc(e,t),e===null&&Xn(t.stateNode.containerInfo),Ce(t),null;case 10:return $u(t.type._context),Ce(t),null;case 17:return qe(t.type)&&Ra(),Ce(t),null;case 19:if(X(te),a=t.memoizedState,a===null)return Ce(t),null;if(r=(t.flags&128)!==0,o=a.rendering,o===null)if(r)pn(a,!1);else{if(pe!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Fa(e),o!==null){for(t.flags|=128,pn(a,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=s,s=t.child;s!==null;)a=s,e=r,a.flags&=14680066,o=a.alternate,o===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,e=o.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),s=s.sibling;return Q(te,te.current&1|2),t.child}e=e.sibling}a.tail!==null&&de()>Hr&&(t.flags|=128,r=!0,pn(a,!1),t.lanes=4194304)}else{if(!r)if(e=Fa(o),e!==null){if(t.flags|=128,r=!0,s=e.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),pn(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!ee)return Ce(t),null}else 2*de()-a.renderingStartTime>Hr&&s!==1073741824&&(t.flags|=128,r=!0,pn(a,!1),t.lanes=4194304);a.isBackwards?(o.sibling=t.child,t.child=o):(s=a.last,s!==null?s.sibling=o:t.child=o,a.last=o)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=de(),t.sibling=null,s=te.current,Q(te,r?s&1|2:s&1),t):(Ce(t),null);case 22:case 23:return ed(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Qe&1073741824&&(Ce(t),t.subtreeFlags&6&&(t.flags|=8192)):Ce(t),null;case 24:return null;case 25:return null}throw Error(P(156,t.tag))}function J1(e,t){switch(Du(t),t.tag){case 1:return qe(t.type)&&Ra(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Wr(),X(We),X(Ae),Uu(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Bu(t),null;case 13:if(X(te),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(P(340));Br()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return X(te),null;case 4:return Wr(),null;case 10:return $u(t.type._context),null;case 22:case 23:return ed(),null;case 24:return null;default:return null}}var Hi=!1,Ee=!1,X1=typeof WeakSet=="function"?WeakSet:Set,E=null;function Sr(e,t){var s=e.ref;if(s!==null)if(typeof s=="function")try{s(null)}catch(r){le(e,t,r)}else s.current=null}function wc(e,t,s){try{s()}catch(r){le(e,t,r)}}var Gh=!1;function Z1(e,t){if(rc=Pa,e=Gp(),Ru(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else e:{s=(s=e.ownerDocument)&&s.defaultView||window;var r=s.getSelection&&s.getSelection();if(r&&r.rangeCount!==0){s=r.anchorNode;var n=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{s.nodeType,a.nodeType}catch{s=null;break e}var o=0,l=-1,c=-1,u=0,d=0,h=e,m=null;t:for(;;){for(var x;h!==s||n!==0&&h.nodeType!==3||(l=o+n),h!==a||r!==0&&h.nodeType!==3||(c=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(x=h.firstChild)!==null;)m=h,h=x;for(;;){if(h===e)break t;if(m===s&&++u===n&&(l=o),m===a&&++d===r&&(c=o),(x=h.nextSibling)!==null)break;h=m,m=h.parentNode}h=x}s=l===-1||c===-1?null:{start:l,end:c}}else s=null}s=s||{start:0,end:0}}else s=null;for(nc={focusedElem:e,selectionRange:s},Pa=!1,E=t;E!==null;)if(t=E,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,E=e;else for(;E!==null;){t=E;try{var w=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var b=w.memoizedProps,y=w.memoizedState,g=t.stateNode,p=g.getSnapshotBeforeUpdate(t.elementType===t.type?b:pt(t.type,b),y);g.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var f=t.stateNode.containerInfo;f.nodeType===1?f.textContent="":f.nodeType===9&&f.documentElement&&f.removeChild(f.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(P(163))}}catch(j){le(t,t.return,j)}if(e=t.sibling,e!==null){e.return=t.return,E=e;break}E=t.return}return w=Gh,Gh=!1,w}function An(e,t,s){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var n=r=r.next;do{if((n.tag&e)===e){var a=n.destroy;n.destroy=void 0,a!==void 0&&wc(t,s,a)}n=n.next}while(n!==r)}}function vo(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var s=t=t.next;do{if((s.tag&e)===e){var r=s.create;s.destroy=r()}s=s.next}while(s!==t)}}function bc(e){var t=e.ref;if(t!==null){var s=e.stateNode;switch(e.tag){case 5:e=s;break;default:e=s}typeof t=="function"?t(e):t.current=e}}function U0(e){var t=e.alternate;t!==null&&(e.alternate=null,U0(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[_t],delete t[ei],delete t[oc],delete t[L1],delete t[M1])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function W0(e){return e.tag===5||e.tag===3||e.tag===4}function Kh(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||W0(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function jc(e,t,s){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?s.nodeType===8?s.parentNode.insertBefore(e,t):s.insertBefore(e,t):(s.nodeType===8?(t=s.parentNode,t.insertBefore(e,s)):(t=s,t.appendChild(e)),s=s._reactRootContainer,s!=null||t.onclick!==null||(t.onclick=Aa));else if(r!==4&&(e=e.child,e!==null))for(jc(e,t,s),e=e.sibling;e!==null;)jc(e,t,s),e=e.sibling}function Nc(e,t,s){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?s.insertBefore(e,t):s.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Nc(e,t,s),e=e.sibling;e!==null;)Nc(e,t,s),e=e.sibling}var be=null,gt=!1;function Yt(e,t,s){for(s=s.child;s!==null;)q0(e,t,s),s=s.sibling}function q0(e,t,s){if(Ct&&typeof Ct.onCommitFiberUnmount=="function")try{Ct.onCommitFiberUnmount(uo,s)}catch{}switch(s.tag){case 5:Ee||Sr(s,t);case 6:var r=be,n=gt;be=null,Yt(e,t,s),be=r,gt=n,be!==null&&(gt?(e=be,s=s.stateNode,e.nodeType===8?e.parentNode.removeChild(s):e.removeChild(s)):be.removeChild(s.stateNode));break;case 18:be!==null&&(gt?(e=be,s=s.stateNode,e.nodeType===8?sl(e.parentNode,s):e.nodeType===1&&sl(e,s),Qn(e)):sl(be,s.stateNode));break;case 4:r=be,n=gt,be=s.stateNode.containerInfo,gt=!0,Yt(e,t,s),be=r,gt=n;break;case 0:case 11:case 14:case 15:if(!Ee&&(r=s.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){n=r=r.next;do{var a=n,o=a.destroy;a=a.tag,o!==void 0&&(a&2||a&4)&&wc(s,t,o),n=n.next}while(n!==r)}Yt(e,t,s);break;case 1:if(!Ee&&(Sr(s,t),r=s.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=s.memoizedProps,r.state=s.memoizedState,r.componentWillUnmount()}catch(l){le(s,t,l)}Yt(e,t,s);break;case 21:Yt(e,t,s);break;case 22:s.mode&1?(Ee=(r=Ee)||s.memoizedState!==null,Yt(e,t,s),Ee=r):Yt(e,t,s);break;default:Yt(e,t,s)}}function Qh(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var s=e.stateNode;s===null&&(s=e.stateNode=new X1),t.forEach(function(r){var n=lw.bind(null,e,r);s.has(r)||(s.add(r),r.then(n,n))})}}function ht(e,t){var s=t.deletions;if(s!==null)for(var r=0;r<s.length;r++){var n=s[r];try{var a=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:be=l.stateNode,gt=!1;break e;case 3:be=l.stateNode.containerInfo,gt=!0;break e;case 4:be=l.stateNode.containerInfo,gt=!0;break e}l=l.return}if(be===null)throw Error(P(160));q0(a,o,n),be=null,gt=!1;var c=n.alternate;c!==null&&(c.return=null),n.return=null}catch(u){le(n,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)H0(t,e),t=t.sibling}function H0(e,t){var s=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ht(t,e),Nt(e),r&4){try{An(3,e,e.return),vo(3,e)}catch(b){le(e,e.return,b)}try{An(5,e,e.return)}catch(b){le(e,e.return,b)}}break;case 1:ht(t,e),Nt(e),r&512&&s!==null&&Sr(s,s.return);break;case 5:if(ht(t,e),Nt(e),r&512&&s!==null&&Sr(s,s.return),e.flags&32){var n=e.stateNode;try{qn(n,"")}catch(b){le(e,e.return,b)}}if(r&4&&(n=e.stateNode,n!=null)){var a=e.memoizedProps,o=s!==null?s.memoizedProps:a,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&a.type==="radio"&&a.name!=null&&fp(n,a),Gl(l,o);var u=Gl(l,a);for(o=0;o<c.length;o+=2){var d=c[o],h=c[o+1];d==="style"?vp(n,h):d==="dangerouslySetInnerHTML"?xp(n,h):d==="children"?qn(n,h):vu(n,d,h,u)}switch(l){case"input":Bl(n,a);break;case"textarea":pp(n,a);break;case"select":var m=n._wrapperState.wasMultiple;n._wrapperState.wasMultiple=!!a.multiple;var x=a.value;x!=null?Ar(n,!!a.multiple,x,!1):m!==!!a.multiple&&(a.defaultValue!=null?Ar(n,!!a.multiple,a.defaultValue,!0):Ar(n,!!a.multiple,a.multiple?[]:"",!1))}n[ei]=a}catch(b){le(e,e.return,b)}}break;case 6:if(ht(t,e),Nt(e),r&4){if(e.stateNode===null)throw Error(P(162));n=e.stateNode,a=e.memoizedProps;try{n.nodeValue=a}catch(b){le(e,e.return,b)}}break;case 3:if(ht(t,e),Nt(e),r&4&&s!==null&&s.memoizedState.isDehydrated)try{Qn(t.containerInfo)}catch(b){le(e,e.return,b)}break;case 4:ht(t,e),Nt(e);break;case 13:ht(t,e),Nt(e),n=e.child,n.flags&8192&&(a=n.memoizedState!==null,n.stateNode.isHidden=a,!a||n.alternate!==null&&n.alternate.memoizedState!==null||(Xu=de())),r&4&&Qh(e);break;case 22:if(d=s!==null&&s.memoizedState!==null,e.mode&1?(Ee=(u=Ee)||d,ht(t,e),Ee=u):ht(t,e),Nt(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(E=e,d=e.child;d!==null;){for(h=E=d;E!==null;){switch(m=E,x=m.child,m.tag){case 0:case 11:case 14:case 15:An(4,m,m.return);break;case 1:Sr(m,m.return);var w=m.stateNode;if(typeof w.componentWillUnmount=="function"){r=m,s=m.return;try{t=r,w.props=t.memoizedProps,w.state=t.memoizedState,w.componentWillUnmount()}catch(b){le(r,s,b)}}break;case 5:Sr(m,m.return);break;case 22:if(m.memoizedState!==null){Jh(h);continue}}x!==null?(x.return=m,E=x):Jh(h)}d=d.sibling}e:for(d=null,h=e;;){if(h.tag===5){if(d===null){d=h;try{n=h.stateNode,u?(a=n.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(l=h.stateNode,c=h.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=yp("display",o))}catch(b){le(e,e.return,b)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(b){le(e,e.return,b)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:ht(t,e),Nt(e),r&4&&Qh(e);break;case 21:break;default:ht(t,e),Nt(e)}}function Nt(e){var t=e.flags;if(t&2){try{e:{for(var s=e.return;s!==null;){if(W0(s)){var r=s;break e}s=s.return}throw Error(P(160))}switch(r.tag){case 5:var n=r.stateNode;r.flags&32&&(qn(n,""),r.flags&=-33);var a=Kh(e);Nc(e,a,n);break;case 3:case 4:var o=r.stateNode.containerInfo,l=Kh(e);jc(e,l,o);break;default:throw Error(P(161))}}catch(c){le(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function ew(e,t,s){E=e,G0(e)}function G0(e,t,s){for(var r=(e.mode&1)!==0;E!==null;){var n=E,a=n.child;if(n.tag===22&&r){var o=n.memoizedState!==null||Hi;if(!o){var l=n.alternate,c=l!==null&&l.memoizedState!==null||Ee;l=Hi;var u=Ee;if(Hi=o,(Ee=c)&&!u)for(E=n;E!==null;)o=E,c=o.child,o.tag===22&&o.memoizedState!==null?Xh(n):c!==null?(c.return=o,E=c):Xh(n);for(;a!==null;)E=a,G0(a),a=a.sibling;E=n,Hi=l,Ee=u}Yh(e)}else n.subtreeFlags&8772&&a!==null?(a.return=n,E=a):Yh(e)}}function Yh(e){for(;E!==null;){var t=E;if(t.flags&8772){var s=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ee||vo(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Ee)if(s===null)r.componentDidMount();else{var n=t.elementType===t.type?s.memoizedProps:pt(t.type,s.memoizedProps);r.componentDidUpdate(n,s.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&Dh(t,a,r);break;case 3:var o=t.updateQueue;if(o!==null){if(s=null,t.child!==null)switch(t.child.tag){case 5:s=t.child.stateNode;break;case 1:s=t.child.stateNode}Dh(t,o,s)}break;case 5:var l=t.stateNode;if(s===null&&t.flags&4){s=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&s.focus();break;case"img":c.src&&(s.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Qn(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(P(163))}Ee||t.flags&512&&bc(t)}catch(m){le(t,t.return,m)}}if(t===e){E=null;break}if(s=t.sibling,s!==null){s.return=t.return,E=s;break}E=t.return}}function Jh(e){for(;E!==null;){var t=E;if(t===e){E=null;break}var s=t.sibling;if(s!==null){s.return=t.return,E=s;break}E=t.return}}function Xh(e){for(;E!==null;){var t=E;try{switch(t.tag){case 0:case 11:case 15:var s=t.return;try{vo(4,t)}catch(c){le(t,s,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var n=t.return;try{r.componentDidMount()}catch(c){le(t,n,c)}}var a=t.return;try{bc(t)}catch(c){le(t,a,c)}break;case 5:var o=t.return;try{bc(t)}catch(c){le(t,o,c)}}}catch(c){le(t,t.return,c)}if(t===e){E=null;break}var l=t.sibling;if(l!==null){l.return=t.return,E=l;break}E=t.return}}var tw=Math.ceil,Ba=Kt.ReactCurrentDispatcher,Yu=Kt.ReactCurrentOwner,at=Kt.ReactCurrentBatchConfig,U=0,we=null,me=null,Se=0,Qe=0,kr=_s(0),pe=0,ai=null,tr=0,wo=0,Ju=0,Rn=null,ze=null,Xu=0,Hr=1/0,Dt=null,Ua=!1,Sc=null,ps=null,Gi=!1,os=null,Wa=0,On=0,kc=null,pa=-1,ga=0;function Me(){return U&6?de():pa!==-1?pa:pa=de()}function gs(e){return e.mode&1?U&2&&Se!==0?Se&-Se:$1.transition!==null?(ga===0&&(ga=Ap()),ga):(e=q,e!==0||(e=window.event,e=e===void 0?16:$p(e.type)),e):1}function wt(e,t,s,r){if(50<On)throw On=0,kc=null,Error(P(185));yi(e,s,r),(!(U&2)||e!==we)&&(e===we&&(!(U&2)&&(wo|=s),pe===4&&rs(e,Se)),He(e,r),s===1&&U===0&&!(t.mode&1)&&(Hr=de()+500,go&&Cs()))}function He(e,t){var s=e.callbackNode;$v(e,t);var r=Ca(e,e===we?Se:0);if(r===0)s!==null&&oh(s),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(s!=null&&oh(s),t===1)e.tag===0?I1(Zh.bind(null,e)):r0(Zh.bind(null,e)),O1(function(){!(U&6)&&Cs()}),s=null;else{switch(Rp(r)){case 1:s=Su;break;case 4:s=Ep;break;case 16:s=_a;break;case 536870912:s=Tp;break;default:s=_a}s=tg(s,K0.bind(null,e))}e.callbackPriority=t,e.callbackNode=s}}function K0(e,t){if(pa=-1,ga=0,U&6)throw Error(P(327));var s=e.callbackNode;if(Mr()&&e.callbackNode!==s)return null;var r=Ca(e,e===we?Se:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=qa(e,r);else{t=r;var n=U;U|=2;var a=Y0();(we!==e||Se!==t)&&(Dt=null,Hr=de()+500,Ks(e,t));do try{nw();break}catch(l){Q0(e,l)}while(!0);Iu(),Ba.current=a,U=n,me!==null?t=0:(we=null,Se=0,t=pe)}if(t!==0){if(t===2&&(n=Xl(e),n!==0&&(r=n,t=_c(e,n))),t===1)throw s=ai,Ks(e,0),rs(e,r),He(e,de()),s;if(t===6)rs(e,r);else{if(n=e.current.alternate,!(r&30)&&!sw(n)&&(t=qa(e,r),t===2&&(a=Xl(e),a!==0&&(r=a,t=_c(e,a))),t===1))throw s=ai,Ks(e,0),rs(e,r),He(e,de()),s;switch(e.finishedWork=n,e.finishedLanes=r,t){case 0:case 1:throw Error(P(345));case 2:$s(e,ze,Dt);break;case 3:if(rs(e,r),(r&130023424)===r&&(t=Xu+500-de(),10<t)){if(Ca(e,0)!==0)break;if(n=e.suspendedLanes,(n&r)!==r){Me(),e.pingedLanes|=e.suspendedLanes&n;break}e.timeoutHandle=ac($s.bind(null,e,ze,Dt),t);break}$s(e,ze,Dt);break;case 4:if(rs(e,r),(r&4194240)===r)break;for(t=e.eventTimes,n=-1;0<r;){var o=31-vt(r);a=1<<o,o=t[o],o>n&&(n=o),r&=~a}if(r=n,r=de()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*tw(r/1960))-r,10<r){e.timeoutHandle=ac($s.bind(null,e,ze,Dt),r);break}$s(e,ze,Dt);break;case 5:$s(e,ze,Dt);break;default:throw Error(P(329))}}}return He(e,de()),e.callbackNode===s?K0.bind(null,e):null}function _c(e,t){var s=Rn;return e.current.memoizedState.isDehydrated&&(Ks(e,t).flags|=256),e=qa(e,t),e!==2&&(t=ze,ze=s,t!==null&&Cc(t)),e}function Cc(e){ze===null?ze=e:ze.push.apply(ze,e)}function sw(e){for(var t=e;;){if(t.flags&16384){var s=t.updateQueue;if(s!==null&&(s=s.stores,s!==null))for(var r=0;r<s.length;r++){var n=s[r],a=n.getSnapshot;n=n.value;try{if(!bt(a(),n))return!1}catch{return!1}}}if(s=t.child,t.subtreeFlags&16384&&s!==null)s.return=t,t=s;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function rs(e,t){for(t&=~Ju,t&=~wo,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var s=31-vt(t),r=1<<s;e[s]=-1,t&=~r}}function Zh(e){if(U&6)throw Error(P(327));Mr();var t=Ca(e,0);if(!(t&1))return He(e,de()),null;var s=qa(e,t);if(e.tag!==0&&s===2){var r=Xl(e);r!==0&&(t=r,s=_c(e,r))}if(s===1)throw s=ai,Ks(e,0),rs(e,t),He(e,de()),s;if(s===6)throw Error(P(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,$s(e,ze,Dt),He(e,de()),null}function Zu(e,t){var s=U;U|=1;try{return e(t)}finally{U=s,U===0&&(Hr=de()+500,go&&Cs())}}function sr(e){os!==null&&os.tag===0&&!(U&6)&&Mr();var t=U;U|=1;var s=at.transition,r=q;try{if(at.transition=null,q=1,e)return e()}finally{q=r,at.transition=s,U=t,!(U&6)&&Cs()}}function ed(){Qe=kr.current,X(kr)}function Ks(e,t){e.finishedWork=null,e.finishedLanes=0;var s=e.timeoutHandle;if(s!==-1&&(e.timeoutHandle=-1,R1(s)),me!==null)for(s=me.return;s!==null;){var r=s;switch(Du(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Ra();break;case 3:Wr(),X(We),X(Ae),Uu();break;case 5:Bu(r);break;case 4:Wr();break;case 13:X(te);break;case 19:X(te);break;case 10:$u(r.type._context);break;case 22:case 23:ed()}s=s.return}if(we=e,me=e=xs(e.current,null),Se=Qe=t,pe=0,ai=null,Ju=wo=tr=0,ze=Rn=null,Us!==null){for(t=0;t<Us.length;t++)if(s=Us[t],r=s.interleaved,r!==null){s.interleaved=null;var n=r.next,a=s.pending;if(a!==null){var o=a.next;a.next=n,r.next=o}s.pending=r}Us=null}return e}function Q0(e,t){do{var s=me;try{if(Iu(),ha.current=Va,za){for(var r=re.memoizedState;r!==null;){var n=r.queue;n!==null&&(n.pending=null),r=r.next}za=!1}if(er=0,ye=fe=re=null,Tn=!1,ri=0,Yu.current=null,s===null||s.return===null){pe=1,ai=t,me=null;break}e:{var a=e,o=s.return,l=s,c=t;if(t=Se,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var m=d.alternate;m?(d.updateQueue=m.updateQueue,d.memoizedState=m.memoizedState,d.lanes=m.lanes):(d.updateQueue=null,d.memoizedState=null)}var x=zh(o);if(x!==null){x.flags&=-257,Vh(x,o,l,a,t),x.mode&1&&Fh(a,u,t),t=x,c=u;var w=t.updateQueue;if(w===null){var b=new Set;b.add(c),t.updateQueue=b}else w.add(c);break e}else{if(!(t&1)){Fh(a,u,t),td();break e}c=Error(P(426))}}else if(ee&&l.mode&1){var y=zh(o);if(y!==null){!(y.flags&65536)&&(y.flags|=256),Vh(y,o,l,a,t),Lu(qr(c,l));break e}}a=c=qr(c,l),pe!==4&&(pe=2),Rn===null?Rn=[a]:Rn.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var g=R0(a,c,t);Oh(a,g);break e;case 1:l=c;var p=a.type,f=a.stateNode;if(!(a.flags&128)&&(typeof p.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(ps===null||!ps.has(f)))){a.flags|=65536,t&=-t,a.lanes|=t;var j=O0(a,l,t);Oh(a,j);break e}}a=a.return}while(a!==null)}X0(s)}catch(N){t=N,me===s&&s!==null&&(me=s=s.return);continue}break}while(!0)}function Y0(){var e=Ba.current;return Ba.current=Va,e===null?Va:e}function td(){(pe===0||pe===3||pe===2)&&(pe=4),we===null||!(tr&268435455)&&!(wo&268435455)||rs(we,Se)}function qa(e,t){var s=U;U|=2;var r=Y0();(we!==e||Se!==t)&&(Dt=null,Ks(e,t));do try{rw();break}catch(n){Q0(e,n)}while(!0);if(Iu(),U=s,Ba.current=r,me!==null)throw Error(P(261));return we=null,Se=0,pe}function rw(){for(;me!==null;)J0(me)}function nw(){for(;me!==null&&!Ev();)J0(me)}function J0(e){var t=eg(e.alternate,e,Qe);e.memoizedProps=e.pendingProps,t===null?X0(e):me=t,Yu.current=null}function X0(e){var t=e;do{var s=t.alternate;if(e=t.return,t.flags&32768){if(s=J1(s,t),s!==null){s.flags&=32767,me=s;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{pe=6,me=null;return}}else if(s=Y1(s,t,Qe),s!==null){me=s;return}if(t=t.sibling,t!==null){me=t;return}me=t=e}while(t!==null);pe===0&&(pe=5)}function $s(e,t,s){var r=q,n=at.transition;try{at.transition=null,q=1,iw(e,t,s,r)}finally{at.transition=n,q=r}return null}function iw(e,t,s,r){do Mr();while(os!==null);if(U&6)throw Error(P(327));s=e.finishedWork;var n=e.finishedLanes;if(s===null)return null;if(e.finishedWork=null,e.finishedLanes=0,s===e.current)throw Error(P(177));e.callbackNode=null,e.callbackPriority=0;var a=s.lanes|s.childLanes;if(Fv(e,a),e===we&&(me=we=null,Se=0),!(s.subtreeFlags&2064)&&!(s.flags&2064)||Gi||(Gi=!0,tg(_a,function(){return Mr(),null})),a=(s.flags&15990)!==0,s.subtreeFlags&15990||a){a=at.transition,at.transition=null;var o=q;q=1;var l=U;U|=4,Yu.current=null,Z1(e,s),H0(s,e),k1(nc),Pa=!!rc,nc=rc=null,e.current=s,ew(s),Tv(),U=l,q=o,at.transition=a}else e.current=s;if(Gi&&(Gi=!1,os=e,Wa=n),a=e.pendingLanes,a===0&&(ps=null),Ov(s.stateNode),He(e,de()),t!==null)for(r=e.onRecoverableError,s=0;s<t.length;s++)n=t[s],r(n.value,{componentStack:n.stack,digest:n.digest});if(Ua)throw Ua=!1,e=Sc,Sc=null,e;return Wa&1&&e.tag!==0&&Mr(),a=e.pendingLanes,a&1?e===kc?On++:(On=0,kc=e):On=0,Cs(),null}function Mr(){if(os!==null){var e=Rp(Wa),t=at.transition,s=q;try{if(at.transition=null,q=16>e?16:e,os===null)var r=!1;else{if(e=os,os=null,Wa=0,U&6)throw Error(P(331));var n=U;for(U|=4,E=e.current;E!==null;){var a=E,o=a.child;if(E.flags&16){var l=a.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(E=u;E!==null;){var d=E;switch(d.tag){case 0:case 11:case 15:An(8,d,a)}var h=d.child;if(h!==null)h.return=d,E=h;else for(;E!==null;){d=E;var m=d.sibling,x=d.return;if(U0(d),d===u){E=null;break}if(m!==null){m.return=x,E=m;break}E=x}}}var w=a.alternate;if(w!==null){var b=w.child;if(b!==null){w.child=null;do{var y=b.sibling;b.sibling=null,b=y}while(b!==null)}}E=a}}if(a.subtreeFlags&2064&&o!==null)o.return=a,E=o;else e:for(;E!==null;){if(a=E,a.flags&2048)switch(a.tag){case 0:case 11:case 15:An(9,a,a.return)}var g=a.sibling;if(g!==null){g.return=a.return,E=g;break e}E=a.return}}var p=e.current;for(E=p;E!==null;){o=E;var f=o.child;if(o.subtreeFlags&2064&&f!==null)f.return=o,E=f;else e:for(o=p;E!==null;){if(l=E,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:vo(9,l)}}catch(N){le(l,l.return,N)}if(l===o){E=null;break e}var j=l.sibling;if(j!==null){j.return=l.return,E=j;break e}E=l.return}}if(U=n,Cs(),Ct&&typeof Ct.onPostCommitFiberRoot=="function")try{Ct.onPostCommitFiberRoot(uo,e)}catch{}r=!0}return r}finally{q=s,at.transition=t}}return!1}function em(e,t,s){t=qr(s,t),t=R0(e,t,1),e=fs(e,t,1),t=Me(),e!==null&&(yi(e,1,t),He(e,t))}function le(e,t,s){if(e.tag===3)em(e,e,s);else for(;t!==null;){if(t.tag===3){em(t,e,s);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ps===null||!ps.has(r))){e=qr(s,e),e=O0(t,e,1),t=fs(t,e,1),e=Me(),t!==null&&(yi(t,1,e),He(t,e));break}}t=t.return}}function aw(e,t,s){var r=e.pingCache;r!==null&&r.delete(t),t=Me(),e.pingedLanes|=e.suspendedLanes&s,we===e&&(Se&s)===s&&(pe===4||pe===3&&(Se&130023424)===Se&&500>de()-Xu?Ks(e,0):Ju|=s),He(e,t)}function Z0(e,t){t===0&&(e.mode&1?(t=Ii,Ii<<=1,!(Ii&130023424)&&(Ii=4194304)):t=1);var s=Me();e=Bt(e,t),e!==null&&(yi(e,t,s),He(e,s))}function ow(e){var t=e.memoizedState,s=0;t!==null&&(s=t.retryLane),Z0(e,s)}function lw(e,t){var s=0;switch(e.tag){case 13:var r=e.stateNode,n=e.memoizedState;n!==null&&(s=n.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(P(314))}r!==null&&r.delete(t),Z0(e,s)}var eg;eg=function(e,t,s){if(e!==null)if(e.memoizedProps!==t.pendingProps||We.current)Be=!0;else{if(!(e.lanes&s)&&!(t.flags&128))return Be=!1,Q1(e,t,s);Be=!!(e.flags&131072)}else Be=!1,ee&&t.flags&1048576&&n0(t,La,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;fa(e,t),e=t.pendingProps;var n=Vr(t,Ae.current);Lr(t,s),n=qu(null,t,r,e,n,s);var a=Hu();return t.flags|=1,typeof n=="object"&&n!==null&&typeof n.render=="function"&&n.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,qe(r)?(a=!0,Oa(t)):a=!1,t.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,zu(t),n.updater=yo,t.stateNode=n,n._reactInternals=t,mc(t,r,e,s),t=gc(null,t,r,!0,a,s)):(t.tag=0,ee&&a&&Ou(t),De(null,t,n,s),t=t.child),t;case 16:r=t.elementType;e:{switch(fa(e,t),e=t.pendingProps,n=r._init,r=n(r._payload),t.type=r,n=t.tag=uw(r),e=pt(r,e),n){case 0:t=pc(null,t,r,e,s);break e;case 1:t=Wh(null,t,r,e,s);break e;case 11:t=Bh(null,t,r,e,s);break e;case 14:t=Uh(null,t,r,pt(r.type,e),s);break e}throw Error(P(306,r,""))}return t;case 0:return r=t.type,n=t.pendingProps,n=t.elementType===r?n:pt(r,n),pc(e,t,r,n,s);case 1:return r=t.type,n=t.pendingProps,n=t.elementType===r?n:pt(r,n),Wh(e,t,r,n,s);case 3:e:{if(I0(t),e===null)throw Error(P(387));r=t.pendingProps,a=t.memoizedState,n=a.element,u0(e,t),$a(t,r,null,s);var o=t.memoizedState;if(r=o.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){n=qr(Error(P(423)),t),t=qh(e,t,r,s,n);break e}else if(r!==n){n=qr(Error(P(424)),t),t=qh(e,t,r,s,n);break e}else for(Ye=ms(t.stateNode.containerInfo.firstChild),Je=t,ee=!0,yt=null,s=l0(t,null,r,s),t.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(Br(),r===n){t=Ut(e,t,s);break e}De(e,t,r,s)}t=t.child}return t;case 5:return d0(t),e===null&&uc(t),r=t.type,n=t.pendingProps,a=e!==null?e.memoizedProps:null,o=n.children,ic(r,n)?o=null:a!==null&&ic(r,a)&&(t.flags|=32),M0(e,t),De(e,t,o,s),t.child;case 6:return e===null&&uc(t),null;case 13:return $0(e,t,s);case 4:return Vu(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Ur(t,null,r,s):De(e,t,r,s),t.child;case 11:return r=t.type,n=t.pendingProps,n=t.elementType===r?n:pt(r,n),Bh(e,t,r,n,s);case 7:return De(e,t,t.pendingProps,s),t.child;case 8:return De(e,t,t.pendingProps.children,s),t.child;case 12:return De(e,t,t.pendingProps.children,s),t.child;case 10:e:{if(r=t.type._context,n=t.pendingProps,a=t.memoizedProps,o=n.value,Q(Ma,r._currentValue),r._currentValue=o,a!==null)if(bt(a.value,o)){if(a.children===n.children&&!We.current){t=Ut(e,t,s);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var l=a.dependencies;if(l!==null){o=a.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(a.tag===1){c=Ft(-1,s&-s),c.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}a.lanes|=s,c=a.alternate,c!==null&&(c.lanes|=s),dc(a.return,s,t),l.lanes|=s;break}c=c.next}}else if(a.tag===10)o=a.type===t.type?null:a.child;else if(a.tag===18){if(o=a.return,o===null)throw Error(P(341));o.lanes|=s,l=o.alternate,l!==null&&(l.lanes|=s),dc(o,s,t),o=a.sibling}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===t){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}De(e,t,n.children,s),t=t.child}return t;case 9:return n=t.type,r=t.pendingProps.children,Lr(t,s),n=ct(n),r=r(n),t.flags|=1,De(e,t,r,s),t.child;case 14:return r=t.type,n=pt(r,t.pendingProps),n=pt(r.type,n),Uh(e,t,r,n,s);case 15:return D0(e,t,t.type,t.pendingProps,s);case 17:return r=t.type,n=t.pendingProps,n=t.elementType===r?n:pt(r,n),fa(e,t),t.tag=1,qe(r)?(e=!0,Oa(t)):e=!1,Lr(t,s),A0(t,r,n),mc(t,r,n,s),gc(null,t,r,!0,e,s);case 19:return F0(e,t,s);case 22:return L0(e,t,s)}throw Error(P(156,t.tag))};function tg(e,t){return Pp(e,t)}function cw(e,t,s,r){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function it(e,t,s,r){return new cw(e,t,s,r)}function sd(e){return e=e.prototype,!(!e||!e.isReactComponent)}function uw(e){if(typeof e=="function")return sd(e)?1:0;if(e!=null){if(e=e.$$typeof,e===bu)return 11;if(e===ju)return 14}return 2}function xs(e,t){var s=e.alternate;return s===null?(s=it(e.tag,t,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=t,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&14680064,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,t=e.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s}function xa(e,t,s,r,n,a){var o=2;if(r=e,typeof e=="function")sd(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case pr:return Qs(s.children,n,a,t);case wu:o=8,n|=8;break;case Il:return e=it(12,s,t,n|2),e.elementType=Il,e.lanes=a,e;case $l:return e=it(13,s,t,n),e.elementType=$l,e.lanes=a,e;case Fl:return e=it(19,s,t,n),e.elementType=Fl,e.lanes=a,e;case dp:return bo(s,n,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case cp:o=10;break e;case up:o=9;break e;case bu:o=11;break e;case ju:o=14;break e;case Zt:o=16,r=null;break e}throw Error(P(130,e==null?e:typeof e,""))}return t=it(o,s,t,n),t.elementType=e,t.type=r,t.lanes=a,t}function Qs(e,t,s,r){return e=it(7,e,r,t),e.lanes=s,e}function bo(e,t,s,r){return e=it(22,e,r,t),e.elementType=dp,e.lanes=s,e.stateNode={isHidden:!1},e}function ul(e,t,s){return e=it(6,e,null,t),e.lanes=s,e}function dl(e,t,s){return t=it(4,e.children!==null?e.children:[],e.key,t),t.lanes=s,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function dw(e,t,s,r,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=qo(0),this.expirationTimes=qo(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=qo(0),this.identifierPrefix=r,this.onRecoverableError=n,this.mutableSourceEagerHydrationData=null}function rd(e,t,s,r,n,a,o,l,c){return e=new dw(e,t,s,l,c),t===1?(t=1,a===!0&&(t|=8)):t=0,a=it(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:s,cache:null,transitions:null,pendingSuspenseBoundaries:null},zu(a),e}function hw(e,t,s){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:fr,key:r==null?null:""+r,children:e,containerInfo:t,implementation:s}}function sg(e){if(!e)return ws;e=e._reactInternals;e:{if(nr(e)!==e||e.tag!==1)throw Error(P(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(qe(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(P(171))}if(e.tag===1){var s=e.type;if(qe(s))return s0(e,s,t)}return t}function rg(e,t,s,r,n,a,o,l,c){return e=rd(s,r,!0,e,n,a,o,l,c),e.context=sg(null),s=e.current,r=Me(),n=gs(s),a=Ft(r,n),a.callback=t??null,fs(s,a,n),e.current.lanes=n,yi(e,n,r),He(e,r),e}function jo(e,t,s,r){var n=t.current,a=Me(),o=gs(n);return s=sg(s),t.context===null?t.context=s:t.pendingContext=s,t=Ft(a,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=fs(n,t,o),e!==null&&(wt(e,n,o,a),da(e,n,o)),o}function Ha(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function tm(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<t?s:t}}function nd(e,t){tm(e,t),(e=e.alternate)&&tm(e,t)}function mw(){return null}var ng=typeof reportError=="function"?reportError:function(e){console.error(e)};function id(e){this._internalRoot=e}No.prototype.render=id.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(P(409));jo(e,t,null,null)};No.prototype.unmount=id.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;sr(function(){jo(null,e,null,null)}),t[Vt]=null}};function No(e){this._internalRoot=e}No.prototype.unstable_scheduleHydration=function(e){if(e){var t=Lp();e={blockedOn:null,target:e,priority:t};for(var s=0;s<ss.length&&t!==0&&t<ss[s].priority;s++);ss.splice(s,0,e),s===0&&Ip(e)}};function ad(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function So(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function sm(){}function fw(e,t,s,r,n){if(n){if(typeof r=="function"){var a=r;r=function(){var u=Ha(o);a.call(u)}}var o=rg(t,r,e,0,null,!1,!1,"",sm);return e._reactRootContainer=o,e[Vt]=o.current,Xn(e.nodeType===8?e.parentNode:e),sr(),o}for(;n=e.lastChild;)e.removeChild(n);if(typeof r=="function"){var l=r;r=function(){var u=Ha(c);l.call(u)}}var c=rd(e,0,!1,null,null,!1,!1,"",sm);return e._reactRootContainer=c,e[Vt]=c.current,Xn(e.nodeType===8?e.parentNode:e),sr(function(){jo(t,c,s,r)}),c}function ko(e,t,s,r,n){var a=s._reactRootContainer;if(a){var o=a;if(typeof n=="function"){var l=n;n=function(){var c=Ha(o);l.call(c)}}jo(t,o,e,n)}else o=fw(s,t,e,n,r);return Ha(o)}Op=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var s=bn(t.pendingLanes);s!==0&&(ku(t,s|1),He(t,de()),!(U&6)&&(Hr=de()+500,Cs()))}break;case 13:sr(function(){var r=Bt(e,1);if(r!==null){var n=Me();wt(r,e,1,n)}}),nd(e,1)}};_u=function(e){if(e.tag===13){var t=Bt(e,134217728);if(t!==null){var s=Me();wt(t,e,134217728,s)}nd(e,134217728)}};Dp=function(e){if(e.tag===13){var t=gs(e),s=Bt(e,t);if(s!==null){var r=Me();wt(s,e,t,r)}nd(e,t)}};Lp=function(){return q};Mp=function(e,t){var s=q;try{return q=e,t()}finally{q=s}};Ql=function(e,t,s){switch(t){case"input":if(Bl(e,s),t=s.name,s.type==="radio"&&t!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<s.length;t++){var r=s[t];if(r!==e&&r.form===e.form){var n=po(r);if(!n)throw Error(P(90));mp(r),Bl(r,n)}}}break;case"textarea":pp(e,s);break;case"select":t=s.value,t!=null&&Ar(e,!!s.multiple,t,!1)}};jp=Zu;Np=sr;var pw={usingClientEntryPoint:!1,Events:[wi,vr,po,wp,bp,Zu]},gn={findFiberByHostInstance:Bs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},gw={bundleType:gn.bundleType,version:gn.version,rendererPackageName:gn.rendererPackageName,rendererConfig:gn.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Kt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=_p(e),e===null?null:e.stateNode},findFiberByHostInstance:gn.findFiberByHostInstance||mw,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ki=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ki.isDisabled&&Ki.supportsFiber)try{uo=Ki.inject(gw),Ct=Ki}catch{}}Ze.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=pw;Ze.createPortal=function(e,t){var s=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ad(t))throw Error(P(200));return hw(e,t,null,s)};Ze.createRoot=function(e,t){if(!ad(e))throw Error(P(299));var s=!1,r="",n=ng;return t!=null&&(t.unstable_strictMode===!0&&(s=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(n=t.onRecoverableError)),t=rd(e,1,!1,null,null,s,!1,r,n),e[Vt]=t.current,Xn(e.nodeType===8?e.parentNode:e),new id(t)};Ze.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(P(188)):(e=Object.keys(e).join(","),Error(P(268,e)));return e=_p(t),e=e===null?null:e.stateNode,e};Ze.flushSync=function(e){return sr(e)};Ze.hydrate=function(e,t,s){if(!So(t))throw Error(P(200));return ko(null,e,t,!0,s)};Ze.hydrateRoot=function(e,t,s){if(!ad(e))throw Error(P(405));var r=s!=null&&s.hydratedSources||null,n=!1,a="",o=ng;if(s!=null&&(s.unstable_strictMode===!0&&(n=!0),s.identifierPrefix!==void 0&&(a=s.identifierPrefix),s.onRecoverableError!==void 0&&(o=s.onRecoverableError)),t=rg(t,null,e,1,s??null,n,!1,a,o),e[Vt]=t.current,Xn(e),r)for(e=0;e<r.length;e++)s=r[e],n=s._getVersion,n=n(s._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[s,n]:t.mutableSourceEagerHydrationData.push(s,n);return new No(t)};Ze.render=function(e,t,s){if(!So(t))throw Error(P(200));return ko(null,e,t,!1,s)};Ze.unmountComponentAtNode=function(e){if(!So(e))throw Error(P(40));return e._reactRootContainer?(sr(function(){ko(null,null,e,!1,function(){e._reactRootContainer=null,e[Vt]=null})}),!0):!1};Ze.unstable_batchedUpdates=Zu;Ze.unstable_renderSubtreeIntoContainer=function(e,t,s,r){if(!So(s))throw Error(P(200));if(e==null||e._reactInternals===void 0)throw Error(P(38));return ko(e,t,s,!1,r)};Ze.version="18.3.1-next-f1338f8080-20240426";function ig(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(ig)}catch(e){console.error(e)}}ig(),ip.exports=Ze;var xw=ip.exports,ag,rm=xw;ag=rm.createRoot,rm.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function oi(){return oi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r])}return e},oi.apply(this,arguments)}var ls;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(ls||(ls={}));const nm="popstate";function yw(e){e===void 0&&(e={});function t(r,n){let{pathname:a,search:o,hash:l}=r.location;return Pc("",{pathname:a,search:o,hash:l},n.state&&n.state.usr||null,n.state&&n.state.key||"default")}function s(r,n){return typeof n=="string"?n:Ga(n)}return ww(t,s,null,e)}function he(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function og(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function vw(){return Math.random().toString(36).substr(2,8)}function im(e,t){return{usr:e.state,key:e.key,idx:t}}function Pc(e,t,s,r){return s===void 0&&(s=null),oi({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?tn(t):t,{state:s,key:t&&t.key||r||vw()})}function Ga(e){let{pathname:t="/",search:s="",hash:r=""}=e;return s&&s!=="?"&&(t+=s.charAt(0)==="?"?s:"?"+s),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function tn(e){let t={};if(e){let s=e.indexOf("#");s>=0&&(t.hash=e.substr(s),e=e.substr(0,s));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function ww(e,t,s,r){r===void 0&&(r={});let{window:n=document.defaultView,v5Compat:a=!1}=r,o=n.history,l=ls.Pop,c=null,u=d();u==null&&(u=0,o.replaceState(oi({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function h(){l=ls.Pop;let y=d(),g=y==null?null:y-u;u=y,c&&c({action:l,location:b.location,delta:g})}function m(y,g){l=ls.Push;let p=Pc(b.location,y,g);u=d()+1;let f=im(p,u),j=b.createHref(p);try{o.pushState(f,"",j)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;n.location.assign(j)}a&&c&&c({action:l,location:b.location,delta:1})}function x(y,g){l=ls.Replace;let p=Pc(b.location,y,g);u=d();let f=im(p,u),j=b.createHref(p);o.replaceState(f,"",j),a&&c&&c({action:l,location:b.location,delta:0})}function w(y){let g=n.location.origin!=="null"?n.location.origin:n.location.href,p=typeof y=="string"?y:Ga(y);return p=p.replace(/ $/,"%20"),he(g,"No window.location.(origin|href) available to create URL for href: "+p),new URL(p,g)}let b={get action(){return l},get location(){return e(n,o)},listen(y){if(c)throw new Error("A history only accepts one active listener");return n.addEventListener(nm,h),c=y,()=>{n.removeEventListener(nm,h),c=null}},createHref(y){return t(n,y)},createURL:w,encodeLocation(y){let g=w(y);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:m,replace:x,go(y){return o.go(y)}};return b}var am;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(am||(am={}));function bw(e,t,s){return s===void 0&&(s="/"),jw(e,t,s,!1)}function jw(e,t,s,r){let n=typeof t=="string"?tn(t):t,a=od(n.pathname||"/",s);if(a==null)return null;let o=lg(e);Nw(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=Dw(a);l=Rw(o[c],u,r)}return l}function lg(e,t,s,r){t===void 0&&(t=[]),s===void 0&&(s=[]),r===void 0&&(r="");let n=(a,o,l)=>{let c={relativePath:l===void 0?a.path||"":l,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};c.relativePath.startsWith("/")&&(he(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let u=ys([r,c.relativePath]),d=s.concat(c);a.children&&a.children.length>0&&(he(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),lg(a.children,t,d,u)),!(a.path==null&&!a.index)&&t.push({path:u,score:Tw(u,a.index),routesMeta:d})};return e.forEach((a,o)=>{var l;if(a.path===""||!((l=a.path)!=null&&l.includes("?")))n(a,o);else for(let c of cg(a.path))n(a,o,c)}),t}function cg(e){let t=e.split("/");if(t.length===0)return[];let[s,...r]=t,n=s.endsWith("?"),a=s.replace(/\?$/,"");if(r.length===0)return n?[a,""]:[a];let o=cg(r.join("/")),l=[];return l.push(...o.map(c=>c===""?a:[a,c].join("/"))),n&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function Nw(e){e.sort((t,s)=>t.score!==s.score?s.score-t.score:Aw(t.routesMeta.map(r=>r.childrenIndex),s.routesMeta.map(r=>r.childrenIndex)))}const Sw=/^:[\w-]+$/,kw=3,_w=2,Cw=1,Pw=10,Ew=-2,om=e=>e==="*";function Tw(e,t){let s=e.split("/"),r=s.length;return s.some(om)&&(r+=Ew),t&&(r+=_w),s.filter(n=>!om(n)).reduce((n,a)=>n+(Sw.test(a)?kw:a===""?Cw:Pw),r)}function Aw(e,t){return e.length===t.length&&e.slice(0,-1).every((r,n)=>r===t[n])?e[e.length-1]-t[t.length-1]:0}function Rw(e,t,s){let{routesMeta:r}=e,n={},a="/",o=[];for(let l=0;l<r.length;++l){let c=r[l],u=l===r.length-1,d=a==="/"?t:t.slice(a.length)||"/",h=lm({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),m=c.route;if(!h&&u&&s&&!r[r.length-1].route.index&&(h=lm({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!h)return null;Object.assign(n,h.params),o.push({params:n,pathname:ys([a,h.pathname]),pathnameBase:$w(ys([a,h.pathnameBase])),route:m}),h.pathnameBase!=="/"&&(a=ys([a,h.pathnameBase]))}return o}function lm(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[s,r]=Ow(e.path,e.caseSensitive,e.end),n=t.match(s);if(!n)return null;let a=n[0],o=a.replace(/(.)\/+$/,"$1"),l=n.slice(1);return{params:r.reduce((u,d,h)=>{let{paramName:m,isOptional:x}=d;if(m==="*"){let b=l[h]||"";o=a.slice(0,a.length-b.length).replace(/(.)\/+$/,"$1")}const w=l[h];return x&&!w?u[m]=void 0:u[m]=(w||"").replace(/%2F/g,"/"),u},{}),pathname:a,pathnameBase:o,pattern:e}}function Ow(e,t,s){t===void 0&&(t=!1),s===void 0&&(s=!0),og(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],n="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),n+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?n+="\\/*$":e!==""&&e!=="/"&&(n+="(?:(?=\\/|$))"),[new RegExp(n,t?void 0:"i"),r]}function Dw(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return og(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function od(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let s=t.endsWith("/")?t.length-1:t.length,r=e.charAt(s);return r&&r!=="/"?null:e.slice(s)||"/"}function Lw(e,t){t===void 0&&(t="/");let{pathname:s,search:r="",hash:n=""}=typeof e=="string"?tn(e):e;return{pathname:s?s.startsWith("/")?s:Mw(s,t):t,search:Fw(r),hash:zw(n)}}function Mw(e,t){let s=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(n=>{n===".."?s.length>1&&s.pop():n!=="."&&s.push(n)}),s.length>1?s.join("/"):"/"}function hl(e,t,s,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+s+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Iw(e){return e.filter((t,s)=>s===0||t.route.path&&t.route.path.length>0)}function ld(e,t){let s=Iw(e);return t?s.map((r,n)=>n===s.length-1?r.pathname:r.pathnameBase):s.map(r=>r.pathnameBase)}function cd(e,t,s,r){r===void 0&&(r=!1);let n;typeof e=="string"?n=tn(e):(n=oi({},e),he(!n.pathname||!n.pathname.includes("?"),hl("?","pathname","search",n)),he(!n.pathname||!n.pathname.includes("#"),hl("#","pathname","hash",n)),he(!n.search||!n.search.includes("#"),hl("#","search","hash",n)));let a=e===""||n.pathname==="",o=a?"/":n.pathname,l;if(o==null)l=s;else{let h=t.length-1;if(!r&&o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),h-=1;n.pathname=m.join("/")}l=h>=0?t[h]:"/"}let c=Lw(n,l),u=o&&o!=="/"&&o.endsWith("/"),d=(a||o===".")&&s.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const ys=e=>e.join("/").replace(/\/\/+/g,"/"),$w=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Fw=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,zw=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Vw(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const ug=["post","put","patch","delete"];new Set(ug);const Bw=["get",...ug];new Set(Bw);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function li(){return li=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r])}return e},li.apply(this,arguments)}const ud=v.createContext(null),Uw=v.createContext(null),Ps=v.createContext(null),_o=v.createContext(null),Qt=v.createContext({outlet:null,matches:[],isDataRoute:!1}),dg=v.createContext(null);function Ww(e,t){let{relative:s}=t===void 0?{}:t;sn()||he(!1);let{basename:r,navigator:n}=v.useContext(Ps),{hash:a,pathname:o,search:l}=mg(e,{relative:s}),c=o;return r!=="/"&&(c=o==="/"?r:ys([r,o])),n.createHref({pathname:c,search:l,hash:a})}function sn(){return v.useContext(_o)!=null}function dt(){return sn()||he(!1),v.useContext(_o).location}function hg(e){v.useContext(Ps).static||v.useLayoutEffect(e)}function Ge(){let{isDataRoute:e}=v.useContext(Qt);return e?rb():qw()}function qw(){sn()||he(!1);let e=v.useContext(ud),{basename:t,future:s,navigator:r}=v.useContext(Ps),{matches:n}=v.useContext(Qt),{pathname:a}=dt(),o=JSON.stringify(ld(n,s.v7_relativeSplatPath)),l=v.useRef(!1);return hg(()=>{l.current=!0}),v.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){r.go(u);return}let h=cd(u,JSON.parse(o),a,d.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:ys([t,h.pathname])),(d.replace?r.replace:r.push)(h,d.state,d)},[t,r,o,a,e])}function Co(){let{matches:e}=v.useContext(Qt),t=e[e.length-1];return t?t.params:{}}function mg(e,t){let{relative:s}=t===void 0?{}:t,{future:r}=v.useContext(Ps),{matches:n}=v.useContext(Qt),{pathname:a}=dt(),o=JSON.stringify(ld(n,r.v7_relativeSplatPath));return v.useMemo(()=>cd(e,JSON.parse(o),a,s==="path"),[e,o,a,s])}function Hw(e,t){return Gw(e,t)}function Gw(e,t,s,r){sn()||he(!1);let{navigator:n}=v.useContext(Ps),{matches:a}=v.useContext(Qt),o=a[a.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=dt(),d;if(t){var h;let y=typeof t=="string"?tn(t):t;c==="/"||(h=y.pathname)!=null&&h.startsWith(c)||he(!1),d=y}else d=u;let m=d.pathname||"/",x=m;if(c!=="/"){let y=c.replace(/^\//,"").split("/");x="/"+m.replace(/^\//,"").split("/").slice(y.length).join("/")}let w=bw(e,{pathname:x}),b=Xw(w&&w.map(y=>Object.assign({},y,{params:Object.assign({},l,y.params),pathname:ys([c,n.encodeLocation?n.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?c:ys([c,n.encodeLocation?n.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),a,s,r);return t&&b?v.createElement(_o.Provider,{value:{location:li({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:ls.Pop}},b):b}function Kw(){let e=sb(),t=Vw(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),s=e instanceof Error?e.stack:null,n={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return v.createElement(v.Fragment,null,v.createElement("h2",null,"Unexpected Application Error!"),v.createElement("h3",{style:{fontStyle:"italic"}},t),s?v.createElement("pre",{style:n},s):null,null)}const Qw=v.createElement(Kw,null);class Yw extends v.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,s){return s.location!==t.location||s.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:s.error,location:s.location,revalidation:t.revalidation||s.revalidation}}componentDidCatch(t,s){console.error("React Router caught the following error during render",t,s)}render(){return this.state.error!==void 0?v.createElement(Qt.Provider,{value:this.props.routeContext},v.createElement(dg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Jw(e){let{routeContext:t,match:s,children:r}=e,n=v.useContext(ud);return n&&n.static&&n.staticContext&&(s.route.errorElement||s.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=s.route.id),v.createElement(Qt.Provider,{value:t},r)}function Xw(e,t,s,r){var n;if(t===void 0&&(t=[]),s===void 0&&(s=null),r===void 0&&(r=null),e==null){var a;if(!s)return null;if(s.errors)e=s.matches;else if((a=r)!=null&&a.v7_partialHydration&&t.length===0&&!s.initialized&&s.matches.length>0)e=s.matches;else return null}let o=e,l=(n=s)==null?void 0:n.errors;if(l!=null){let d=o.findIndex(h=>h.route.id&&(l==null?void 0:l[h.route.id])!==void 0);d>=0||he(!1),o=o.slice(0,Math.min(o.length,d+1))}let c=!1,u=-1;if(s&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let h=o[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=d),h.route.id){let{loaderData:m,errors:x}=s,w=h.route.loader&&m[h.route.id]===void 0&&(!x||x[h.route.id]===void 0);if(h.route.lazy||w){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,h,m)=>{let x,w=!1,b=null,y=null;s&&(x=l&&h.route.id?l[h.route.id]:void 0,b=h.route.errorElement||Qw,c&&(u<0&&m===0?(w=!0,y=null):u===m&&(w=!0,y=h.route.hydrateFallbackElement||null)));let g=t.concat(o.slice(0,m+1)),p=()=>{let f;return x?f=b:w?f=y:h.route.Component?f=v.createElement(h.route.Component,null):h.route.element?f=h.route.element:f=d,v.createElement(Jw,{match:h,routeContext:{outlet:d,matches:g,isDataRoute:s!=null},children:f})};return s&&(h.route.ErrorBoundary||h.route.errorElement||m===0)?v.createElement(Yw,{location:s.location,revalidation:s.revalidation,component:b,error:x,children:p(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):p()},null)}var fg=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(fg||{}),Ka=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Ka||{});function Zw(e){let t=v.useContext(ud);return t||he(!1),t}function eb(e){let t=v.useContext(Uw);return t||he(!1),t}function tb(e){let t=v.useContext(Qt);return t||he(!1),t}function pg(e){let t=tb(),s=t.matches[t.matches.length-1];return s.route.id||he(!1),s.route.id}function sb(){var e;let t=v.useContext(dg),s=eb(Ka.UseRouteError),r=pg(Ka.UseRouteError);return t!==void 0?t:(e=s.errors)==null?void 0:e[r]}function rb(){let{router:e}=Zw(fg.UseNavigateStable),t=pg(Ka.UseNavigateStable),s=v.useRef(!1);return hg(()=>{s.current=!0}),v.useCallback(function(n,a){a===void 0&&(a={}),s.current&&(typeof n=="number"?e.navigate(n):e.navigate(n,li({fromRouteId:t},a)))},[e,t])}function nb(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function cm(e){let{to:t,replace:s,state:r,relative:n}=e;sn()||he(!1);let{future:a,static:o}=v.useContext(Ps),{matches:l}=v.useContext(Qt),{pathname:c}=dt(),u=Ge(),d=cd(t,ld(l,a.v7_relativeSplatPath),c,n==="path"),h=JSON.stringify(d);return v.useEffect(()=>u(JSON.parse(h),{replace:s,state:r,relative:n}),[u,h,n,s,r]),null}function ae(e){he(!1)}function ib(e){let{basename:t="/",children:s=null,location:r,navigationType:n=ls.Pop,navigator:a,static:o=!1,future:l}=e;sn()&&he(!1);let c=t.replace(/^\/*/,"/"),u=v.useMemo(()=>({basename:c,navigator:a,static:o,future:li({v7_relativeSplatPath:!1},l)}),[c,l,a,o]);typeof r=="string"&&(r=tn(r));let{pathname:d="/",search:h="",hash:m="",state:x=null,key:w="default"}=r,b=v.useMemo(()=>{let y=od(d,c);return y==null?null:{location:{pathname:y,search:h,hash:m,state:x,key:w},navigationType:n}},[c,d,h,m,x,w,n]);return b==null?null:v.createElement(Ps.Provider,{value:u},v.createElement(_o.Provider,{children:s,value:b}))}function ab(e){let{children:t,location:s}=e;return Hw(Ec(t),s)}new Promise(()=>{});function Ec(e,t){t===void 0&&(t=[]);let s=[];return v.Children.forEach(e,(r,n)=>{if(!v.isValidElement(r))return;let a=[...t,n];if(r.type===v.Fragment){s.push.apply(s,Ec(r.props.children,a));return}r.type!==ae&&he(!1),!r.props.index||!r.props.children||he(!1);let o={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Ec(r.props.children,a)),s.push(o)}),s}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Tc(){return Tc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r])}return e},Tc.apply(this,arguments)}function ob(e,t){if(e==null)return{};var s={},r=Object.keys(e),n,a;for(a=0;a<r.length;a++)n=r[a],!(t.indexOf(n)>=0)&&(s[n]=e[n]);return s}function lb(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function cb(e,t){return e.button===0&&(!t||t==="_self")&&!lb(e)}function Ac(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,s)=>{let r=e[s];return t.concat(Array.isArray(r)?r.map(n=>[s,n]):[[s,r]])},[]))}function ub(e,t){let s=Ac(e);return t&&t.forEach((r,n)=>{s.has(n)||t.getAll(n).forEach(a=>{s.append(n,a)})}),s}const db=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],hb="6";try{window.__reactRouterVersion=hb}catch{}const mb="startTransition",um=av[mb];function fb(e){let{basename:t,children:s,future:r,window:n}=e,a=v.useRef();a.current==null&&(a.current=yw({window:n,v5Compat:!0}));let o=a.current,[l,c]=v.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},d=v.useCallback(h=>{u&&um?um(()=>c(h)):c(h)},[c,u]);return v.useLayoutEffect(()=>o.listen(d),[o,d]),v.useEffect(()=>nb(r),[r]),v.createElement(ib,{basename:t,children:s,location:l.location,navigationType:l.action,navigator:o,future:r})}const pb=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",gb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,O=v.forwardRef(function(t,s){let{onClick:r,relative:n,reloadDocument:a,replace:o,state:l,target:c,to:u,preventScrollReset:d,viewTransition:h}=t,m=ob(t,db),{basename:x}=v.useContext(Ps),w,b=!1;if(typeof u=="string"&&gb.test(u)&&(w=u,pb))try{let f=new URL(window.location.href),j=u.startsWith("//")?new URL(f.protocol+u):new URL(u),N=od(j.pathname,x);j.origin===f.origin&&N!=null?u=N+j.search+j.hash:b=!0}catch{}let y=Ww(u,{relative:n}),g=xb(u,{replace:o,state:l,target:c,preventScrollReset:d,relative:n,viewTransition:h});function p(f){r&&r(f),f.defaultPrevented||g(f)}return v.createElement("a",Tc({},m,{href:w||y,onClick:b||a?r:p,ref:s,target:c}))});var dm;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(dm||(dm={}));var hm;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(hm||(hm={}));function xb(e,t){let{target:s,replace:r,state:n,preventScrollReset:a,relative:o,viewTransition:l}=t===void 0?{}:t,c=Ge(),u=dt(),d=mg(e,{relative:o});return v.useCallback(h=>{if(cb(h,s)){h.preventDefault();let m=r!==void 0?r:Ga(u)===Ga(d);c(e,{replace:m,state:n,preventScrollReset:a,relative:o,viewTransition:l})}},[u,c,d,r,n,s,e,a,o,l])}function gg(e){let t=v.useRef(Ac(e)),s=v.useRef(!1),r=dt(),n=v.useMemo(()=>ub(r.search,s.current?null:t.current),[r.search]),a=Ge(),o=v.useCallback((l,c)=>{const u=Ac(typeof l=="function"?l(n):l);s.current=!0,a("?"+u,c)},[a,n]);return[n,o]}let yb={data:""},vb=e=>typeof window=="object"?((e?e.querySelector("#_goober"):window._goober)||Object.assign((e||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:e||yb,wb=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,bb=/\/\*[^]*?\*\/|  +/g,mm=/\n+/g,ns=(e,t)=>{let s="",r="",n="";for(let a in e){let o=e[a];a[0]=="@"?a[1]=="i"?s=a+" "+o+";":r+=a[1]=="f"?ns(o,a):a+"{"+ns(o,a[1]=="k"?"":t)+"}":typeof o=="object"?r+=ns(o,t?t.replace(/([^,])+/g,l=>a.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,c=>/&/.test(c)?c.replace(/&/g,l):l?l+" "+c:c)):a):o!=null&&(a=/^--/.test(a)?a:a.replace(/[A-Z]/g,"-$&").toLowerCase(),n+=ns.p?ns.p(a,o):a+":"+o+";")}return s+(t&&n?t+"{"+n+"}":n)+r},Rt={},xg=e=>{if(typeof e=="object"){let t="";for(let s in e)t+=s+xg(e[s]);return t}return e},jb=(e,t,s,r,n)=>{let a=xg(e),o=Rt[a]||(Rt[a]=(c=>{let u=0,d=11;for(;u<c.length;)d=101*d+c.charCodeAt(u++)>>>0;return"go"+d})(a));if(!Rt[o]){let c=a!==e?e:(u=>{let d,h,m=[{}];for(;d=wb.exec(u.replace(bb,""));)d[4]?m.shift():d[3]?(h=d[3].replace(mm," ").trim(),m.unshift(m[0][h]=m[0][h]||{})):m[0][d[1]]=d[2].replace(mm," ").trim();return m[0]})(e);Rt[o]=ns(n?{["@keyframes "+o]:c}:c,s?"":"."+o)}let l=s&&Rt.g?Rt.g:null;return s&&(Rt.g=Rt[o]),((c,u,d,h)=>{h?u.data=u.data.replace(h,c):u.data.indexOf(c)===-1&&(u.data=d?c+u.data:u.data+c)})(Rt[o],t,r,l),o},Nb=(e,t,s)=>e.reduce((r,n,a)=>{let o=t[a];if(o&&o.call){let l=o(s),c=l&&l.props&&l.props.className||/^go/.test(l)&&l;o=c?"."+c:l&&typeof l=="object"?l.props?"":ns(l,""):l===!1?"":l}return r+n+(o??"")},"");function Po(e){let t=this||{},s=e.call?e(t.p):e;return jb(s.unshift?s.raw?Nb(s,[].slice.call(arguments,1),t.p):s.reduce((r,n)=>Object.assign(r,n&&n.call?n(t.p):n),{}):s,vb(t.target),t.g,t.o,t.k)}let yg,Rc,Oc;Po.bind({g:1});let Wt=Po.bind({k:1});function Sb(e,t,s,r){ns.p=t,yg=e,Rc=s,Oc=r}function Es(e,t){let s=this||{};return function(){let r=arguments;function n(a,o){let l=Object.assign({},a),c=l.className||n.className;s.p=Object.assign({theme:Rc&&Rc()},l),s.o=/ *go\d+/.test(c),l.className=Po.apply(s,r)+(c?" "+c:"");let u=e;return e[0]&&(u=l.as||e,delete l.as),Oc&&u[0]&&Oc(l),yg(u,l)}return n}}var kb=e=>typeof e=="function",Qa=(e,t)=>kb(e)?e(t):e,_b=(()=>{let e=0;return()=>(++e).toString()})(),vg=(()=>{let e;return()=>{if(e===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),Cb=20,wg=(e,t)=>{switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,Cb)};case 1:return{...e,toasts:e.toasts.map(a=>a.id===t.toast.id?{...a,...t.toast}:a)};case 2:let{toast:s}=t;return wg(e,{type:e.toasts.find(a=>a.id===s.id)?1:0,toast:s});case 3:let{toastId:r}=t;return{...e,toasts:e.toasts.map(a=>a.id===r||r===void 0?{...a,dismissed:!0,visible:!1}:a)};case 4:return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(a=>a.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let n=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(a=>({...a,pauseDuration:a.pauseDuration+n}))}}},ya=[],qs={toasts:[],pausedAt:void 0},ir=e=>{qs=wg(qs,e),ya.forEach(t=>{t(qs)})},Pb={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},Eb=(e={})=>{let[t,s]=v.useState(qs),r=v.useRef(qs);v.useEffect(()=>(r.current!==qs&&s(qs),ya.push(s),()=>{let a=ya.indexOf(s);a>-1&&ya.splice(a,1)}),[]);let n=t.toasts.map(a=>{var o,l,c;return{...e,...e[a.type],...a,removeDelay:a.removeDelay||((o=e[a.type])==null?void 0:o.removeDelay)||(e==null?void 0:e.removeDelay),duration:a.duration||((l=e[a.type])==null?void 0:l.duration)||(e==null?void 0:e.duration)||Pb[a.type],style:{...e.style,...(c=e[a.type])==null?void 0:c.style,...a.style}}});return{...t,toasts:n}},Tb=(e,t="blank",s)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...s,id:(s==null?void 0:s.id)||_b()}),ji=e=>(t,s)=>{let r=Tb(t,e,s);return ir({type:2,toast:r}),r.id},Ne=(e,t)=>ji("blank")(e,t);Ne.error=ji("error");Ne.success=ji("success");Ne.loading=ji("loading");Ne.custom=ji("custom");Ne.dismiss=e=>{ir({type:3,toastId:e})};Ne.remove=e=>ir({type:4,toastId:e});Ne.promise=(e,t,s)=>{let r=Ne.loading(t.loading,{...s,...s==null?void 0:s.loading});return typeof e=="function"&&(e=e()),e.then(n=>{let a=t.success?Qa(t.success,n):void 0;return a?Ne.success(a,{id:r,...s,...s==null?void 0:s.success}):Ne.dismiss(r),n}).catch(n=>{let a=t.error?Qa(t.error,n):void 0;a?Ne.error(a,{id:r,...s,...s==null?void 0:s.error}):Ne.dismiss(r)}),e};var Ab=(e,t)=>{ir({type:1,toast:{id:e,height:t}})},Rb=()=>{ir({type:5,time:Date.now()})},Dn=new Map,Ob=1e3,Db=(e,t=Ob)=>{if(Dn.has(e))return;let s=setTimeout(()=>{Dn.delete(e),ir({type:4,toastId:e})},t);Dn.set(e,s)},Lb=e=>{let{toasts:t,pausedAt:s}=Eb(e);v.useEffect(()=>{if(s)return;let a=Date.now(),o=t.map(l=>{if(l.duration===1/0)return;let c=(l.duration||0)+l.pauseDuration-(a-l.createdAt);if(c<0){l.visible&&Ne.dismiss(l.id);return}return setTimeout(()=>Ne.dismiss(l.id),c)});return()=>{o.forEach(l=>l&&clearTimeout(l))}},[t,s]);let r=v.useCallback(()=>{s&&ir({type:6,time:Date.now()})},[s]),n=v.useCallback((a,o)=>{let{reverseOrder:l=!1,gutter:c=8,defaultPosition:u}=o||{},d=t.filter(x=>(x.position||u)===(a.position||u)&&x.height),h=d.findIndex(x=>x.id===a.id),m=d.filter((x,w)=>w<h&&x.visible).length;return d.filter(x=>x.visible).slice(...l?[m+1]:[0,m]).reduce((x,w)=>x+(w.height||0)+c,0)},[t]);return v.useEffect(()=>{t.forEach(a=>{if(a.dismissed)Db(a.id,a.removeDelay);else{let o=Dn.get(a.id);o&&(clearTimeout(o),Dn.delete(a.id))}})},[t]),{toasts:t,handlers:{updateHeight:Ab,startPause:Rb,endPause:r,calculateOffset:n}}},Mb=Wt`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,Ib=Wt`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,$b=Wt`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,Fb=Es("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Mb} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${Ib} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${$b} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,zb=Wt`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,Vb=Es("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${zb} 1s linear infinite;
`,Bb=Wt`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,Ub=Wt`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,Wb=Es("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Bb} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${Ub} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,qb=Es("div")`
  position: absolute;
`,Hb=Es("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,Gb=Wt`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Kb=Es("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${Gb} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,Qb=({toast:e})=>{let{icon:t,type:s,iconTheme:r}=e;return t!==void 0?typeof t=="string"?v.createElement(Kb,null,t):t:s==="blank"?null:v.createElement(Hb,null,v.createElement(Vb,{...r}),s!=="loading"&&v.createElement(qb,null,s==="error"?v.createElement(Fb,{...r}):v.createElement(Wb,{...r})))},Yb=e=>`
0% {transform: translate3d(0,${e*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,Jb=e=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${e*-150}%,-1px) scale(.6); opacity:0;}
`,Xb="0%{opacity:0;} 100%{opacity:1;}",Zb="0%{opacity:1;} 100%{opacity:0;}",ej=Es("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,tj=Es("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,sj=(e,t)=>{let s=e.includes("top")?1:-1,[r,n]=vg()?[Xb,Zb]:[Yb(s),Jb(s)];return{animation:t?`${Wt(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Wt(n)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},rj=v.memo(({toast:e,position:t,style:s,children:r})=>{let n=e.height?sj(e.position||t||"top-center",e.visible):{opacity:0},a=v.createElement(Qb,{toast:e}),o=v.createElement(tj,{...e.ariaProps},Qa(e.message,e));return v.createElement(ej,{className:e.className,style:{...n,...s,...e.style}},typeof r=="function"?r({icon:a,message:o}):v.createElement(v.Fragment,null,a,o))});Sb(v.createElement);var nj=({id:e,className:t,style:s,onHeightUpdate:r,children:n})=>{let a=v.useCallback(o=>{if(o){let l=()=>{let c=o.getBoundingClientRect().height;r(e,c)};l(),new MutationObserver(l).observe(o,{subtree:!0,childList:!0,characterData:!0})}},[e,r]);return v.createElement("div",{ref:a,className:t,style:s},n)},ij=(e,t)=>{let s=e.includes("top"),r=s?{top:0}:{bottom:0},n=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:vg()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(s?1:-1)}px)`,...r,...n}},aj=Po`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Qi=16,oj=({reverseOrder:e,position:t="top-center",toastOptions:s,gutter:r,children:n,containerStyle:a,containerClassName:o})=>{let{toasts:l,handlers:c}=Lb(s);return v.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:Qi,left:Qi,right:Qi,bottom:Qi,pointerEvents:"none",...a},className:o,onMouseEnter:c.startPause,onMouseLeave:c.endPause},l.map(u=>{let d=u.position||t,h=c.calculateOffset(u,{reverseOrder:e,gutter:r,defaultPosition:t}),m=ij(d,h);return v.createElement(nj,{id:u.id,key:u.id,onHeightUpdate:c.updateHeight,className:u.visible?aj:"",style:m},u.type==="custom"?Qa(u.message,u):n?n(u):v.createElement(rj,{toast:u,position:d}))}))},F=Ne;/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var lj={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cj=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),M=(e,t)=>{const s=v.forwardRef(({color:r="currentColor",size:n=24,strokeWidth:a=2,absoluteStrokeWidth:o,className:l="",children:c,...u},d)=>v.createElement("svg",{ref:d,...lj,width:n,height:n,stroke:r,strokeWidth:o?Number(a)*24/Number(n):a,className:["lucide",`lucide-${cj(e)}`,l].join(" "),...u},[...t.map(([h,m])=>v.createElement(h,m)),...Array.isArray(c)?c:[c]]));return s.displayName=`${e}`,s};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dd=M("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bg=M("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dc=M("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uj=M("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dj=M("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ir=M("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hj=M("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jg=M("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ya=M("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ja=M("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ng=M("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bs=M("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sg=M("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gr=M("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mj=M("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const js=M("Leaf",[["path",{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z",key:"nnexq3"}],["path",{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12",key:"mt58a7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fj=M("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ln=M("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pj=M("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qt=M("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gj=M("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xj=M("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yj=M("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vj=M("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wj=M("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lc=M("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bj=M("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xa=M("Recycle",[["path",{d:"M7 19H4.815a1.83 1.83 0 0 1-1.57-.881 1.785 1.785 0 0 1-.004-1.784L7.196 9.5",key:"x6z5xu"}],["path",{d:"M11 19h8.203a1.83 1.83 0 0 0 1.556-.89 1.784 1.784 0 0 0 0-1.775l-1.226-2.12",key:"1x4zh5"}],["path",{d:"m14 16-3 3 3 3",key:"f6jyew"}],["path",{d:"M8.293 13.596 7.196 9.5 3.1 10.598",key:"wf1obh"}],["path",{d:"m9.344 5.811 1.093-1.892A1.83 1.83 0 0 1 11.985 3a1.784 1.784 0 0 1 1.546.888l3.943 6.843",key:"9tzpgr"}],["path",{d:"m13.378 9.633 4.096 1.098 1.097-4.096",key:"1oe83g"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jj=M("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nj=M("Ruler",[["path",{d:"M21.3 15.3a2.4 2.4 0 0 1 0 3.4l-2.6 2.6a2.4 2.4 0 0 1-3.4 0L2.7 8.7a2.41 2.41 0 0 1 0-3.4l2.6-2.6a2.41 2.41 0 0 1 3.4 0Z",key:"icamh8"}],["path",{d:"m14.5 12.5 2-2",key:"inckbg"}],["path",{d:"m11.5 9.5 2-2",key:"fmmyf7"}],["path",{d:"m8.5 6.5 2-2",key:"vc6u1g"}],["path",{d:"m17.5 15.5 2-2",key:"wo5hmg"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sj=M("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mc=M("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kj=M("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kg=M("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Za=M("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eo=M("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _g=M("SlidersHorizontal",[["line",{x1:"21",x2:"14",y1:"4",y2:"4",key:"obuewd"}],["line",{x1:"10",x2:"3",y1:"4",y2:"4",key:"1q6298"}],["line",{x1:"21",x2:"12",y1:"12",y2:"12",key:"1iu8h1"}],["line",{x1:"8",x2:"3",y1:"12",y2:"12",key:"ntss68"}],["line",{x1:"21",x2:"16",y1:"20",y2:"20",key:"14d8ph"}],["line",{x1:"12",x2:"3",y1:"20",y2:"20",key:"m0wm8r"}],["line",{x1:"14",x2:"14",y1:"2",y2:"6",key:"14e1ph"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"16",x2:"16",y1:"18",y2:"22",key:"1lctlv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _j=M("Sliders",[["line",{x1:"4",x2:"4",y1:"21",y2:"14",key:"1p332r"}],["line",{x1:"4",x2:"4",y1:"10",y2:"3",key:"gb41h5"}],["line",{x1:"12",x2:"12",y1:"21",y2:"12",key:"hf2csr"}],["line",{x1:"12",x2:"12",y1:"8",y2:"3",key:"1kfi7u"}],["line",{x1:"20",x2:"20",y1:"21",y2:"16",key:"1lhrwl"}],["line",{x1:"20",x2:"20",y1:"12",y2:"3",key:"16vvfq"}],["line",{x1:"2",x2:"6",y1:"14",y2:"14",key:"1uebub"}],["line",{x1:"10",x2:"14",y1:"8",y2:"8",key:"1yglbp"}],["line",{x1:"18",x2:"22",y1:"16",y2:"16",key:"1jxqpz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cg=M("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cj=M("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ic=M("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pg=M("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jt=M("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pj=M("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cs=M("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ej=M("Youtube",[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tj=M("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),Aj="modulepreload",Rj=function(e){return"/"+e},fm={},Ni=function(t,s,r){let n=Promise.resolve();if(s&&s.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));n=Promise.allSettled(s.map(c=>{if(c=Rj(c),c in fm)return;fm[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const h=document.createElement("link");if(h.rel=u?"stylesheet":Aj,u||(h.as="script"),h.crossOrigin="",h.href=c,l&&h.setAttribute("nonce",l),document.head.appendChild(h),u)return new Promise((m,x)=>{h.addEventListener("load",m),h.addEventListener("error",()=>x(new Error(`Unable to preload CSS for ${c}`)))})}))}function a(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return n.then(o=>{for(const l of o||[])l.status==="rejected"&&a(l.reason);return t().catch(a)})},Oj=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...s)=>Ni(async()=>{const{default:r}=await Promise.resolve().then(()=>rn);return{default:r}},void 0).then(({default:r})=>r(...s)):t=fetch,(...s)=>t(...s)};class hd extends Error{constructor(t,s="FunctionsError",r){super(t),this.name=s,this.context=r}}class Dj extends hd{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class Lj extends hd{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Mj extends hd{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var $c;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})($c||($c={}));var Ij=function(e,t,s,r){function n(a){return a instanceof s?a:new s(function(o){o(a)})}return new(s||(s=Promise))(function(a,o){function l(d){try{u(r.next(d))}catch(h){o(h)}}function c(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?a(d.value):n(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};class $j{constructor(t,{headers:s={},customFetch:r,region:n=$c.Any}={}){this.url=t,this.headers=s,this.region=n,this.fetch=Oj(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,s={}){var r;return Ij(this,void 0,void 0,function*(){try{const{headers:n,method:a,body:o}=s;let l={},{region:c}=s;c||(c=this.region),c&&c!=="any"&&(l["x-region"]=c);let u;o&&(n&&!Object.prototype.hasOwnProperty.call(n,"Content-Type")||!n)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",u=o):typeof o=="string"?(l["Content-Type"]="text/plain",u=o):typeof FormData<"u"&&o instanceof FormData?u=o:(l["Content-Type"]="application/json",u=JSON.stringify(o)));const d=yield this.fetch(`${this.url}/${t}`,{method:a||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),n),body:u}).catch(w=>{throw new Dj(w)}),h=d.headers.get("x-relay-error");if(h&&h==="true")throw new Lj(d);if(!d.ok)throw new Mj(d);let m=((r=d.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),x;return m==="application/json"?x=yield d.json():m==="application/octet-stream"?x=yield d.blob():m==="text/event-stream"?x=d:m==="multipart/form-data"?x=yield d.formData():x=yield d.text(),{data:x,error:null}}catch(n){return{data:null,error:n}}})}}var Ve={},md={},Eo={},Si={},To={},Ao={},Fj=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Kr=Fj();const zj=Kr.fetch,Eg=Kr.fetch.bind(Kr),Tg=Kr.Headers,Vj=Kr.Request,Bj=Kr.Response,rn=Object.freeze(Object.defineProperty({__proto__:null,Headers:Tg,Request:Vj,Response:Bj,default:Eg,fetch:zj},Symbol.toStringTag,{value:"Module"})),Uj=Uy(rn);var Ro={};Object.defineProperty(Ro,"__esModule",{value:!0});let Wj=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};Ro.default=Wj;var Ag=lt&&lt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ao,"__esModule",{value:!0});const qj=Ag(Uj),Hj=Ag(Ro);let Gj=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=qj.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,s){return this.headers=Object.assign({},this.headers),this.headers[t]=s,this}then(t,s){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const r=this.fetch;let n=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async a=>{var o,l,c;let u=null,d=null,h=null,m=a.status,x=a.statusText;if(a.ok){if(this.method!=="HEAD"){const g=await a.text();g===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=g:d=JSON.parse(g))}const b=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),y=(l=a.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");b&&y&&y.length>1&&(h=parseInt(y[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(u={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,h=null,m=406,x="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const b=await a.text();try{u=JSON.parse(b),Array.isArray(u)&&a.status===404&&(d=[],u=null,m=200,x="OK")}catch{a.status===404&&b===""?(m=204,x="No Content"):u={message:b}}if(u&&this.isMaybeSingle&&(!((c=u==null?void 0:u.details)===null||c===void 0)&&c.includes("0 rows"))&&(u=null,m=200,x="OK"),u&&this.shouldThrowOnError)throw new Hj.default(u)}return{error:u,data:d,count:h,status:m,statusText:x}});return this.shouldThrowOnError||(n=n.catch(a=>{var o,l,c;return{error:{message:`${(o=a==null?void 0:a.name)!==null&&o!==void 0?o:"FetchError"}: ${a==null?void 0:a.message}`,details:`${(l=a==null?void 0:a.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(c=a==null?void 0:a.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),n.then(t,s)}returns(){return this}overrideTypes(){return this}};Ao.default=Gj;var Kj=lt&&lt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(To,"__esModule",{value:!0});const Qj=Kj(Ao);let Yj=class extends Qj.default{select(t){let s=!1;const r=(t??"*").split("").map(n=>/\s/.test(n)&&!s?"":(n==='"'&&(s=!s),n)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:s=!0,nullsFirst:r,foreignTable:n,referencedTable:a=n}={}){const o=a?`${a}.order`:"order",l=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${l?`${l},`:""}${t}.${s?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:s,referencedTable:r=s}={}){const n=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(n,`${t}`),this}range(t,s,{foreignTable:r,referencedTable:n=r}={}){const a=typeof n>"u"?"offset":`${n}.offset`,o=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(a,`${t}`),this.url.searchParams.set(o,`${s-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:s=!1,settings:r=!1,buffers:n=!1,wal:a=!1,format:o="text"}={}){var l;const c=[t?"analyze":null,s?"verbose":null,r?"settings":null,n?"buffers":null,a?"wal":null].filter(Boolean).join("|"),u=(l=this.headers.Accept)!==null&&l!==void 0?l:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${u}"; options=${c};`,o==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};To.default=Yj;var Jj=lt&&lt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Si,"__esModule",{value:!0});const Xj=Jj(To);let Zj=class extends Xj.default{eq(t,s){return this.url.searchParams.append(t,`eq.${s}`),this}neq(t,s){return this.url.searchParams.append(t,`neq.${s}`),this}gt(t,s){return this.url.searchParams.append(t,`gt.${s}`),this}gte(t,s){return this.url.searchParams.append(t,`gte.${s}`),this}lt(t,s){return this.url.searchParams.append(t,`lt.${s}`),this}lte(t,s){return this.url.searchParams.append(t,`lte.${s}`),this}like(t,s){return this.url.searchParams.append(t,`like.${s}`),this}likeAllOf(t,s){return this.url.searchParams.append(t,`like(all).{${s.join(",")}}`),this}likeAnyOf(t,s){return this.url.searchParams.append(t,`like(any).{${s.join(",")}}`),this}ilike(t,s){return this.url.searchParams.append(t,`ilike.${s}`),this}ilikeAllOf(t,s){return this.url.searchParams.append(t,`ilike(all).{${s.join(",")}}`),this}ilikeAnyOf(t,s){return this.url.searchParams.append(t,`ilike(any).{${s.join(",")}}`),this}is(t,s){return this.url.searchParams.append(t,`is.${s}`),this}in(t,s){const r=Array.from(new Set(s)).map(n=>typeof n=="string"&&new RegExp("[,()]").test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}contains(t,s){return typeof s=="string"?this.url.searchParams.append(t,`cs.${s}`):Array.isArray(s)?this.url.searchParams.append(t,`cs.{${s.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(s)}`),this}containedBy(t,s){return typeof s=="string"?this.url.searchParams.append(t,`cd.${s}`):Array.isArray(s)?this.url.searchParams.append(t,`cd.{${s.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(s)}`),this}rangeGt(t,s){return this.url.searchParams.append(t,`sr.${s}`),this}rangeGte(t,s){return this.url.searchParams.append(t,`nxl.${s}`),this}rangeLt(t,s){return this.url.searchParams.append(t,`sl.${s}`),this}rangeLte(t,s){return this.url.searchParams.append(t,`nxr.${s}`),this}rangeAdjacent(t,s){return this.url.searchParams.append(t,`adj.${s}`),this}overlaps(t,s){return typeof s=="string"?this.url.searchParams.append(t,`ov.${s}`):this.url.searchParams.append(t,`ov.{${s.join(",")}}`),this}textSearch(t,s,{config:r,type:n}={}){let a="";n==="plain"?a="pl":n==="phrase"?a="ph":n==="websearch"&&(a="w");const o=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${a}fts${o}.${s}`),this}match(t){return Object.entries(t).forEach(([s,r])=>{this.url.searchParams.append(s,`eq.${r}`)}),this}not(t,s,r){return this.url.searchParams.append(t,`not.${s}.${r}`),this}or(t,{foreignTable:s,referencedTable:r=s}={}){const n=r?`${r}.or`:"or";return this.url.searchParams.append(n,`(${t})`),this}filter(t,s,r){return this.url.searchParams.append(t,`${s}.${r}`),this}};Si.default=Zj;var e2=lt&&lt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Eo,"__esModule",{value:!0});const xn=e2(Si);let t2=class{constructor(t,{headers:s={},schema:r,fetch:n}){this.url=t,this.headers=s,this.schema=r,this.fetch=n}select(t,{head:s=!1,count:r}={}){const n=s?"HEAD":"GET";let a=!1;const o=(t??"*").split("").map(l=>/\s/.test(l)&&!a?"":(l==='"'&&(a=!a),l)).join("");return this.url.searchParams.set("select",o),r&&(this.headers.Prefer=`count=${r}`),new xn.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:s,defaultToNull:r=!0}={}){const n="POST",a=[];if(this.headers.Prefer&&a.push(this.headers.Prefer),s&&a.push(`count=${s}`),r||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(t)){const o=t.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(o.length>0){const l=[...new Set(o)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new xn.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:s,ignoreDuplicates:r=!1,count:n,defaultToNull:a=!0}={}){const o="POST",l=[`resolution=${r?"ignore":"merge"}-duplicates`];if(s!==void 0&&this.url.searchParams.set("on_conflict",s),this.headers.Prefer&&l.push(this.headers.Prefer),n&&l.push(`count=${n}`),a||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(t)){const c=t.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(c.length>0){const u=[...new Set(c)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new xn.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:s}={}){const r="PATCH",n=[];return this.headers.Prefer&&n.push(this.headers.Prefer),s&&n.push(`count=${s}`),this.headers.Prefer=n.join(","),new xn.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const s="DELETE",r=[];return t&&r.push(`count=${t}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new xn.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};Eo.default=t2;var Oo={},Do={};Object.defineProperty(Do,"__esModule",{value:!0});Do.version=void 0;Do.version="0.0.0-automated";Object.defineProperty(Oo,"__esModule",{value:!0});Oo.DEFAULT_HEADERS=void 0;const s2=Do;Oo.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${s2.version}`};var Rg=lt&&lt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(md,"__esModule",{value:!0});const r2=Rg(Eo),n2=Rg(Si),i2=Oo;let a2=class Og{constructor(t,{headers:s={},schema:r,fetch:n}={}){this.url=t,this.headers=Object.assign(Object.assign({},i2.DEFAULT_HEADERS),s),this.schemaName=r,this.fetch=n}from(t){const s=new URL(`${this.url}/${t}`);return new r2.default(s,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new Og(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,s={},{head:r=!1,get:n=!1,count:a}={}){let o;const l=new URL(`${this.url}/rpc/${t}`);let c;r||n?(o=r?"HEAD":"GET",Object.entries(s).filter(([d,h])=>h!==void 0).map(([d,h])=>[d,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([d,h])=>{l.searchParams.append(d,h)})):(o="POST",c=s);const u=Object.assign({},this.headers);return a&&(u.Prefer=`count=${a}`),new n2.default({method:o,url:l,headers:u,schema:this.schemaName,body:c,fetch:this.fetch,allowEmpty:!1})}};md.default=a2;var nn=lt&&lt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ve,"__esModule",{value:!0});Ve.PostgrestError=Ve.PostgrestBuilder=Ve.PostgrestTransformBuilder=Ve.PostgrestFilterBuilder=Ve.PostgrestQueryBuilder=Ve.PostgrestClient=void 0;const Dg=nn(md);Ve.PostgrestClient=Dg.default;const Lg=nn(Eo);Ve.PostgrestQueryBuilder=Lg.default;const Mg=nn(Si);Ve.PostgrestFilterBuilder=Mg.default;const Ig=nn(To);Ve.PostgrestTransformBuilder=Ig.default;const $g=nn(Ao);Ve.PostgrestBuilder=$g.default;const Fg=nn(Ro);Ve.PostgrestError=Fg.default;var o2=Ve.default={PostgrestClient:Dg.default,PostgrestQueryBuilder:Lg.default,PostgrestFilterBuilder:Mg.default,PostgrestTransformBuilder:Ig.default,PostgrestBuilder:$g.default,PostgrestError:Fg.default};const{PostgrestClient:l2,PostgrestQueryBuilder:J5,PostgrestFilterBuilder:X5,PostgrestTransformBuilder:Z5,PostgrestBuilder:e3,PostgrestError:t3}=o2;let Fc;typeof window>"u"?Fc=require("ws"):Fc=window.WebSocket;const c2=Fc,u2="2.11.10",d2={"X-Client-Info":`realtime-js/${u2}`},h2="1.0.0",zg=1e4,m2=1e3;var $r;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})($r||($r={}));var Oe;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Oe||(Oe={}));var xt;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(xt||(xt={}));var zc;(function(e){e.websocket="websocket"})(zc||(zc={}));var Vs;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Vs||(Vs={}));class f2{constructor(){this.HEADER_LENGTH=1}decode(t,s){return t.constructor===ArrayBuffer?s(this._binaryDecode(t)):s(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const s=new DataView(t),r=new TextDecoder;return this._decodeBroadcast(t,s,r)}_decodeBroadcast(t,s,r){const n=s.getUint8(1),a=s.getUint8(2);let o=this.HEADER_LENGTH+2;const l=r.decode(t.slice(o,o+n));o=o+n;const c=r.decode(t.slice(o,o+a));o=o+a;const u=JSON.parse(r.decode(t.slice(o,t.byteLength)));return{ref:null,topic:l,event:c,payload:u}}}class Vg{constructor(t,s){this.callback=t,this.timerCalc=s,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=s}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var K;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(K||(K={}));const pm=(e,t,s={})=>{var r;const n=(r=s.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(t).reduce((a,o)=>(a[o]=p2(o,e,t,n),a),{})},p2=(e,t,s,r)=>{const n=t.find(l=>l.name===e),a=n==null?void 0:n.type,o=s[e];return a&&!r.includes(a)?Bg(a,o):Vc(o)},Bg=(e,t)=>{if(e.charAt(0)==="_"){const s=e.slice(1,e.length);return v2(t,s)}switch(e){case K.bool:return g2(t);case K.float4:case K.float8:case K.int2:case K.int4:case K.int8:case K.numeric:case K.oid:return x2(t);case K.json:case K.jsonb:return y2(t);case K.timestamp:return w2(t);case K.abstime:case K.date:case K.daterange:case K.int4range:case K.int8range:case K.money:case K.reltime:case K.text:case K.time:case K.timestamptz:case K.timetz:case K.tsrange:case K.tstzrange:return Vc(t);default:return Vc(t)}},Vc=e=>e,g2=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},x2=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},y2=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},v2=(e,t)=>{if(typeof e!="string")return e;const s=e.length-1,r=e[s];if(e[0]==="{"&&r==="}"){let a;const o=e.slice(1,s);try{a=JSON.parse("["+o+"]")}catch{a=o?o.split(","):[]}return a.map(l=>Bg(t,l))}return e},w2=e=>typeof e=="string"?e.replace(" ","T"):e,Ug=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class ml{constructor(t,s,r={},n=zg){this.channel=t,this.event=s,this.payload=r,this.timeout=n,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,s){var r;return this._hasReceived(t)&&s((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:s}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=s=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=s,this._matchReceive(s)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,s){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:s})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:s}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(s))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var gm;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(gm||(gm={}));class Mn{constructor(t,s){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(s==null?void 0:s.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},n=>{const{onJoin:a,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Mn.syncState(this.state,n,a,o),this.pendingDiffs.forEach(c=>{this.state=Mn.syncDiff(this.state,c,a,o)}),this.pendingDiffs=[],l()}),this.channel._on(r.diff,{},n=>{const{onJoin:a,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(n):(this.state=Mn.syncDiff(this.state,n,a,o),l())}),this.onJoin((n,a,o)=>{this.channel._trigger("presence",{event:"join",key:n,currentPresences:a,newPresences:o})}),this.onLeave((n,a,o)=>{this.channel._trigger("presence",{event:"leave",key:n,currentPresences:a,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,s,r,n){const a=this.cloneDeep(t),o=this.transformState(s),l={},c={};return this.map(a,(u,d)=>{o[u]||(c[u]=d)}),this.map(o,(u,d)=>{const h=a[u];if(h){const m=d.map(y=>y.presence_ref),x=h.map(y=>y.presence_ref),w=d.filter(y=>x.indexOf(y.presence_ref)<0),b=h.filter(y=>m.indexOf(y.presence_ref)<0);w.length>0&&(l[u]=w),b.length>0&&(c[u]=b)}else l[u]=d}),this.syncDiff(a,{joins:l,leaves:c},r,n)}static syncDiff(t,s,r,n){const{joins:a,leaves:o}={joins:this.transformState(s.joins),leaves:this.transformState(s.leaves)};return r||(r=()=>{}),n||(n=()=>{}),this.map(a,(l,c)=>{var u;const d=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),d.length>0){const h=t[l].map(x=>x.presence_ref),m=d.filter(x=>h.indexOf(x.presence_ref)<0);t[l].unshift(...m)}r(l,d,c)}),this.map(o,(l,c)=>{let u=t[l];if(!u)return;const d=c.map(h=>h.presence_ref);u=u.filter(h=>d.indexOf(h.presence_ref)<0),t[l]=u,n(l,u,c),u.length===0&&delete t[l]}),t}static map(t,s){return Object.getOwnPropertyNames(t).map(r=>s(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((s,r)=>{const n=t[r];return"metas"in n?s[r]=n.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):s[r]=n,s},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var xm;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(xm||(xm={}));var ym;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(ym||(ym={}));var Lt;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Lt||(Lt={}));class fd{constructor(t,s={config:{}},r){this.topic=t,this.params=s,this.socket=r,this.bindings={},this.state=Oe.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},s.config),this.timeout=this.socket.timeout,this.joinPush=new ml(this,xt.join,this.params,this.timeout),this.rejoinTimer=new Vg(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Oe.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(n=>n.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Oe.closed,this.socket._remove(this)}),this._onError(n=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,n),this.state=Oe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Oe.errored,this.rejoinTimer.scheduleTimeout())}),this._on(xt.reply,{},(n,a)=>{this._trigger(this._replyEventName(a),n)}),this.presence=new Mn(this),this.broadcastEndpointURL=Ug(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,s=this.timeout){var r,n;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:a,presence:o,private:l}}=this.params;this._onError(d=>t==null?void 0:t(Lt.CHANNEL_ERROR,d)),this._onClose(()=>t==null?void 0:t(Lt.CLOSED));const c={},u={broadcast:a,presence:o,postgres_changes:(n=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(d=>d.filter))!==null&&n!==void 0?n:[],private:l};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},c)),this.joinedOnce=!0,this._rejoin(s),this.joinPush.receive("ok",async({postgres_changes:d})=>{var h;if(this.socket.setAuth(),d===void 0){t==null||t(Lt.SUBSCRIBED);return}else{const m=this.bindings.postgres_changes,x=(h=m==null?void 0:m.length)!==null&&h!==void 0?h:0,w=[];for(let b=0;b<x;b++){const y=m[b],{filter:{event:g,schema:p,table:f,filter:j}}=y,N=d&&d[b];if(N&&N.event===g&&N.schema===p&&N.table===f&&N.filter===j)w.push(Object.assign(Object.assign({},y),{id:N.id}));else{this.unsubscribe(),this.state=Oe.errored,t==null||t(Lt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=w,t&&t(Lt.SUBSCRIBED);return}}).receive("error",d=>{this.state=Oe.errored,t==null||t(Lt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Lt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,s={}){return await this.send({type:"presence",event:"track",payload:t},s.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,s,r){return this._on(t,s,r)}async send(t,s={}){var r,n;if(!this._canPush()&&t.type==="broadcast"){const{event:a,payload:o}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(r=s.timeout)!==null&&r!==void 0?r:this.timeout);return await((n=u.body)===null||n===void 0?void 0:n.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var o,l,c;const u=this._push(t.type,t,s.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&a("ok"),u.receive("ok",()=>a("ok")),u.receive("error",()=>a("error")),u.receive("timeout",()=>a("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Oe.leaving;const s=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(xt.close,"leave",this._joinRef())};return this.joinPush.destroy(),new Promise(r=>{const n=new ml(this,xt.leave,{},t);n.receive("ok",()=>{s(),r("ok")}).receive("timeout",()=>{s(),r("timed out")}).receive("error",()=>{r("error")}),n.send(),this._canPush()||n.trigger("ok",{})})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(t,s,r){const n=new AbortController,a=setTimeout(()=>n.abort(),r),o=await this.socket.fetch(t,Object.assign(Object.assign({},s),{signal:n.signal}));return clearTimeout(a),o}_push(t,s,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let n=new ml(this,t,s,r);return this._canPush()?n.send():(n.startTimeout(),this.pushBuffer.push(n)),n}_onMessage(t,s,r){return s}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,s,r){var n,a;const o=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=xt;if(r&&[l,c,u,d].indexOf(o)>=0&&r!==this._joinRef())return;let m=this._onMessage(o,s,r);if(s&&!m)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(n=this.bindings.postgres_changes)===null||n===void 0||n.filter(x=>{var w,b,y;return((w=x.filter)===null||w===void 0?void 0:w.event)==="*"||((y=(b=x.filter)===null||b===void 0?void 0:b.event)===null||y===void 0?void 0:y.toLocaleLowerCase())===o}).map(x=>x.callback(m,r)):(a=this.bindings[o])===null||a===void 0||a.filter(x=>{var w,b,y,g,p,f;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in x){const j=x.id,N=(w=x.filter)===null||w===void 0?void 0:w.event;return j&&((b=s.ids)===null||b===void 0?void 0:b.includes(j))&&(N==="*"||(N==null?void 0:N.toLocaleLowerCase())===((y=s.data)===null||y===void 0?void 0:y.type.toLocaleLowerCase()))}else{const j=(p=(g=x==null?void 0:x.filter)===null||g===void 0?void 0:g.event)===null||p===void 0?void 0:p.toLocaleLowerCase();return j==="*"||j===((f=s==null?void 0:s.event)===null||f===void 0?void 0:f.toLocaleLowerCase())}else return x.type.toLocaleLowerCase()===o}).map(x=>{if(typeof m=="object"&&"ids"in m){const w=m.data,{schema:b,table:y,commit_timestamp:g,type:p,errors:f}=w;m=Object.assign(Object.assign({},{schema:b,table:y,commit_timestamp:g,eventType:p,new:{},old:{},errors:f}),this._getPayloadRecords(w))}x.callback(m,r)})}_isClosed(){return this.state===Oe.closed}_isJoined(){return this.state===Oe.joined}_isJoining(){return this.state===Oe.joining}_isLeaving(){return this.state===Oe.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,s,r){const n=t.toLocaleLowerCase(),a={type:n,filter:s,callback:r};return this.bindings[n]?this.bindings[n].push(a):this.bindings[n]=[a],this}_off(t,s){const r=t.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(n=>{var a;return!(((a=n.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===r&&fd.isEqual(n.filter,s))}),this}static isEqual(t,s){if(Object.keys(t).length!==Object.keys(s).length)return!1;for(const r in t)if(t[r]!==s[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(xt.close,{},t)}_onError(t){this._on(xt.error,{},s=>t(s))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Oe.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const s={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(s.new=pm(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(s.old=pm(t.columns,t.old_record)),s}}const vm=()=>{},b2=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class j2{constructor(t,s){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers=d2,this.params={},this.timeout=zg,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=vm,this.ref=0,this.logger=vm,this.conn=null,this.sendBuffer=[],this.serializer=new f2,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=a=>{let o;return a?o=a:typeof fetch>"u"?o=(...l)=>Ni(async()=>{const{default:c}=await Promise.resolve().then(()=>rn);return{default:c}},void 0).then(({default:c})=>c(...l)):o=fetch,(...l)=>o(...l)},this.endPoint=`${t}/${zc.websocket}`,this.httpEndpoint=Ug(t),s!=null&&s.transport?this.transport=s.transport:this.transport=null,s!=null&&s.params&&(this.params=s.params),s!=null&&s.headers&&(this.headers=Object.assign(Object.assign({},this.headers),s.headers)),s!=null&&s.timeout&&(this.timeout=s.timeout),s!=null&&s.logger&&(this.logger=s.logger),(s!=null&&s.logLevel||s!=null&&s.log_level)&&(this.logLevel=s.logLevel||s.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),s!=null&&s.heartbeatIntervalMs&&(this.heartbeatIntervalMs=s.heartbeatIntervalMs);const n=(r=s==null?void 0:s.params)===null||r===void 0?void 0:r.apikey;if(n&&(this.accessTokenValue=n,this.apiKey=n),this.reconnectAfterMs=s!=null&&s.reconnectAfterMs?s.reconnectAfterMs:a=>[1e3,2e3,5e3,1e4][a-1]||1e4,this.encode=s!=null&&s.encode?s.encode:(a,o)=>o(JSON.stringify(a)),this.decode=s!=null&&s.decode?s.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Vg(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(s==null?void 0:s.fetch),s!=null&&s.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(s==null?void 0:s.worker)||!1,this.workerUrl=s==null?void 0:s.workerUrl}this.accessToken=(s==null?void 0:s.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=c2),this.transport){typeof window<"u"&&this.transport===window.WebSocket?this.conn=new this.transport(this.endpointURL()):this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection();return}this.conn=new N2(this.endpointURL(),void 0,{close:()=>{this.conn=null}})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:h2}))}disconnect(t,s){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,s??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(r=>r.teardown()))}getChannels(){return this.channels}async removeChannel(t){const s=await t.unsubscribe();return this.channels=this.channels.filter(r=>r._joinRef!==t._joinRef),this.channels.length===0&&this.disconnect(),s}async removeAllChannels(){const t=await Promise.all(this.channels.map(s=>s.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,s,r){this.logger(t,s,r)}connectionState(){switch(this.conn&&this.conn.readyState){case $r.connecting:return Vs.Connecting;case $r.open:return Vs.Open;case $r.closing:return Vs.Closing;default:return Vs.Closed}}isConnected(){return this.connectionState()===Vs.Open}channel(t,s={config:{}}){const r=`realtime:${t}`,n=this.getChannels().find(a=>a.topic===r);if(n)return n;{const a=new fd(`realtime:${t}`,s,this);return this.channels.push(a),a}}push(t){const{topic:s,event:r,payload:n,ref:a}=t,o=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${s} ${r} (${a})`,n),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){let s=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=s&&(this.accessTokenValue=s,this.channels.forEach(r=>{s&&r.updateJoinPayload({access_token:s,version:this.headers&&this.headers["X-Client-Info"]}),r.joinedOnce&&r._isJoined()&&r._push(xt.access_token,{access_token:s})}))}async sendHeartbeat(){var t;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(t=this.conn)===null||t===void 0||t.close(m2,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let s=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));s&&(this.log("transport",`leaving duplicate topic "${t}"`),s.unsubscribe())}_remove(t){this.channels=this.channels.filter(s=>s.topic!==t.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,s=>{let{topic:r,event:n,payload:a,ref:o}=s;r==="phoenix"&&n==="phx_reply"&&this.heartbeatCallback(s.payload.status=="ok"?"ok":"error"),o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${a.status||""} ${r} ${n} ${o&&"("+o+")"||""}`,a),Array.from(this.channels).filter(l=>l._isMember(r)).forEach(l=>l._trigger(n,a,o)),this.stateChangeCallbacks.message.forEach(l=>l(s))})}_onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=s=>{this.log("worker","worker error",s.message),this.workerRef.terminate()},this.workerRef.onmessage=s=>{s.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(s=>s(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(s=>s(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(xt.error))}_appendParams(t,s){if(Object.keys(s).length===0)return t;const r=t.match(/\?/)?"&":"?",n=new URLSearchParams(s);return`${t}${r}${n}`}_workerObjectUrl(t){let s;if(t)s=t;else{const r=new Blob([b2],{type:"application/javascript"});s=URL.createObjectURL(r)}return s}}class N2{constructor(t,s,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=$r.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=r.close}}class pd extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function xe(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class S2 extends pd{constructor(t,s){super(t),this.name="StorageApiError",this.status=s}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Bc extends pd{constructor(t,s){super(t),this.name="StorageUnknownError",this.originalError=s}}var k2=function(e,t,s,r){function n(a){return a instanceof s?a:new s(function(o){o(a)})}return new(s||(s=Promise))(function(a,o){function l(d){try{u(r.next(d))}catch(h){o(h)}}function c(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?a(d.value):n(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};const Wg=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...s)=>Ni(async()=>{const{default:r}=await Promise.resolve().then(()=>rn);return{default:r}},void 0).then(({default:r})=>r(...s)):t=fetch,(...s)=>t(...s)},_2=()=>k2(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Ni(()=>Promise.resolve().then(()=>rn),void 0)).Response:Response}),Uc=e=>{if(Array.isArray(e))return e.map(s=>Uc(s));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([s,r])=>{const n=s.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));t[n]=Uc(r)}),t};var ar=function(e,t,s,r){function n(a){return a instanceof s?a:new s(function(o){o(a)})}return new(s||(s=Promise))(function(a,o){function l(d){try{u(r.next(d))}catch(h){o(h)}}function c(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?a(d.value):n(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};const fl=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),C2=(e,t,s)=>ar(void 0,void 0,void 0,function*(){const r=yield _2();e instanceof r&&!(s!=null&&s.noResolveJson)?e.json().then(n=>{t(new S2(fl(n),e.status||500))}).catch(n=>{t(new Bc(fl(n),n))}):t(new Bc(fl(e),e))}),P2=(e,t,s,r)=>{const n={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?n:(n.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),r&&(n.body=JSON.stringify(r)),Object.assign(Object.assign({},n),s))};function ki(e,t,s,r,n,a){return ar(this,void 0,void 0,function*(){return new Promise((o,l)=>{e(s,P2(t,r,n,a)).then(c=>{if(!c.ok)throw c;return r!=null&&r.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>C2(c,l,r))})})}function to(e,t,s,r){return ar(this,void 0,void 0,function*(){return ki(e,"GET",t,s,r)})}function ts(e,t,s,r,n){return ar(this,void 0,void 0,function*(){return ki(e,"POST",t,r,n,s)})}function E2(e,t,s,r,n){return ar(this,void 0,void 0,function*(){return ki(e,"PUT",t,r,n,s)})}function T2(e,t,s,r){return ar(this,void 0,void 0,function*(){return ki(e,"HEAD",t,Object.assign(Object.assign({},s),{noResolveJson:!0}),r)})}function qg(e,t,s,r,n){return ar(this,void 0,void 0,function*(){return ki(e,"DELETE",t,r,n,s)})}var Fe=function(e,t,s,r){function n(a){return a instanceof s?a:new s(function(o){o(a)})}return new(s||(s=Promise))(function(a,o){function l(d){try{u(r.next(d))}catch(h){o(h)}}function c(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?a(d.value):n(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};const A2={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},wm={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class R2{constructor(t,s={},r,n){this.url=t,this.headers=s,this.bucketId=r,this.fetch=Wg(n)}uploadOrUpdate(t,s,r,n){return Fe(this,void 0,void 0,function*(){try{let a;const o=Object.assign(Object.assign({},wm),n);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&r instanceof Blob?(a=new FormData,a.append("cacheControl",o.cacheControl),c&&a.append("metadata",this.encodeMetadata(c)),a.append("",r)):typeof FormData<"u"&&r instanceof FormData?(a=r,a.append("cacheControl",o.cacheControl),c&&a.append("metadata",this.encodeMetadata(c))):(a=r,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),n!=null&&n.headers&&(l=Object.assign(Object.assign({},l),n.headers));const u=this._removeEmptyFolders(s),d=this._getFinalPath(u),h=yield this.fetch(`${this.url}/object/${d}`,Object.assign({method:t,body:a,headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{})),m=yield h.json();return h.ok?{data:{path:u,id:m.Id,fullPath:m.Key},error:null}:{data:null,error:m}}catch(a){if(xe(a))return{data:null,error:a};throw a}})}upload(t,s,r){return Fe(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,s,r)})}uploadToSignedUrl(t,s,r,n){return Fe(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(t),o=this._getFinalPath(a),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",s);try{let c;const u=Object.assign({upsert:wm.upsert},n),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",u.cacheControl)):(c=r,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const h=yield this.fetch(l.toString(),{method:"PUT",body:c,headers:d}),m=yield h.json();return h.ok?{data:{path:a,fullPath:m.Key},error:null}:{data:null,error:m}}catch(c){if(xe(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,s){return Fe(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const n=Object.assign({},this.headers);s!=null&&s.upsert&&(n["x-upsert"]="true");const a=yield ts(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:n}),o=new URL(this.url+a.url),l=o.searchParams.get("token");if(!l)throw new pd("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:l},error:null}}catch(r){if(xe(r))return{data:null,error:r};throw r}})}update(t,s,r){return Fe(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,s,r)})}move(t,s,r){return Fe(this,void 0,void 0,function*(){try{return{data:yield ts(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:s,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(n){if(xe(n))return{data:null,error:n};throw n}})}copy(t,s,r){return Fe(this,void 0,void 0,function*(){try{return{data:{path:(yield ts(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:s,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(n){if(xe(n))return{data:null,error:n};throw n}})}createSignedUrl(t,s,r){return Fe(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t),a=yield ts(this.fetch,`${this.url}/object/sign/${n}`,Object.assign({expiresIn:s},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${o}`)},{data:a,error:null}}catch(n){if(xe(n))return{data:null,error:n};throw n}})}createSignedUrls(t,s,r){return Fe(this,void 0,void 0,function*(){try{const n=yield ts(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:s,paths:t},{headers:this.headers}),a=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:n.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${a}`):null})),error:null}}catch(n){if(xe(n))return{data:null,error:n};throw n}})}download(t,s){return Fe(this,void 0,void 0,function*(){const n=typeof(s==null?void 0:s.transform)<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString((s==null?void 0:s.transform)||{}),o=a?`?${a}`:"";try{const l=this._getFinalPath(t);return{data:yield(yield to(this.fetch,`${this.url}/${n}/${l}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(xe(l))return{data:null,error:l};throw l}})}info(t){return Fe(this,void 0,void 0,function*(){const s=this._getFinalPath(t);try{const r=yield to(this.fetch,`${this.url}/object/info/${s}`,{headers:this.headers});return{data:Uc(r),error:null}}catch(r){if(xe(r))return{data:null,error:r};throw r}})}exists(t){return Fe(this,void 0,void 0,function*(){const s=this._getFinalPath(t);try{return yield T2(this.fetch,`${this.url}/object/${s}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(xe(r)&&r instanceof Bc){const n=r.originalError;if([400,404].includes(n==null?void 0:n.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,s){const r=this._getFinalPath(t),n=[],a=s!=null&&s.download?`download=${s.download===!0?"":s.download}`:"";a!==""&&n.push(a);const l=typeof(s==null?void 0:s.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((s==null?void 0:s.transform)||{});c!==""&&n.push(c);let u=n.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${r}${u}`)}}}remove(t){return Fe(this,void 0,void 0,function*(){try{return{data:yield qg(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(s){if(xe(s))return{data:null,error:s};throw s}})}list(t,s,r){return Fe(this,void 0,void 0,function*(){try{const n=Object.assign(Object.assign(Object.assign({},A2),s),{prefix:t||""});return{data:yield ts(this.fetch,`${this.url}/object/list/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(xe(n))return{data:null,error:n};throw n}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const s=[];return t.width&&s.push(`width=${t.width}`),t.height&&s.push(`height=${t.height}`),t.resize&&s.push(`resize=${t.resize}`),t.format&&s.push(`format=${t.format}`),t.quality&&s.push(`quality=${t.quality}`),s.join("&")}}const O2="2.7.1",D2={"X-Client-Info":`storage-js/${O2}`};var lr=function(e,t,s,r){function n(a){return a instanceof s?a:new s(function(o){o(a)})}return new(s||(s=Promise))(function(a,o){function l(d){try{u(r.next(d))}catch(h){o(h)}}function c(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?a(d.value):n(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};class L2{constructor(t,s={},r){this.url=t,this.headers=Object.assign(Object.assign({},D2),s),this.fetch=Wg(r)}listBuckets(){return lr(this,void 0,void 0,function*(){try{return{data:yield to(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(xe(t))return{data:null,error:t};throw t}})}getBucket(t){return lr(this,void 0,void 0,function*(){try{return{data:yield to(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(s){if(xe(s))return{data:null,error:s};throw s}})}createBucket(t,s={public:!1}){return lr(this,void 0,void 0,function*(){try{return{data:yield ts(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(xe(r))return{data:null,error:r};throw r}})}updateBucket(t,s){return lr(this,void 0,void 0,function*(){try{return{data:yield E2(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(xe(r))return{data:null,error:r};throw r}})}emptyBucket(t){return lr(this,void 0,void 0,function*(){try{return{data:yield ts(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(s){if(xe(s))return{data:null,error:s};throw s}})}deleteBucket(t){return lr(this,void 0,void 0,function*(){try{return{data:yield qg(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(s){if(xe(s))return{data:null,error:s};throw s}})}}class M2 extends L2{constructor(t,s={},r){super(t,s,r)}from(t){return new R2(this.url,this.headers,t,this.fetch)}}const I2="2.50.0";let Nn="";typeof Deno<"u"?Nn="deno":typeof document<"u"?Nn="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Nn="react-native":Nn="node";const $2={"X-Client-Info":`supabase-js-${Nn}/${I2}`},F2={headers:$2},z2={schema:"public"},V2={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},B2={};var U2=function(e,t,s,r){function n(a){return a instanceof s?a:new s(function(o){o(a)})}return new(s||(s=Promise))(function(a,o){function l(d){try{u(r.next(d))}catch(h){o(h)}}function c(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?a(d.value):n(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};const W2=e=>{let t;return e?t=e:typeof fetch>"u"?t=Eg:t=fetch,(...s)=>t(...s)},q2=()=>typeof Headers>"u"?Tg:Headers,H2=(e,t,s)=>{const r=W2(s),n=q2();return(a,o)=>U2(void 0,void 0,void 0,function*(){var l;const c=(l=yield t())!==null&&l!==void 0?l:e;let u=new n(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),r(a,Object.assign(Object.assign({},o),{headers:u}))})};var G2=function(e,t,s,r){function n(a){return a instanceof s?a:new s(function(o){o(a)})}return new(s||(s=Promise))(function(a,o){function l(d){try{u(r.next(d))}catch(h){o(h)}}function c(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?a(d.value):n(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};function K2(e){return e.endsWith("/")?e:e+"/"}function Q2(e,t){var s,r;const{db:n,auth:a,realtime:o,global:l}=e,{db:c,auth:u,realtime:d,global:h}=t,m={db:Object.assign(Object.assign({},c),n),auth:Object.assign(Object.assign({},u),a),realtime:Object.assign(Object.assign({},d),o),global:Object.assign(Object.assign(Object.assign({},h),l),{headers:Object.assign(Object.assign({},(s=h==null?void 0:h.headers)!==null&&s!==void 0?s:{}),(r=l==null?void 0:l.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>G2(this,void 0,void 0,function*(){return""})};return e.accessToken?m.accessToken=e.accessToken:delete m.accessToken,m}const Hg="2.70.0",hr=30*1e3,Wc=3,pl=Wc*hr,Y2="http://localhost:9999",J2="supabase.auth.token",X2={"X-Client-Info":`gotrue-js/${Hg}`},qc="X-Supabase-Api-Version",Gg={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Z2=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,eN=6e5;class gd extends Error{constructor(t,s,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=s,this.code=r}}function $(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class tN extends gd{constructor(t,s,r){super(t,s,r),this.name="AuthApiError",this.status=s,this.code=r}}function sN(e){return $(e)&&e.name==="AuthApiError"}class Kg extends gd{constructor(t,s){super(t),this.name="AuthUnknownError",this.originalError=s}}class Ts extends gd{constructor(t,s,r,n){super(t,r,n),this.name=s,this.status=r}}class Jt extends Ts{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function rN(e){return $(e)&&e.name==="AuthSessionMissingError"}class Yi extends Ts{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Ji extends Ts{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Xi extends Ts{constructor(t,s=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function nN(e){return $(e)&&e.name==="AuthImplicitGrantRedirectError"}class bm extends Ts{constructor(t,s=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Hc extends Ts{constructor(t,s){super(t,"AuthRetryableFetchError",s,void 0)}}function gl(e){return $(e)&&e.name==="AuthRetryableFetchError"}class jm extends Ts{constructor(t,s,r){super(t,"AuthWeakPasswordError",s,"weak_password"),this.reasons=r}}class In extends Ts{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const so="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Nm=` 	
\r=`.split(""),iN=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Nm.length;t+=1)e[Nm[t].charCodeAt(0)]=-2;for(let t=0;t<so.length;t+=1)e[so[t].charCodeAt(0)]=t;return e})();function Sm(e,t,s){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;s(so[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;s(so[r]),t.queuedBits-=6}}function Qg(e,t,s){const r=iN[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)s(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function km(e){const t=[],s=o=>{t.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},n={queue:0,queuedBits:0},a=o=>{lN(o,r,s)};for(let o=0;o<e.length;o+=1)Qg(e.charCodeAt(o),n,a);return t.join("")}function aN(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function oN(e,t){for(let s=0;s<e.length;s+=1){let r=e.charCodeAt(s);if(r>55295&&r<=56319){const n=(r-55296)*1024&65535;r=(e.charCodeAt(s+1)-56320&65535|n)+65536,s+=1}aN(r,t)}}function lN(e,t,s){if(t.utf8seq===0){if(e<=127){s(e);return}for(let r=1;r<6;r+=1)if(!(e>>7-r&1)){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&s(t.codepoint)}}function cN(e){const t=[],s={queue:0,queuedBits:0},r=n=>{t.push(n)};for(let n=0;n<e.length;n+=1)Qg(e.charCodeAt(n),s,r);return new Uint8Array(t)}function uN(e){const t=[];return oN(e,s=>t.push(s)),new Uint8Array(t)}function dN(e){const t=[],s={queue:0,queuedBits:0},r=n=>{t.push(n)};return e.forEach(n=>Sm(n,s,r)),Sm(null,s,r),t.join("")}function hN(e){return Math.round(Date.now()/1e3)+e}function mN(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const mt=()=>typeof window<"u"&&typeof document<"u",Ls={tested:!1,writable:!1},$n=()=>{if(!mt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ls.tested)return Ls.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Ls.tested=!0,Ls.writable=!0}catch{Ls.tested=!0,Ls.writable=!1}return Ls.writable};function fN(e){const t={},s=new URL(e);if(s.hash&&s.hash[0]==="#")try{new URLSearchParams(s.hash.substring(1)).forEach((n,a)=>{t[a]=n})}catch{}return s.searchParams.forEach((r,n)=>{t[n]=r}),t}const Yg=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...s)=>Ni(async()=>{const{default:r}=await Promise.resolve().then(()=>rn);return{default:r}},void 0).then(({default:r})=>r(...s)):t=fetch,(...s)=>t(...s)},pN=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Jg=async(e,t,s)=>{await e.setItem(t,JSON.stringify(s))},Zi=async(e,t)=>{const s=await e.getItem(t);if(!s)return null;try{return JSON.parse(s)}catch{return s}},ea=async(e,t)=>{await e.removeItem(t)};class Lo{constructor(){this.promise=new Lo.promiseConstructor((t,s)=>{this.resolve=t,this.reject=s})}}Lo.promiseConstructor=Promise;function xl(e){const t=e.split(".");if(t.length!==3)throw new In("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!Z2.test(t[r]))throw new In("JWT not in base64url format");return{header:JSON.parse(km(t[0])),payload:JSON.parse(km(t[1])),signature:cN(t[2]),raw:{header:t[0],payload:t[1]}}}async function gN(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function xN(e,t){return new Promise((r,n)=>{(async()=>{for(let a=0;a<1/0;a++)try{const o=await e(a);if(!t(a,null,o)){r(o);return}}catch(o){if(!t(a,o)){n(o);return}}})()})}function yN(e){return("0"+e.toString(16)).substr(-2)}function vN(){const t=new Uint32Array(56);if(typeof crypto>"u"){const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=s.length;let n="";for(let a=0;a<56;a++)n+=s.charAt(Math.floor(Math.random()*r));return n}return crypto.getRandomValues(t),Array.from(t,yN).join("")}async function wN(e){const s=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",s),n=new Uint8Array(r);return Array.from(n).map(a=>String.fromCharCode(a)).join("")}async function bN(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const s=await wN(e);return btoa(s).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function cr(e,t,s=!1){const r=vN();let n=r;s&&(n+="/PASSWORD_RECOVERY"),await Jg(e,`${t}-code-verifier`,n);const a=await bN(r);return[a,r===a?"plain":"s256"]}const jN=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function NN(e){const t=e.headers.get(qc);if(!t||!t.match(jN))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function SN(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function kN(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const _N=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function ur(e){if(!_N.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}var CN=function(e,t){var s={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(s[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(e);n<r.length;n++)t.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(e,r[n])&&(s[r[n]]=e[r[n]]);return s};const Fs=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),PN=[502,503,504];async function _m(e){var t;if(!pN(e))throw new Hc(Fs(e),0);if(PN.includes(e.status))throw new Hc(Fs(e),e.status);let s;try{s=await e.json()}catch(a){throw new Kg(Fs(a),a)}let r;const n=NN(e);if(n&&n.getTime()>=Gg["2024-01-01"].timestamp&&typeof s=="object"&&s&&typeof s.code=="string"?r=s.code:typeof s=="object"&&s&&typeof s.error_code=="string"&&(r=s.error_code),r){if(r==="weak_password")throw new jm(Fs(s),e.status,((t=s.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new Jt}else if(typeof s=="object"&&s&&typeof s.weak_password=="object"&&s.weak_password&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.reasons.reduce((a,o)=>a&&typeof o=="string",!0))throw new jm(Fs(s),e.status,s.weak_password.reasons);throw new tN(Fs(s),e.status||500,r)}const EN=(e,t,s,r)=>{const n={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?n:(n.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),n.body=JSON.stringify(r),Object.assign(Object.assign({},n),s))};async function z(e,t,s,r){var n;const a=Object.assign({},r==null?void 0:r.headers);a[qc]||(a[qc]=Gg["2024-01-01"].name),r!=null&&r.jwt&&(a.Authorization=`Bearer ${r.jwt}`);const o=(n=r==null?void 0:r.query)!==null&&n!==void 0?n:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await TN(e,t,s+l,{headers:a,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(c):{data:Object.assign({},c),error:null}}async function TN(e,t,s,r,n,a){const o=EN(t,r,n,a);let l;try{l=await e(s,Object.assign({},o))}catch(c){throw console.error(c),new Hc(Fs(c),0)}if(l.ok||await _m(l),r!=null&&r.noResolveJson)return l;try{return await l.json()}catch(c){await _m(c)}}function Ot(e){var t;let s=null;DN(e)&&(s=Object.assign({},e),e.expires_at||(s.expires_at=hN(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:s,user:r},error:null}}function Cm(e){const t=Ot(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((s,r)=>s&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function is(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function AN(e){return{data:e,error:null}}function RN(e){const{action_link:t,email_otp:s,hashed_token:r,redirect_to:n,verification_type:a}=e,o=CN(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:s,hashed_token:r,redirect_to:n,verification_type:a},c=Object.assign({},o);return{data:{properties:l,user:c},error:null}}function ON(e){return e}function DN(e){return e.access_token&&e.refresh_token&&e.expires_in}const yl=["global","local","others"];var LN=function(e,t){var s={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(s[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(e);n<r.length;n++)t.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(e,r[n])&&(s[r[n]]=e[r[n]]);return s};class MN{constructor({url:t="",headers:s={},fetch:r}){this.url=t,this.headers=s,this.fetch=Yg(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,s=yl[0]){if(yl.indexOf(s)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${yl.join(", ")}`);try{return await z(this.fetch,"POST",`${this.url}/logout?scope=${s}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if($(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,s={}){try{return await z(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:s.data},headers:this.headers,redirectTo:s.redirectTo,xform:is})}catch(r){if($(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:s}=t,r=LN(t,["options"]),n=Object.assign(Object.assign({},r),s);return"newEmail"in r&&(n.new_email=r==null?void 0:r.newEmail,delete n.newEmail),await z(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:n,headers:this.headers,xform:RN,redirectTo:s==null?void 0:s.redirectTo})}catch(s){if($(s))return{data:{properties:null,user:null},error:s};throw s}}async createUser(t){try{return await z(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:is})}catch(s){if($(s))return{data:{user:null},error:s};throw s}}async listUsers(t){var s,r,n,a,o,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await z(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(s=t==null?void 0:t.page)===null||s===void 0?void 0:s.toString())!==null&&r!==void 0?r:"",per_page:(a=(n=t==null?void 0:t.perPage)===null||n===void 0?void 0:n.toString())!==null&&a!==void 0?a:""},xform:ON});if(d.error)throw d.error;const h=await d.json(),m=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,x=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return x.length>0&&(x.forEach(w=>{const b=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),y=JSON.parse(w.split(";")[1].split("=")[1]);u[`${y}Page`]=b}),u.total=parseInt(m)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if($(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){ur(t);try{return await z(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:is})}catch(s){if($(s))return{data:{user:null},error:s};throw s}}async updateUserById(t,s){ur(t);try{return await z(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:s,headers:this.headers,xform:is})}catch(r){if($(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,s=!1){ur(t);try{return await z(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:s},xform:is})}catch(r){if($(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){ur(t.userId);try{const{data:s,error:r}=await z(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:n=>({data:{factors:n},error:null})});return{data:s,error:r}}catch(s){if($(s))return{data:null,error:s};throw s}}async _deleteFactor(t){ur(t.userId),ur(t.id);try{return{data:await z(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(s){if($(s))return{data:null,error:s};throw s}}}const IN={getItem:e=>$n()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{$n()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{$n()&&globalThis.localStorage.removeItem(e)}};function Pm(e={}){return{getItem:t=>e[t]||null,setItem:(t,s)=>{e[t]=s},removeItem:t=>{delete e[t]}}}function $N(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const dr={debug:!!(globalThis&&$n()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Xg extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class FN extends Xg{}async function zN(e,t,s){dr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),dr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async n=>{if(n){dr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,n.name);try{return await s()}finally{dr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,n.name)}}else{if(t===0)throw dr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new FN(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(dr.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await s()}}))}$N();const VN={url:Y2,storageKey:J2,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:X2,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Em(e,t,s){return await s()}class ci{constructor(t){var s,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=ci.nextInstanceID,ci.nextInstanceID+=1,this.instanceID>0&&mt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const n=Object.assign(Object.assign({},VN),t);if(this.logDebugMessages=!!n.debug,typeof n.debug=="function"&&(this.logger=n.debug),this.persistSession=n.persistSession,this.storageKey=n.storageKey,this.autoRefreshToken=n.autoRefreshToken,this.admin=new MN({url:n.url,headers:n.headers,fetch:n.fetch}),this.url=n.url,this.headers=n.headers,this.fetch=Yg(n.fetch),this.lock=n.lock||Em,this.detectSessionInUrl=n.detectSessionInUrl,this.flowType=n.flowType,this.hasCustomAuthorizationHeader=n.hasCustomAuthorizationHeader,n.lock?this.lock=n.lock:mt()&&(!((s=globalThis==null?void 0:globalThis.navigator)===null||s===void 0)&&s.locks)?this.lock=zN:this.lock=Em,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?n.storage?this.storage=n.storage:$n()?this.storage=IN:(this.memoryStorage={},this.storage=Pm(this.memoryStorage)):(this.memoryStorage={},this.storage=Pm(this.memoryStorage)),mt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Hg}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const s=fN(window.location.href);let r="none";if(this._isImplicitGrantCallback(s)?r="implicit":await this._isPKCECallback(s)&&(r="pkce"),mt()&&this.detectSessionInUrl&&r!=="none"){const{data:n,error:a}=await this._getSessionFromURL(s,r);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),nN(a)){const c=(t=a.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:o,redirectType:l}=n;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(s){return $(s)?{error:s}:{error:new Kg("Unexpected error during initialization",s)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var s,r,n;try{const a=await z(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.captchaToken}},xform:Ot}),{data:o,error:l}=a;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(a){if($(a))return{data:{user:null,session:null},error:a};throw a}}async signUp(t){var s,r,n;try{let a;if("email"in t){const{email:d,password:h,options:m}=t;let x=null,w=null;this.flowType==="pkce"&&([x,w]=await cr(this.storage,this.storageKey)),a=await z(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:m==null?void 0:m.emailRedirectTo,body:{email:d,password:h,data:(s=m==null?void 0:m.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},code_challenge:x,code_challenge_method:w},xform:Ot})}else if("phone"in t){const{phone:d,password:h,options:m}=t;a=await z(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(r=m==null?void 0:m.data)!==null&&r!==void 0?r:{},channel:(n=m==null?void 0:m.channel)!==null&&n!==void 0?n:"sms",gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:Ot})}else throw new Ji("You must provide either an email or phone number and a password");const{data:o,error:l}=a;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(a){if($(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithPassword(t){try{let s;if("email"in t){const{email:a,password:o,options:l}=t;s=await z(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Cm})}else if("phone"in t){const{phone:a,password:o,options:l}=t;s=await z(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Cm})}else throw new Ji("You must provide either an email or phone number and a password");const{data:r,error:n}=s;return n?{data:{user:null,session:null},error:n}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new Yi}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:n})}catch(s){if($(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOAuth(t){var s,r,n,a;return await this._handleProviderSignIn(t.provider,{redirectTo:(s=t.options)===null||s===void 0?void 0:s.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(n=t.options)===null||n===void 0?void 0:n.queryParams,skipBrowserRedirect:(a=t.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:s}=t;if(s==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${s}"`)}async signInWithSolana(t){var s,r,n,a,o,l,c,u,d,h,m,x;let w,b;if("message"in t)w=t.message,b=t.signature;else{const{chain:y,wallet:g,statement:p,options:f}=t;let j;if(mt())if(typeof g=="object")j=g;else{const S=window;if("solana"in S&&typeof S.solana=="object"&&("signIn"in S.solana&&typeof S.solana.signIn=="function"||"signMessage"in S.solana&&typeof S.solana.signMessage=="function"))j=S.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof g!="object"||!(f!=null&&f.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");j=g}const N=new URL((s=f==null?void 0:f.url)!==null&&s!==void 0?s:window.location.href);if("signIn"in j&&j.signIn){const S=await j.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},f==null?void 0:f.signInWithSolana),{version:"1",domain:N.host,uri:N.href}),p?{statement:p}:null));let _;if(Array.isArray(S)&&S[0]&&typeof S[0]=="object")_=S[0];else if(S&&typeof S=="object"&&"signedMessage"in S&&"signature"in S)_=S;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in _&&"signature"in _&&(typeof _.signedMessage=="string"||_.signedMessage instanceof Uint8Array)&&_.signature instanceof Uint8Array)w=typeof _.signedMessage=="string"?_.signedMessage:new TextDecoder().decode(_.signedMessage),b=_.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in j)||typeof j.signMessage!="function"||!("publicKey"in j)||typeof j!="object"||!j.publicKey||!("toBase58"in j.publicKey)||typeof j.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");w=[`${N.host} wants you to sign in with your Solana account:`,j.publicKey.toBase58(),...p?["",p,""]:[""],"Version: 1",`URI: ${N.href}`,`Issued At: ${(n=(r=f==null?void 0:f.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&n!==void 0?n:new Date().toISOString()}`,...!((a=f==null?void 0:f.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${f.signInWithSolana.notBefore}`]:[],...!((o=f==null?void 0:f.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${f.signInWithSolana.expirationTime}`]:[],...!((l=f==null?void 0:f.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${f.signInWithSolana.chainId}`]:[],...!((c=f==null?void 0:f.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${f.signInWithSolana.nonce}`]:[],...!((u=f==null?void 0:f.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${f.signInWithSolana.requestId}`]:[],...!((h=(d=f==null?void 0:f.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||h===void 0)&&h.length?["Resources",...f.signInWithSolana.resources.map(_=>`- ${_}`)]:[]].join(`
`);const S=await j.signMessage(new TextEncoder().encode(w),"utf8");if(!S||!(S instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");b=S}}try{const{data:y,error:g}=await z(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:w,signature:dN(b)},!((m=t.options)===null||m===void 0)&&m.captchaToken?{gotrue_meta_security:{captcha_token:(x=t.options)===null||x===void 0?void 0:x.captchaToken}}:null),xform:Ot});if(g)throw g;return!y||!y.session||!y.user?{data:{user:null,session:null},error:new Yi}:(y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),{data:Object.assign({},y),error:g})}catch(y){if($(y))return{data:{user:null,session:null},error:y};throw y}}async _exchangeCodeForSession(t){const s=await Zi(this.storage,`${this.storageKey}-code-verifier`),[r,n]=(s??"").split("/");try{const{data:a,error:o}=await z(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:Ot});if(await ea(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!a||!a.session||!a.user?{data:{user:null,session:null,redirectType:null},error:new Yi}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign(Object.assign({},a),{redirectType:n??null}),error:o})}catch(a){if($(a))return{data:{user:null,session:null,redirectType:null},error:a};throw a}}async signInWithIdToken(t){try{const{options:s,provider:r,token:n,access_token:a,nonce:o}=t,l=await z(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:n,access_token:a,nonce:o,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:Ot}),{data:c,error:u}=l;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new Yi}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(s){if($(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOtp(t){var s,r,n,a,o;try{if("email"in t){const{email:l,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await cr(this.storage,this.storageKey));const{error:h}=await z(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(r=c==null?void 0:c.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:d}=await z(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(n=c==null?void 0:c.data)!==null&&n!==void 0?n:{},create_user:(a=c==null?void 0:c.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new Ji("You must provide either an email or phone number.")}catch(l){if($(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var s,r;try{let n,a;"options"in t&&(n=(s=t.options)===null||s===void 0?void 0:s.redirectTo,a=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:l}=await z(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:a}}),redirectTo:n,xform:Ot});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,u=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(n){if($(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithSSO(t){var s,r,n;try{let a=null,o=null;return this.flowType==="pkce"&&([a,o]=await cr(this.storage,this.storageKey)),await z(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(s=t.options)===null||s===void 0?void 0:s.redirectTo)!==null&&r!==void 0?r:void 0}),!((n=t==null?void 0:t.options)===null||n===void 0)&&n.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:o}),headers:this.headers,xform:AN})}catch(a){if($(a))return{data:null,error:a};throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:s},error:r}=t;if(r)throw r;if(!s)throw new Jt;const{error:n}=await z(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:s.access_token});return{data:{user:null,session:null},error:n}})}catch(t){if($(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const s=`${this.url}/resend`;if("email"in t){const{email:r,type:n,options:a}=t,{error:o}=await z(this.fetch,"POST",s,{headers:this.headers,body:{email:r,type:n,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:r,type:n,options:a}=t,{data:o,error:l}=await z(this.fetch,"POST",s,{headers:this.headers,body:{phone:r,type:n,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l}}throw new Ji("You must provide either an email or phone number and a type")}catch(s){if($(s))return{data:{user:null,session:null},error:s};throw s}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async s=>s))}async _acquireLock(t,s){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),n=(async()=>(await r,await s()))();return this.pendingInLock.push((async()=>{try{await n}catch{}})()),n}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=s();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const n=[...this.pendingInLock];await Promise.all(n),this.pendingInLock.splice(0,n.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const s=await this.__loadSession();return await t(s)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const s=await Zi(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",s),s!==null&&(this._isValidSession(s)?t=s:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<pl:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.storage.isServer){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,u,d)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,d))})}return{data:{session:t},error:null}}const{session:n,error:a}=await this._callRefreshToken(t.refresh_token);return a?{data:{session:null},error:a}:{data:{session:n},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await z(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:is}):await this._useSession(async s=>{var r,n,a;const{data:o,error:l}=s;if(l)throw l;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Jt}:await z(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(n=o.session)===null||n===void 0?void 0:n.access_token)!==null&&a!==void 0?a:void 0,xform:is})})}catch(s){if($(s))return rN(s)&&(await this._removeSession(),await ea(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:s};throw s}}async updateUser(t,s={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,s))}async _updateUser(t,s={}){try{return await this._useSession(async r=>{const{data:n,error:a}=r;if(a)throw a;if(!n.session)throw new Jt;const o=n.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await cr(this.storage,this.storageKey));const{data:u,error:d}=await z(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:s==null?void 0:s.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:o.access_token,xform:is});if(d)throw d;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if($(r))return{data:{user:null},error:r};throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Jt;const s=Date.now()/1e3;let r=s,n=!0,a=null;const{payload:o}=xl(t.access_token);if(o.exp&&(r=o.exp,n=r<=s),n){const{session:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};a=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;a={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:r-s,expires_at:r},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return{data:{user:a.user,session:a},error:null}}catch(s){if($(s))return{data:{session:null,user:null},error:s};throw s}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async s=>{var r;if(!t){const{data:o,error:l}=s;if(l)throw l;t=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new Jt;const{session:n,error:a}=await this._callRefreshToken(t.refresh_token);return a?{data:{user:null,session:null},error:a}:n?{data:{user:n.user,session:n},error:null}:{data:{user:null,session:null},error:null}})}catch(s){if($(s))return{data:{user:null,session:null},error:s};throw s}}async _getSessionFromURL(t,s){try{if(!mt())throw new Xi("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Xi(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(s){case"implicit":if(this.flowType==="pkce")throw new bm("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Xi("Not a valid implicit grant flow url.");break;default:}if(s==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new bm("No code detected.");const{data:p,error:f}=await this._exchangeCodeForSession(t.code);if(f)throw f;const j=new URL(window.location.href);return j.searchParams.delete("code"),window.history.replaceState(window.history.state,"",j.toString()),{data:{session:p.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:n,access_token:a,refresh_token:o,expires_in:l,expires_at:c,token_type:u}=t;if(!a||!l||!o||!u)throw new Xi("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(l);let m=d+h;c&&(m=parseInt(c));const x=m-d;x*1e3<=hr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${x}s, should have been closer to ${h}s`);const w=m-h;d-w>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",w,m,d):d-w<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",w,m,d);const{data:b,error:y}=await this._getUser(a);if(y)throw y;const g={provider_token:r,provider_refresh_token:n,access_token:a,expires_in:h,expires_at:m,refresh_token:o,token_type:u,user:b.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:g,redirectType:t.type},error:null}}catch(r){if($(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const s=await Zi(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&s)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async s=>{var r;const{data:n,error:a}=s;if(a)return{error:a};const o=(r=n.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:l}=await this.admin.signOut(o,t);if(l&&!(sN(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await ea(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const s=mN(),r={id:s,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",s),this.stateChangeEmitters.delete(s)}};return this._debug("#onAuthStateChange()","registered callback with id",s),this.stateChangeEmitters.set(s,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(s)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async s=>{var r,n;try{const{data:{session:a},error:o}=s;if(o)throw o;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",t,"session",a)}catch(a){await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",a),console.error(a)}})}async resetPasswordForEmail(t,s={}){let r=null,n=null;this.flowType==="pkce"&&([r,n]=await cr(this.storage,this.storageKey,!0));try{return await z(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:n,gotrue_meta_security:{captcha_token:s.captchaToken}},headers:this.headers,redirectTo:s.redirectTo})}catch(a){if($(a))return{data:null,error:a};throw a}}async getUserIdentities(){var t;try{const{data:s,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(t=s.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(s){if($(s))return{data:null,error:s};throw s}}async linkIdentity(t){var s;try{const{data:r,error:n}=await this._useSession(async a=>{var o,l,c,u,d;const{data:h,error:m}=a;if(m)throw m;const x=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await z(this.fetch,"GET",x,{headers:this.headers,jwt:(d=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(n)throw n;return mt()&&!(!((s=t.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:t.provider,url:r==null?void 0:r.url},error:null}}catch(r){if($(r))return{data:{provider:t.provider,url:null},error:r};throw r}}async unlinkIdentity(t){try{return await this._useSession(async s=>{var r,n;const{data:a,error:o}=s;if(o)throw o;return await z(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(n=(r=a.session)===null||r===void 0?void 0:r.access_token)!==null&&n!==void 0?n:void 0})})}catch(s){if($(s))return{data:null,error:s};throw s}}async _refreshAccessToken(t){const s=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{const r=Date.now();return await xN(async n=>(n>0&&await gN(200*Math.pow(2,n-1)),this._debug(s,"refreshing attempt",n),await z(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Ot})),(n,a)=>{const o=200*Math.pow(2,n);return a&&gl(a)&&Date.now()+o-r<hr})}catch(r){if(this._debug(s,"error",r),$(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(s,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,s){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:s.redirectTo,scopes:s.scopes,queryParams:s.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",s,"url",r),mt()&&!s.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t;const s="#_recoverAndRefresh()";this._debug(s,"begin");try{const r=await Zi(this.storage,this.storageKey);if(this._debug(s,"session from storage",r),!this._isValidSession(r)){this._debug(s,"session is not valid"),r!==null&&await this._removeSession();return}const n=((t=r.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<pl;if(this._debug(s,`session has${n?"":" not"} expired with margin of ${pl}s`),n){if(this.autoRefreshToken&&r.refresh_token){const{error:a}=await this._callRefreshToken(r.refresh_token);a&&(console.error(a),gl(a)||(this._debug(s,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(s,"error",r),console.error(r);return}finally{this._debug(s,"end")}}async _callRefreshToken(t){var s,r;if(!t)throw new Jt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const n=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{this.refreshingDeferred=new Lo;const{data:a,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!a.session)throw new Jt;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const l={session:a.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(a){if(this._debug(n,"error",a),$(a)){const o={session:null,error:a};return gl(a)||await this._removeSession(),(s=this.refreshingDeferred)===null||s===void 0||s.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(a),a}finally{this.refreshingDeferred=null,this._debug(n,"end")}}async _notifyAllSubscribers(t,s,r=!0){const n=`#_notifyAllSubscribers(${t})`;this._debug(n,"begin",s,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:s});const a=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,s)}catch(c){a.push(c)}});if(await Promise.all(o),a.length>0){for(let l=0;l<a.length;l+=1)console.error(a[l]);throw a[0]}}finally{this._debug(n,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await Jg(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await ea(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&mt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(s){console.error("removing visibilitychange callback failed",s)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),hr);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async s=>{const{data:{session:r}}=s;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const n=Math.floor((r.expires_at*1e3-t)/hr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${n} ticks, a tick lasts ${hr}ms, refresh threshold is ${Wc} ticks`),n<=Wc&&await this._callRefreshToken(r.refresh_token)})}catch(s){console.error("Auto refresh tick failed with error. This is likely a transient error.",s)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof Xg)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!mt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const s=`#_onVisibilityChanged(${t})`;this._debug(s,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(s,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,s,r){const n=[`provider=${encodeURIComponent(s)}`];if(r!=null&&r.redirectTo&&n.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&n.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[a,o]=await cr(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(o)}`});n.push(l.toString())}if(r!=null&&r.queryParams){const a=new URLSearchParams(r.queryParams);n.push(a.toString())}return r!=null&&r.skipBrowserRedirect&&n.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${n.join("&")}`}async _unenroll(t){try{return await this._useSession(async s=>{var r;const{data:n,error:a}=s;return a?{data:null,error:a}:await z(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=n==null?void 0:n.session)===null||r===void 0?void 0:r.access_token})})}catch(s){if($(s))return{data:null,error:s};throw s}}async _enroll(t){try{return await this._useSession(async s=>{var r,n;const{data:a,error:o}=s;if(o)return{data:null,error:o};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:c,error:u}=await z(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(r=a==null?void 0:a.session)===null||r===void 0?void 0:r.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((n=c==null?void 0:c.totp)===null||n===void 0)&&n.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(s){if($(s))return{data:null,error:s};throw s}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var r;const{data:n,error:a}=s;if(a)return{data:null,error:a};const{data:o,error:l}=await z(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(r=n==null?void 0:n.session)===null||r===void 0?void 0:r.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:l})})}catch(s){if($(s))return{data:null,error:s};throw s}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var r;const{data:n,error:a}=s;return a?{data:null,error:a}:await z(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(r=n==null?void 0:n.session)===null||r===void 0?void 0:r.access_token})})}catch(s){if($(s))return{data:null,error:s};throw s}})}async _challengeAndVerify(t){const{data:s,error:r}=await this._challenge({factorId:t.factorId});return r?{data:null,error:r}:await this._verify({factorId:t.factorId,challengeId:s.id,code:t.code})}async _listFactors(){const{data:{user:t},error:s}=await this.getUser();if(s)return{data:null,error:s};const r=(t==null?void 0:t.factors)||[],n=r.filter(o=>o.factor_type==="totp"&&o.status==="verified"),a=r.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:r,totp:n,phone:a},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var s,r;const{data:{session:n},error:a}=t;if(a)return{data:null,error:a};if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=xl(n.access_token);let l=null;o.aal&&(l=o.aal);let c=l;((r=(s=n.user.factors)===null||s===void 0?void 0:s.filter(h=>h.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(c="aal2");const d=o.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(t,s={keys:[]}){let r=s.keys.find(o=>o.kid===t);if(r||(r=this.jwks.keys.find(o=>o.kid===t),r&&this.jwks_cached_at+eN>Date.now()))return r;const{data:n,error:a}=await z(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;if(!n.keys||n.keys.length===0)throw new In("JWKS is empty");if(this.jwks=n,this.jwks_cached_at=Date.now(),r=n.keys.find(o=>o.kid===t),!r)throw new In("No matching signing key found in JWKS");return r}async getClaims(t,s={keys:[]}){try{let r=t;if(!r){const{data:x,error:w}=await this.getSession();if(w||!x.session)return{data:null,error:w};r=x.session.access_token}const{header:n,payload:a,signature:o,raw:{header:l,payload:c}}=xl(r);if(SN(a.exp),!n.kid||n.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:x}=await this.getUser(r);if(x)throw x;return{data:{claims:a,header:n,signature:o},error:null}}const u=kN(n.alg),d=await this.fetchJwk(n.kid,s),h=await crypto.subtle.importKey("jwk",d,u,!0,["verify"]);if(!await crypto.subtle.verify(u,h,o,uN(`${l}.${c}`)))throw new In("Invalid JWT signature");return{data:{claims:a,header:n,signature:o},error:null}}catch(r){if($(r))return{data:null,error:r};throw r}}}ci.nextInstanceID=0;const BN=ci;class UN extends BN{constructor(t){super(t)}}var WN=function(e,t,s,r){function n(a){return a instanceof s?a:new s(function(o){o(a)})}return new(s||(s=Promise))(function(a,o){function l(d){try{u(r.next(d))}catch(h){o(h)}}function c(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?a(d.value):n(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};class qN{constructor(t,s,r){var n,a,o;if(this.supabaseUrl=t,this.supabaseKey=s,!t)throw new Error("supabaseUrl is required.");if(!s)throw new Error("supabaseKey is required.");const l=K2(t),c=new URL(l);this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const u=`sb-${c.hostname.split(".")[0]}-auth-token`,d={db:z2,realtime:B2,auth:Object.assign(Object.assign({},V2),{storageKey:u}),global:F2},h=Q2(r??{},d);this.storageKey=(n=h.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(a=h.global.headers)!==null&&a!==void 0?a:{},h.accessToken?(this.accessToken=h.accessToken,this.auth=new Proxy({},{get:(m,x)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(x)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=h.auth)!==null&&o!==void 0?o:{},this.headers,h.global.fetch),this.fetch=H2(s,this._getAccessToken.bind(this),h.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},h.realtime)),this.rest=new l2(new URL("rest/v1",c).href,{headers:this.headers,schema:h.db.schema,fetch:this.fetch}),h.accessToken||this._listenForAuthEvents()}get functions(){return new $j(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new M2(this.storageUrl.href,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,s={},r={}){return this.rest.rpc(t,s,r)}channel(t,s={config:{}}){return this.realtime.channel(t,s)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,s;return WN(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(s=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&s!==void 0?s:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:s,detectSessionInUrl:r,storage:n,storageKey:a,flowType:o,lock:l,debug:c},u,d){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new UN({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),u),storageKey:a,autoRefreshToken:t,persistSession:s,detectSessionInUrl:r,storage:n,flowType:o,lock:l,debug:c,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new j2(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((s,r)=>{this._handleTokenChanged(s,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(t,s,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:t==="SIGNED_OUT"&&(this.realtime.setAuth(),s=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const HN=(e,t,s)=>new qN(e,t,s),GN="https://qxnhozbfcxtrxvddpvcq.supabase.co",KN="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InF4bmhvemJmY3h0cnh2ZGRwdmNxIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDk4ODYxNTcsImV4cCI6MjA2NTQ2MjE1N30.Glt1ahB_si2lJgZY8xJDs_TscOPqtzRB8yVZZGrsAxc",J=HN(GN,KN,{auth:{persistSession:!1,autoRefreshToken:!1,detectSessionInUrl:!1,storage:{getItem:e=>null,setItem:(e,t)=>{},removeItem:e=>{}}}}),Zg=v.createContext(void 0),QN=({children:e})=>{const[t,s]=v.useState(null),[r,n]=v.useState(null),[a,o]=v.useState(null),[l,c]=v.useState(!0);v.useEffect(()=>{J.auth.getSession().then(({data:{session:j}})=>{o(j),s((j==null?void 0:j.user)??null),j!=null&&j.user&&u(j.user.id),c(!1)});const{data:{subscription:f}}=J.auth.onAuthStateChange(async(j,N)=>{o(N),s((N==null?void 0:N.user)??null),j==="SIGNED_IN"&&(N!=null&&N.user)?(await d(N.user),await u(N.user.id)):j==="SIGNED_OUT"&&n(null),c(!1)});return()=>f.unsubscribe()},[]);const u=async f=>{try{const{data:j,error:N}=await J.from("profiles").select("*").eq("id",f).single();if(N&&N.code!=="PGRST116"){console.error("Error loading profile:",N);return}j&&n(j)}catch(j){console.error("Error in loadUserProfile:",j)}},d=async f=>{var j,N;try{const{error:S}=await J.from("profiles").upsert({id:f.id,email:f.email,full_name:((j=f.user_metadata)==null?void 0:j.full_name)||"",avatar_url:((N=f.user_metadata)==null?void 0:N.avatar_url)||"",updated_at:new Date().toISOString()});S&&console.error("Error creating/updating profile:",S)}catch(S){console.error("Error in createOrUpdateProfile:",S)}},h=async(f,j)=>{try{c(!0);const{data:N,error:S}=await J.auth.signInWithPassword({email:f,password:j});return S?(F.error(S.message),!1):N.user?(F.success("Logged in successfully"),!0):!1}catch(N){return console.error("Login error:",N),F.error("An unexpected error occurred"),!1}finally{c(!1)}},m=async()=>{try{const{error:f}=await J.auth.signOut();f?F.error(f.message):(F.success("Logged out successfully"),n(null))}catch(f){console.error("Logout error:",f),F.error("An unexpected error occurred")}},x=async(f,j,N)=>{try{c(!0);const{data:S,error:_}=await J.auth.signUp({email:j,password:N,options:{data:{full_name:f}}});return _?(F.error(_.message),!1):S.user?(F.success("Account created successfully!"),!0):!1}catch(S){return console.error("Registration error:",S),F.error("An unexpected error occurred"),!1}finally{c(!1)}},w=async f=>{if(!t)return!1;try{c(!0);const{error:j}=await J.from("profiles").update({...f,updated_at:new Date().toISOString()}).eq("id",t.id);return j?(F.error("Failed to update profile"),!1):(await u(t.id),F.success("Profile updated successfully"),!0)}catch(j){return console.error("Update profile error:",j),F.error("An unexpected error occurred"),!1}finally{c(!1)}},b=async f=>{try{const{error:j}=await J.auth.resetPasswordForEmail(f,{redirectTo:`${window.location.origin}/reset-password`});return j?(F.error(j.message),!1):(F.success("Password reset email sent"),!0)}catch(j){return console.error("Reset password error:",j),F.error("An unexpected error occurred"),!1}},y=async f=>{try{const{error:j}=await J.auth.updateUser({password:f});return j?(F.error(j.message),!1):(F.success("Password updated successfully"),!0)}catch(j){return console.error("Update password error:",j),F.error("An unexpected error occurred"),!1}},g=async()=>{if(!t)return!1;try{return F.error("Account deletion must be requested through customer support"),!1}catch(f){return console.error("Delete account error:",f),F.error("An unexpected error occurred"),!1}},p=async()=>{t&&await u(t.id)};return i.jsx(Zg.Provider,{value:{user:t,profile:r,session:a,isAuthenticated:!!t,isLoading:l,login:h,logout:m,register:x,updateProfile:w,resetPassword:b,updatePassword:y,deleteAccount:g,refreshProfile:p},children:e})},Ke=()=>{const e=v.useContext(Zg);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e},ex=v.createContext(void 0),YN=({children:e})=>{const[t,s]=v.useState([]),[r,n]=v.useState(!1),{user:a,isAuthenticated:o}=Ke();v.useEffect(()=>{o&&a?l():c()},[a,o]);const l=async()=>{if(a)try{n(!0);const{data:y,error:g}=await J.from("cart_items").select(`
          id,
          quantity,
          size,
          color,
          products (
            id,
            name,
            brand,
            description,
            price,
            sale_price,
            images,
            category,
            sustainability_score,
            sustainability_details,
            sizes,
            colors,
            is_new,
            is_bestseller,
            tags
          )
        `).eq("user_id",a.id);if(g){console.error("Error loading cart items:",g);return}const p=(y==null?void 0:y.map(f=>({...f.products,quantity:f.quantity,size:f.size,color:f.color,cart_item_id:f.id,sustainabilityDetails:f.products.sustainability_details,salePrice:f.products.sale_price,isNew:f.products.is_new,isBestseller:f.products.is_bestseller})))||[];s(p)}catch(y){console.error("Error in loadCartItems:",y)}finally{n(!1)}},c=()=>{try{const y=localStorage.getItem("cart");y&&s(JSON.parse(y))}catch(y){console.error("Error loading local cart:",y)}},u=y=>{try{localStorage.setItem("cart",JSON.stringify(y))}catch(g){console.error("Error saving local cart:",g)}},d=async(y,g=1,p,f)=>{if(!o||!a){const j=t.findIndex(S=>S.id===y.id&&S.size===p&&S.color===f);let N;j>=0?N=t.map((S,_)=>_===j?{...S,quantity:S.quantity+g}:S):N=[...t,{...y,quantity:g,size:p,color:f}],s(N),u(N),F.success("Added to cart");return}try{n(!0);const{data:j}=await J.from("cart_items").select("id, quantity").eq("user_id",a.id).eq("product_id",y.id).eq("size",p||"").eq("color",f||"").single();if(j){const{error:N}=await J.from("cart_items").update({quantity:j.quantity+g}).eq("id",j.id);if(N)throw N}else{const{error:N}=await J.from("cart_items").insert({user_id:a.id,product_id:y.id,quantity:g,size:p||null,color:f||null});if(N)throw N}await l(),F.success("Added to cart")}catch(j){console.error("Error adding to cart:",j),F.error("Failed to add item to cart")}finally{n(!1)}},h=async y=>{if(!o||!a){const g=t.filter(p=>p.cart_item_id!==y);s(g),u(g),F.success("Removed from cart");return}try{n(!0);const{error:g}=await J.from("cart_items").delete().eq("id",y);if(g)throw g;await l(),F.success("Removed from cart")}catch(g){console.error("Error removing from cart:",g),F.error("Failed to remove item from cart")}finally{n(!1)}},m=async(y,g)=>{if(!(g<1)){if(!o||!a){const p=t.map(f=>f.cart_item_id===y?{...f,quantity:g}:f);s(p),u(p);return}try{n(!0);const{error:p}=await J.from("cart_items").update({quantity:g}).eq("id",y);if(p)throw p;await l()}catch(p){console.error("Error updating quantity:",p),F.error("Failed to update quantity")}finally{n(!1)}}},x=async()=>{if(!o||!a){s([]),localStorage.removeItem("cart"),F.success("Cart cleared");return}try{n(!0);const{error:y}=await J.from("cart_items").delete().eq("user_id",a.id);if(y)throw y;s([]),F.success("Cart cleared")}catch(y){console.error("Error clearing cart:",y),F.error("Failed to clear cart")}finally{n(!1)}},w=()=>t.reduce((y,g)=>{const p=g.salePrice||g.price;return y+p*g.quantity},0),b=()=>t.reduce((y,g)=>y+g.quantity,0);return i.jsx(ex.Provider,{value:{cartItems:t,isLoading:r,addToCart:d,removeFromCart:h,updateQuantity:m,clearCart:x,getTotalPrice:w,getTotalItems:b},children:e})},As=()=>{const e=v.useContext(ex);if(e===void 0)throw new Error("useCart must be used within a CartProvider");return e},St=({to:e,children:t,mobile:s=!1,className:r=""})=>{const a=dt().pathname===e,o=`transition-all duration-200 relative ${r}`.trim(),l=`
    px-3 py-2 rounded-md font-medium text-sm
    ${a?"text-primary-700":"text-neutral-600 hover:text-primary-600"}
  `,c=`
    py-3 text-center font-medium text-lg
    ${a?"text-primary-700":"text-neutral-700 hover:text-primary-600"}
  `;return i.jsxs(O,{to:e,className:`${o} ${s?c:l}`,children:[t,a&&!s&&i.jsx("span",{className:"absolute bottom-0 left-1/2 -translate-x-1/2 w-1/2 h-0.5 bg-primary-500 rounded-full"})]})},Tm=()=>{const[e,t]=v.useState(!1);v.useEffect(()=>{const r=localStorage.getItem("theme"),n=window.matchMedia("(prefers-color-scheme: dark)").matches;r==="dark"||!r&&n?(t(!0),document.documentElement.classList.add("dark")):(t(!1),document.documentElement.classList.remove("dark"))},[]);const s=()=>{e?(document.documentElement.classList.remove("dark"),localStorage.setItem("theme","light"),t(!1)):(document.documentElement.classList.add("dark"),localStorage.setItem("theme","dark"),t(!0))};return i.jsx("button",{onClick:s,className:"p-2 rounded-full hover:bg-neutral-100 dark:hover:bg-neutral-800 transition-colors","aria-label":e?"Switch to light mode":"Switch to dark mode",children:e?i.jsx(Cj,{className:"w-5 h-5 text-yellow-500"}):i.jsx(vj,{className:"w-5 h-5 text-neutral-600"})})},JN=()=>{const[e,t]=v.useState(!1),[s,r]=v.useState(!1),{cartItems:n}=As(),a=dt();v.useEffect(()=>{const l=()=>{t(window.scrollY>10)};return window.addEventListener("scroll",l),()=>window.removeEventListener("scroll",l)},[]),v.useEffect(()=>{r(!1)},[a]);const o=()=>{r(!s)};return i.jsxs("header",{className:`sticky top-0 z-50 transition-all duration-300 ${e?"bg-white/95 backdrop-blur-sm shadow-sm":"bg-transparent"}`,children:[i.jsx("div",{className:"container mx-auto px-4",children:i.jsxs("div",{className:"flex items-center justify-between h-16 md:h-20",children:[i.jsxs(O,{to:"/",className:"flex items-center",children:[i.jsx(js,{className:"w-6 h-6 text-primary-600 mr-2"}),i.jsx("span",{className:"font-serif font-bold text-2xl bg-gradient-to-r from-primary-700 to-primary-500 bg-clip-text text-transparent",children:"stylesphere"})]}),i.jsxs("nav",{className:"hidden md:flex items-center space-x-1",children:[i.jsx(St,{to:"/",children:"Home"}),i.jsx(St,{to:"/shop",children:"Shop"}),i.jsx(St,{to:"/sustainability",children:"Sustainability"}),i.jsx(St,{to:"/blog",children:"Blog"}),i.jsxs(St,{to:"/gift-cards",className:"flex items-center",children:[i.jsx(bs,{className:"h-4 w-4 mr-2"}),i.jsx("span",{children:"Gift Cards"})]})]}),i.jsxs("div",{className:"hidden md:flex items-center space-x-4",children:[i.jsx("button",{className:"icon-btn",children:i.jsx(Mc,{className:"icon"})}),i.jsx(O,{to:"/profile",className:"icon-btn",children:i.jsx(jt,{className:"icon"})}),i.jsxs(O,{to:"/cart",className:"icon-btn relative",children:[i.jsx(eo,{className:"icon"}),n.length>0&&i.jsx("span",{className:"absolute -top-1 -right-1 bg-accent-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center",children:n.length})]}),i.jsx(Tm,{})]}),i.jsx("button",{className:"md:hidden icon-btn",onClick:o,"aria-label":"Toggle menu",children:s?i.jsx(cs,{className:"icon"}):i.jsx(xj,{className:"icon"})})]})}),i.jsx("div",{className:`fixed inset-0 bg-white z-40 transition-transform duration-300 ease-in-out ${s?"translate-x-0":"translate-x-full"} md:hidden`,children:i.jsx("div",{className:"container mx-auto px-4 py-8",children:i.jsxs("div",{className:"flex flex-col space-y-6",children:[i.jsxs(O,{to:"/",className:"flex items-center justify-center",onClick:()=>r(!1),children:[i.jsx(js,{className:"w-6 h-6 text-primary-600 mr-2"}),i.jsx("span",{className:"font-serif font-bold text-2xl bg-gradient-to-r from-primary-700 to-primary-500 bg-clip-text text-transparent",children:"StyleSphere"})]}),i.jsxs("div",{className:"flex items-center justify-center space-x-4",children:[i.jsx("button",{className:"icon-btn",children:i.jsx(Mc,{className:"icon"})}),i.jsx(O,{to:"/profile",className:"icon-btn",children:i.jsx(jt,{className:"icon"})}),i.jsxs(O,{to:"/cart",className:"icon-btn relative",children:[i.jsx(eo,{className:"icon"}),n.length>0&&i.jsx("span",{className:"absolute -top-1 -right-1 bg-accent-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center",children:n.length})]}),i.jsx(Tm,{})]}),i.jsxs("nav",{className:"flex flex-col space-y-4",children:[i.jsx(St,{to:"/",mobile:!0,children:"Home"}),i.jsx(St,{to:"/shop",mobile:!0,children:"Shop"}),i.jsx(St,{to:"/sustainability",mobile:!0,children:"Sustainability"}),i.jsx(St,{to:"/blog",mobile:!0,children:"Blog"}),i.jsxs(St,{to:"/gift-cards",mobile:!0,className:"flex items-center",children:[i.jsx(bs,{className:"w-5 h-5 mr-2"}),i.jsx("span",{children:"Gift Cards"})]})]}),i.jsx("div",{className:"pt-6 border-t border-neutral-200",children:i.jsxs("div",{className:"flex flex-col space-y-4",children:[i.jsxs(O,{to:"/impact",className:"flex items-center space-x-2 text-neutral-600 hover:text-primary-600 transition-colors",children:[i.jsx(Sg,{className:"w-5 h-5"}),i.jsx("span",{children:"Our Impact"})]}),i.jsxs(O,{to:"/wishlist",className:"flex items-center space-x-2 text-neutral-600 hover:text-primary-600 transition-colors",children:[i.jsx(Gr,{className:"w-5 h-5"}),i.jsx("span",{children:"Wishlist"})]})]})})]})})})]})},XN=()=>{const e=new Date().getFullYear();return i.jsx("footer",{className:"bg-neutral-900 text-neutral-200",children:i.jsxs("div",{className:"container mx-auto px-4 py-12",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[i.jsxs("div",{className:"col-span-1",children:[i.jsxs(O,{to:"/",className:"flex items-center mb-4",children:[i.jsx(js,{className:"w-6 h-6 text-primary-400 mr-2"}),i.jsx("span",{className:"font-serif font-bold text-2xl text-white",children:"stylesphere"})]}),i.jsx("p",{className:"text-neutral-400 mb-6",children:"Redefining fashion with sustainability, technology, and personal style evolution."}),i.jsxs("div",{className:"flex space-x-4",children:[i.jsx("a",{href:"#",className:"text-neutral-400 hover:text-white transition-colors",children:i.jsx(mj,{className:"w-5 h-5"})}),i.jsx("a",{href:"#",className:"text-neutral-400 hover:text-white transition-colors",children:i.jsx(Pg,{className:"w-5 h-5"})}),i.jsx("a",{href:"#",className:"text-neutral-400 hover:text-white transition-colors",children:i.jsx(Ng,{className:"w-5 h-5"})}),i.jsx("a",{href:"#",className:"text-neutral-400 hover:text-white transition-colors",children:i.jsx(Ej,{className:"w-5 h-5"})})]})]}),i.jsxs("div",{className:"col-span-1",children:[i.jsx("h3",{className:"font-medium text-white mb-4",children:"Shop"}),i.jsxs("ul",{className:"space-y-2",children:[i.jsx("li",{children:i.jsx(O,{to:"/shop/women",className:"text-neutral-400 hover:text-white transition-colors",children:"Women"})}),i.jsx("li",{children:i.jsx(O,{to:"/shop/men",className:"text-neutral-400 hover:text-white transition-colors",children:"Men"})}),i.jsx("li",{children:i.jsx(O,{to:"/shop/accessories",className:"text-neutral-400 hover:text-white transition-colors",children:"Accessories"})}),i.jsx("li",{children:i.jsx(O,{to:"/shop/sustainable",className:"text-neutral-400 hover:text-white transition-colors",children:"Sustainable Collection"})}),i.jsx("li",{children:i.jsx(O,{to:"/shop/sale",className:"text-neutral-400 hover:text-white transition-colors",children:"Sale"})})]})]}),i.jsxs("div",{className:"col-span-1",children:[i.jsx("h3",{className:"font-medium text-white mb-4",children:"Company"}),i.jsxs("ul",{className:"space-y-2",children:[i.jsx("li",{children:i.jsx(O,{to:"/about",className:"text-neutral-400 hover:text-white transition-colors",children:"About Us"})}),i.jsx("li",{children:i.jsx(O,{to:"/sustainability",className:"text-neutral-400 hover:text-white transition-colors",children:"Sustainability"})}),i.jsx("li",{children:i.jsx(O,{to:"/careers",className:"text-neutral-400 hover:text-white transition-colors",children:"Careers"})}),i.jsx("li",{children:i.jsx(O,{to:"/press",className:"text-neutral-400 hover:text-white transition-colors",children:"Press"})}),i.jsx("li",{children:i.jsx(O,{to:"/contact",className:"text-neutral-400 hover:text-white transition-colors",children:"Contact"})})]})]}),i.jsxs("div",{className:"col-span-1",children:[i.jsx("h3",{className:"font-medium text-white mb-4",children:"Customer Service"}),i.jsxs("ul",{className:"space-y-2",children:[i.jsx("li",{children:i.jsx(O,{to:"/help",className:"text-neutral-400 hover:text-white transition-colors",children:"Help Center"})}),i.jsx("li",{children:i.jsx(O,{to:"/shipping",className:"text-neutral-400 hover:text-white transition-colors",children:"Shipping & Returns"})}),i.jsx("li",{children:i.jsx(O,{to:"/size-guide",className:"text-neutral-400 hover:text-white transition-colors",children:"Size Guide"})}),i.jsx("li",{children:i.jsx(O,{to:"/privacy",className:"text-neutral-400 hover:text-white transition-colors",children:"Privacy Policy"})}),i.jsx("li",{children:i.jsx(O,{to:"/terms",className:"text-neutral-400 hover:text-white transition-colors",children:"Terms & Conditions"})})]})]})]}),i.jsxs("div",{className:"border-t border-neutral-800 mt-12 pt-8 flex flex-col md:flex-row justify-between items-center",children:[i.jsxs("p",{className:"text-neutral-400 text-sm mb-4 md:mb-0",children:["© ",e," StyleSphere. All rights reserved."]}),i.jsxs("div",{className:"flex space-x-6",children:[i.jsx(O,{to:"/privacy",className:"text-neutral-400 hover:text-white text-sm transition-colors",children:"Privacy"}),i.jsx(O,{to:"/terms",className:"text-neutral-400 hover:text-white text-sm transition-colors",children:"Terms"}),i.jsx(O,{to:"/accessibility",className:"text-neutral-400 hover:text-white text-sm transition-colors",children:"Accessibility"})]})]})]})})},Am="🤖",ZN="🧑",eS=[{sender:"bot",text:"Hi! I'm your StyleSphere assistant. I'm here to help you discover sustainable fashion that matches your style. What brings you here today?",timestamp:new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}],tS=["Show me what's trending","I'm looking for sustainable clothing","Help me find a gift","I need help with my order","Tell me about your eco-friendly practices"],vl={"organic-cotton-tee":{name:"Organic Cotton T-Shirt",brand:"EcoWear",price:"$28",sustainability:"100% GOTS-certified organic cotton",colors:["White","Black","Forest Green","Ocean Blue"],sizes:["XS","S","M","L","XL","XXL"],description:"Super soft, breathable, and ethically made"},"eco-denim":{name:"Eco Denim Jeans",brand:"GreenThread",price:"$85",sustainability:"Made with 70% recycled cotton, 90% less water usage",colors:["Classic Blue","Dark Wash","Light Wash"],sizes:["24","26","28","30","32","34","36"],description:"Durable, comfortable fit with a conscience"},"recycled-sneakers":{name:"Recycled Sneakers",brand:"EcoStep",price:"$95",sustainability:"Made from 12 recycled plastic bottles and vegan leather",colors:["White/Gray","Black/Green","Navy/White"],sizes:["6","7","8","9","10","11","12"],description:"Comfortable all-day wear with zero compromise on style"}},sS=()=>{const[e,t]=v.useState(eS),[s,r]=v.useState(""),[n,a]=v.useState(!1),[o,l]=v.useState(!1),[c,u]=v.useState(!0),[d,h]=v.useState(null),[m,x]=v.useState([]),[w,b]=v.useState({previousPurchases:[],preferences:[],currentSession:{viewedProducts:[],interests:[]}}),[y,g]=v.useState(0),p=v.useRef(null),f=v.useRef(null);v.useEffect(()=>{var k;(k=p.current)==null||k.scrollIntoView({behavior:"smooth"})},[e]);const j=(k,A)=>{b(T=>({...T,currentSession:{...T.currentSession,[k]:[...T.currentSession[k],A]}}))},N=(k,A)=>A.currentSession.interests.length>0&&A.currentSession.interests.includes("sustainability")&&!k.includes("eco")?k+" All our products are sustainably made!":k,S=async k=>{const A=(k??s).trim();if(!A)return;const T=new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),H={sender:"user",text:A,timestamp:T};t(B=>[...B,H]),r(""),a(!0),u(!1),x([]),g(B=>B+1),setTimeout(()=>{let B="",G=null,Z=[];const R=A.toLowerCase(),W=new Date().getHours();if(R.match(/^(hi|hello|hey|good morning|good afternoon|good evening)$/)){const C={morning:["Good morning! Ready to start your day with some sustainable style?","Morning! What can I help you discover in our eco-friendly collection today?"],afternoon:["Good afternoon! Looking for something special to brighten your day?","Afternoon! How can I help you find the perfect sustainable pieces?"],evening:["Good evening! Planning your outfit for tomorrow, or shopping for something special?","Evening! Whether you're browsing or have something specific in mind, I'm here to help!"]},D=W<12?C.morning:W<18?C.afternoon:C.evening;B=D[Math.floor(Math.random()*D.length)],G="greeting",Z=["Show me trending items","I'm looking for sustainable fashion","Help me find a gift","Tell me about StyleSphere"]}else if(R.includes("trending")||R.includes("popular")||R.includes("what's new"))j("interests","trending"),B=`Here are our most popular sustainable pieces right now:

🌱 **Organic Cotton T-Shirt** - $28
👖 **Eco Denim Jeans** - $85
👟 **Recycled Sneakers** - $95

Each piece is crafted with care for both you and the planet. Which catches your eye?`,G="trending",Z=["Tell me about the t-shirt","Show me the jeans","I'm interested in the sneakers","What makes them sustainable?"];else if(R.includes("organic cotton")||R.includes("t-shirt")||R.includes("tee")){j("viewedProducts","organic-cotton-tee");const C=vl["organic-cotton-tee"];B=`The **${C.name}** by ${C.brand} is one of our bestsellers! Here's why customers love it:

💚 ${C.sustainability}
🎨 Available in ${C.colors.length} colors: ${C.colors.join(", ")}
📏 Sizes: ${C.sizes.join(", ")}
💰 Only ${C.price}

${C.description}. Would you like to see styling tips or check availability in your size?`,G="product_organic_tee",Z=["Show me styling tips","Check size availability","Add to wishlist","See similar items"]}else if(R.includes("eco denim")||R.includes("jeans")){j("viewedProducts","eco-denim");const C=vl["eco-denim"];B=`Our **${C.name}** are a game-changer! Here's what makes them special:

🌊 ${C.sustainability}
🎨 Available in: ${C.colors.join(", ")}
📏 Sizes: ${C.sizes.join(", ")}
💰 ${C.price}

${C.description}. They're perfect for casual days or dressed up with heels. Want to know more about the fit or sustainability story?`,G="product_eco_denim",Z=["Tell me about the fit","Sustainability details","Size guide","Style suggestions"]}else if(R.includes("recycled sneakers")||R.includes("sneakers")||R.includes("shoes")){j("viewedProducts","recycled-sneakers");const C=vl["recycled-sneakers"];B=`The **${C.name}** are incredible! Check this out:

♻️ ${C.sustainability}
🎨 Colors: ${C.colors.join(", ")}
👟 Sizes: ${C.sizes.join(", ")}
💰 ${C.price}

${C.description}. They're perfect for everything from morning jogs to casual Fridays. Interested in learning about the recycling process?`,G="product_recycled_sneakers",Z=["How are they made?","Comfort details","Care instructions","Size recommendations"]}else if(R.includes("sustainab")||R.includes("eco")||R.includes("environment")||R.includes("green"))j("interests","sustainability"),B=`Sustainability is our core mission! Here's how StyleSphere makes a difference:

🌱 **Materials**: GOTS-certified organic cotton, recycled fibers
💧 **Water Conservation**: Up to 90% less water in production
📦 **Packaging**: 100% recycled and biodegradable
🤝 **Fair Trade**: Ethical partnerships with certified suppliers
🔄 **Circular Fashion**: Take-back program for worn items

What aspect interests you most?`,G="sustainability",Z=["Tell me about materials","Water conservation details","Fair trade practices","Take-back program"];else if(R.includes("gift")||R.includes("present"))B=`I'd love to help you find the perfect sustainable gift! To give you the best recommendations, tell me:

Who is this gift for? And do you know their style preferences or size?`,G="gift_inquiry",Z=["Gift for her","Gift for him","Gift for teen","Not sure about size"];else if(d==="gift_inquiry"&&(R.includes("her")||R.includes("woman")||R.includes("female")))B=`Perfect! Here are some fantastic gift ideas for her:

🌸 **Organic Cotton Tee** - Classic and versatile ($28)
👖 **Eco Denim Jeans** - Stylish and sustainable ($85)
🎁 **StyleSphere Gift Card** - Let her choose her favorites

Would you like to see gift bundles or learn about our gift wrapping options?`,G="gift_for_her",Z=["Show gift bundles","Gift wrapping options","Gift card details","Add personal note"];else if(R.includes("order")||R.includes("track")||R.includes("shipping"))B=`I'm here to help with your order! What can I assist you with?

📦 Track your package
📝 Update shipping address
❓ Order status questions
🔄 Returns or exchanges
📞 Connect with support team

Or simply tell me your order number and I'll look it up!`,G="order_support",Z=["Track my order","Change address","Return an item","Speak to human"];else if(R.includes("size")||R.includes("fit")||R.includes("sizing"))B=`Getting the right fit is so important! Here's how I can help:

📏 **Size Charts**: Detailed measurements for all items
📋 **Fit Guide**: Customer reviews on sizing
🔄 **Easy Returns**: Free returns if size isn't perfect
📞 **Personal Styling**: One-on-one fit consultation

Which item are you looking to size, or would you like general sizing tips?`,G="sizing_help",Z=["View size chart","Read fit reviews","Book styling session","Return policy"];else if(d==="trending"&&R.includes("sustainable"))B=`Great question! Here's what makes our trending items so sustainable:

🌱 **Organic Cotton Tee**: GOTS-certified organic cotton saves 2,500 liters of water per shirt
👖 **Eco Denim**: Made with 70% recycled cotton, uses 90% less water
👟 **Recycled Sneakers**: Each pair diverts 12 plastic bottles from landfills

Every purchase supports regenerative farming and fair wages. Which sustainability aspect matters most to you?`,G="sustainability_trending",Z=["Water conservation","Recycled materials","Fair wages","Organic farming"];else if(R.includes("style")||R.includes("outfit")||R.includes("look"))B=`I love helping with styling! Let's create some amazing sustainable looks together. What's the occasion?

👔 **Work/Professional**
🎉 **Casual/Weekend**
✨ **Date Night/Special**
🏃 **Active/Sporty**
🌈 **Express Yourself**

Or tell me about your personal style - are you more classic, bohemian, minimalist, or bold?`,G="styling_help",Z=["Work outfits","Casual looks","Date night style","What's my style?"];else if(R.includes("thanks")||R.includes("thank you")){const C=["You're so welcome! I'm always here to help you discover sustainable style. Anything else catching your interest?","My pleasure! I love helping customers find pieces they'll treasure. Is there anything else I can help you explore?","Happy to help! Feel free to ask me anything about our products, sustainability practices, or styling tips."];B=C[Math.floor(Math.random()*C.length)],G="thanks",Z=["Show me more products","Styling tips","Sustainability info","Contact support"]}else{const C=["I want to make sure I give you the best help possible! Could you tell me more about what you're looking for?","I'm here to help with anything StyleSphere related! Are you shopping for something specific, or would you like me to show you what's popular?","Let me help you find exactly what you need! I can assist with products, orders, sustainability questions, styling advice, and more."];B=C[y%C.length],G="clarification",Z=["Browse products","Get styling help","Learn about sustainability","Check my order","Speak to human"]}B=N(B,w),t(C=>[...C,{sender:"bot",text:B,timestamp:new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}]),h(G),x(Z),a(!1)},1200)},_=k=>{k.key==="Enter"&&S()};return o?i.jsxs("div",{className:"fixed bottom-6 right-6 z-50 w-96 max-w-full bg-white rounded-2xl shadow-2xl border border-gray-100 flex flex-col animate-fade-in",style:{minHeight:"500px",maxHeight:"90vh"},children:[i.jsxs("div",{className:"bg-gradient-to-r from-green-500 to-green-600 rounded-t-2xl px-5 py-4 flex items-center text-white font-semibold text-lg justify-between",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx("span",{className:"mr-3 text-2xl",children:"🌱"}),i.jsxs("div",{children:[i.jsx("div",{className:"text-lg font-bold",children:"StyleSphere Assistant"}),i.jsx("div",{className:"text-xs opacity-90",children:"Sustainable Fashion Expert"})]})]}),i.jsx("button",{className:"ml-2 text-white bg-white bg-opacity-20 hover:bg-opacity-30 rounded-full w-8 h-8 flex items-center justify-center transition-all duration-200",onClick:()=>l(!1),"aria-label":"Close chatbot",children:"×"})]}),i.jsxs("div",{className:"flex-1 overflow-y-auto p-5 space-y-4 bg-gradient-to-b from-gray-50 to-white",style:{minHeight:"320px"},children:[e.map((k,A)=>i.jsx("div",{className:`flex ${k.sender==="user"?"justify-end":"justify-start"}`,children:i.jsxs("div",{className:`flex items-start max-w-[85%] ${k.sender==="user"?"flex-row-reverse":""}`,children:[i.jsx("div",{className:`flex-shrink-0 w-8 h-8 rounded-full flex items-center justify-center text-lg ${k.sender==="user"?"ml-3 bg-blue-100":"mr-3 bg-green-100"}`,children:k.sender==="user"?ZN:Am}),i.jsxs("div",{className:`px-4 py-3 rounded-2xl text-sm leading-relaxed shadow-sm ${k.sender==="user"?"bg-blue-500 text-white rounded-br-md":"bg-white text-gray-800 border border-gray-100 rounded-bl-md"}`,children:[i.jsx("div",{className:"whitespace-pre-line",children:k.text}),i.jsx("div",{className:`text-xs mt-2 ${k.sender==="user"?"text-blue-100":"text-gray-400"}`,children:k.timestamp})]})]})},A)),n&&i.jsx("div",{className:"flex justify-start",children:i.jsxs("div",{className:"flex items-start",children:[i.jsx("div",{className:"flex-shrink-0 w-8 h-8 rounded-full flex items-center justify-center text-lg bg-green-100 mr-3",children:Am}),i.jsx("div",{className:"px-4 py-3 rounded-2xl rounded-bl-md text-sm bg-white text-gray-800 border border-gray-100 shadow-sm",children:i.jsxs("div",{className:"flex items-center space-x-1",children:[i.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-bounce"}),i.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),i.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]})})]})}),i.jsx("div",{ref:p})]}),m.length>0&&i.jsx("div",{className:"px-5 py-3 flex flex-wrap gap-2 bg-gray-50 border-t border-gray-100",children:m.map(k=>i.jsx("button",{className:"bg-white hover:bg-green-50 text-green-700 border border-green-200 hover:border-green-300 rounded-full px-4 py-2 text-xs font-medium shadow-sm transition-all duration-200 hover:shadow-md",onClick:()=>S(k),tabIndex:0,children:k},k))}),c&&m.length===0&&i.jsx("div",{className:"px-5 py-3 flex flex-wrap gap-2 bg-gray-50 border-t border-gray-100",children:tS.map(k=>i.jsx("button",{className:"bg-white hover:bg-green-50 text-green-700 border border-green-200 hover:border-green-300 rounded-full px-4 py-2 text-xs font-medium shadow-sm transition-all duration-200 hover:shadow-md",onClick:()=>S(k),tabIndex:0,children:k},k))}),i.jsx("div",{className:"p-4 border-t bg-white rounded-b-2xl",children:i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("input",{ref:f,type:"text",className:"flex-1 border border-gray-200 rounded-full px-4 py-3 text-sm focus:outline-none focus:ring-2 focus:ring-green-400 focus:border-transparent transition-all duration-200",placeholder:"Ask me anything about sustainable fashion...",value:s,onChange:k=>r(k.target.value),onKeyDown:_,disabled:n,autoFocus:!0}),i.jsx("button",{className:"px-6 py-3 bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 text-white rounded-full font-semibold transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed shadow-lg hover:shadow-xl transform hover:scale-105",onClick:()=>S(),disabled:n||!s.trim(),children:"Send"})]})})]}):i.jsx("button",{className:"fixed bottom-6 right-6 z-50 bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 text-white rounded-full shadow-xl w-16 h-16 flex items-center justify-center text-3xl transition-all duration-300 transform hover:scale-105 focus:outline-none focus:ring-4 focus:ring-green-300",onClick:()=>l(!0),"aria-label":"Open StyleSphere assistant",children:"💬"})};function mr({children:e,requireAuth:t=!0}){const{isAuthenticated:s,isLoading:r}=Ke(),n=dt();return r?i.jsx("div",{className:"min-h-screen flex items-center justify-center",children:i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):t&&!s?i.jsx(cm,{to:"/login",state:{from:n},replace:!0}):!t&&s?i.jsx(cm,{to:"/",replace:!0}):i.jsx(i.Fragment,{children:e})}const xd=({score:e,size:t="small"})=>{const s=()=>e>=80?"bg-green-500":e>=60?"bg-green-400":e>=40?"bg-yellow-400":e>=20?"bg-orange-400":"bg-red-500",r=()=>e>=60?"text-green-800":e>=40?"text-yellow-800":e>=20?"text-orange-800":"text-red-800",n=()=>{switch(t){case"large":return"text-4xl p-6";case"medium":return"text-2xl p-4";default:return"text-sm p-2"}};return i.jsxs("div",{className:`flex items-center justify-center ${t==="small"?"space-x-1":"space-x-2"}`,children:[i.jsx("div",{className:`rounded-full ${s()} text-white ${n()} flex items-center justify-center shadow-sm`,children:i.jsx(js,{className:t==="small"?"w-4 h-4":t==="medium"?"w-6 h-6":"w-8 h-8"})}),t!=="small"&&i.jsxs("div",{className:"flex flex-col",children:[i.jsxs("span",{className:`font-bold ${r()}`,children:[e,"/100"]}),i.jsx("span",{className:"text-xs text-neutral-600",children:"Sustainability Score"})]})]})},rS={code:"EGP",symbol:"ج.م",name:"Egyptian Pound",locale:"ar-EG"},tx=.14,Rm={standard:150,express:300,"free-shipping":0},ve=e=>`${rS.symbol} ${e.toFixed(2)}`,Fr=e=>e*30,sx=({product:e})=>{const[t,s]=v.useState(!1),[r,n]=v.useState(!1),{addToCart:a}=As(),o=c=>{c.preventDefault(),c.stopPropagation(),a(e)},l=c=>{c.preventDefault(),c.stopPropagation(),n(!r)};return i.jsxs(O,{to:`/product/${e.id}`,className:"group",onMouseEnter:()=>s(!0),onMouseLeave:()=>s(!1),children:[i.jsxs("div",{className:"relative overflow-hidden rounded-lg",children:[i.jsxs("div",{className:"aspect-[3/4] overflow-hidden bg-neutral-100",children:[i.jsx("img",{src:e.images[0],alt:e.name,className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-105"}),e.images[1]&&i.jsx("img",{src:e.images[1],alt:`${e.name} - alternate view`,className:`absolute inset-0 w-full h-full object-cover transition-opacity duration-500 ${t?"opacity-100":"opacity-0"}`})]}),i.jsx("button",{onClick:l,className:"absolute top-3 right-3 bg-white p-2 rounded-full shadow-sm transition-transform duration-200 hover:scale-110 z-10","aria-label":r?"Remove from favorites":"Add to favorites",children:i.jsx(Gr,{className:`w-4 h-4 ${r?"fill-red-500 text-red-500":"text-neutral-400"}`})}),i.jsx("div",{className:"absolute bottom-3 left-3 z-10",children:i.jsx(xd,{score:e.sustainabilityScore})}),i.jsx("div",{className:`absolute bottom-0 left-0 right-0 bg-white bg-opacity-95 p-3 transition-transform duration-300 ${t?"translate-y-0":"translate-y-full"}`,children:i.jsxs("button",{onClick:o,className:"w-full flex items-center justify-center space-x-2 bg-primary-600 text-white py-2 rounded-md hover:bg-primary-700 transition-colors",children:[i.jsx(eo,{className:"w-4 h-4"}),i.jsx("span",{children:"Add to Cart"})]})})]}),i.jsxs("div",{className:"mt-3",children:[i.jsx("h3",{className:"font-medium text-neutral-800 group-hover:text-primary-600 transition-colors",children:e.name}),i.jsx("p",{className:"text-neutral-500 text-sm",children:e.brand}),i.jsxs("div",{className:"mt-1 flex items-center justify-between",children:[i.jsx("div",{className:"flex items-baseline",children:e.salePrice?i.jsxs(i.Fragment,{children:[i.jsx("span",{className:"font-medium text-red-600",children:ve(Fr(e.salePrice))}),i.jsx("span",{className:"text-neutral-400 text-sm line-through ml-2",children:ve(Fr(e.price))})]}):i.jsx("span",{className:"font-medium",children:ve(Fr(e.price))})}),e.isNew&&i.jsx("span",{className:"text-xs px-2 py-1 bg-secondary-100 text-secondary-800 rounded",children:"New"})]})]})]})},rx=(e={})=>{const[t,s]=v.useState([]),[r,n]=v.useState(!0),[a,o]=v.useState(null);v.useEffect(()=>{l()},[e.category,e.featured,e.limit]);const l=async()=>{try{n(!0),o(null);let c=J.from("products").select("*");e.category&&(c=c.eq("category",e.category)),e.featured&&(c=c.eq("is_bestseller",!0)),e.limit&&(c=c.limit(e.limit)),c=c.order("created_at",{ascending:!1});const{data:u,error:d}=await c;if(d)throw d;const h=(u==null?void 0:u.map(m=>({id:m.id,name:m.name,brand:m.brand,description:m.description,price:m.price,salePrice:m.sale_price,images:m.images,category:m.category,sustainabilityScore:m.sustainability_score,sustainabilityDetails:m.sustainability_details,sizes:m.sizes,colors:m.colors,isNew:m.is_new,isBestseller:m.is_bestseller,tags:m.tags})))||[];s(h)}catch(c){console.error("Error fetching products:",c),o(c instanceof Error?c.message:"Failed to fetch products")}finally{n(!1)}};return{products:t,isLoading:r,error:a,refetch:l}},nS=e=>{const[t,s]=v.useState(null),[r,n]=v.useState(!0),[a,o]=v.useState(null);v.useEffect(()=>{e&&l()},[e]);const l=async()=>{try{n(!0),o(null);const{data:c,error:u}=await J.from("products").select("*").eq("id",e).single();if(u)throw u;if(c){const d={id:c.id,name:c.name,brand:c.brand,description:c.description,price:c.price,salePrice:c.sale_price,images:c.images,category:c.category,sustainabilityScore:c.sustainability_score,sustainabilityDetails:c.sustainability_details,sizes:c.sizes,colors:c.colors,isNew:c.is_new,isBestseller:c.is_bestseller,tags:c.tags};s(d)}}catch(c){console.error("Error fetching product:",c),o(c instanceof Error?c.message:"Failed to fetch product")}finally{n(!1)}};return{product:t,isLoading:r,error:a,refetch:l}},ta=[{id:1,title:"Evolve Your Style",subtitle:"Sustainable fashion meets AI-powered personalization",cta:"Shop Now",ctaLink:"/shop",image:"https://images.pexels.com/photos/934070/pexels-photo-934070.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1",position:"center"},{id:2,title:"Sustainable Collections",subtitle:"Eco-friendly materials with transparent production",cta:"Discover",ctaLink:"/sustainability",image:"https://images.pexels.com/photos/6567607/pexels-photo-6567607.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1",position:"right"}],iS=()=>{const[e,t]=v.useState(0),[s,r]=v.useState(!1);v.useEffect(()=>{const c=setInterval(()=>{n()},6e3);return()=>clearInterval(c)},[e]);const n=()=>{s||(r(!0),t(c=>c===ta.length-1?0:c+1),setTimeout(()=>r(!1),500))},a=()=>{s||(r(!0),t(c=>c===0?ta.length-1:c-1),setTimeout(()=>r(!1),500))},o=c=>{!s&&c!==e&&(r(!0),t(c),setTimeout(()=>r(!1),500))},l=ta[e];return i.jsxs("div",{className:"relative h-[70vh] overflow-hidden",children:[i.jsx("div",{className:"absolute inset-0 bg-cover bg-center transition-opacity duration-1000 ease-in-out",style:{backgroundImage:`url(${l.image})`,backgroundPosition:l.position,opacity:s?.7:1},children:i.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-30"})}),i.jsx("div",{className:"container mx-auto px-4 h-full flex items-center relative z-10",children:i.jsxs("div",{className:"max-w-xl text-white transition-all duration-500 ease-in-out transform",style:{opacity:s?0:1,transform:s?"translateY(20px)":"translateY(0)"},children:[i.jsx("h1",{className:"text-4xl md:text-5xl lg:text-6xl font-serif font-bold mb-4",children:l.title}),i.jsx("p",{className:"text-xl md:text-2xl mb-8 text-white/90",children:l.subtitle}),i.jsxs(O,{to:l.ctaLink,className:"inline-flex items-center px-6 py-3 bg-primary-600 text-white font-medium rounded-md hover:bg-primary-700 transition-colors",children:[l.cta,i.jsx(Ir,{className:"w-4 h-4 ml-2"})]})]})}),i.jsx("button",{onClick:a,className:"absolute left-4 top-1/2 transform -translate-y-1/2 bg-black/30 hover:bg-black/50 text-white rounded-full p-2 transition-colors z-20","aria-label":"Previous slide",children:i.jsx(dj,{className:"w-6 h-6"})}),i.jsx("button",{onClick:n,className:"absolute right-4 top-1/2 transform -translate-y-1/2 bg-black/30 hover:bg-black/50 text-white rounded-full p-2 transition-colors z-20","aria-label":"Next slide",children:i.jsx(Ir,{className:"w-6 h-6"})}),i.jsx("div",{className:"absolute bottom-6 left-1/2 transform -translate-x-1/2 flex space-x-3 z-20",children:ta.map((c,u)=>i.jsx("button",{onClick:()=>o(u),className:`w-3 h-3 rounded-full transition-all ${u===e?"bg-white scale-100":"bg-white/50 scale-75 hover:bg-white/70"}`,"aria-label":`Go to slide ${u+1}`},u))})]})},sa=({title:e,image:t,link:s})=>i.jsxs(O,{to:s,className:"relative overflow-hidden rounded-lg group",children:[i.jsx("div",{className:"aspect-square",children:i.jsx("img",{src:t,alt:e,className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-105"})}),i.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 via-black/30 to-transparent flex items-end p-4",children:i.jsx("h3",{className:"text-white font-medium text-xl",children:e})})]}),aS=()=>{const[e,t]=v.useState(!1);return i.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden relative",onMouseEnter:()=>t(!0),onMouseLeave:()=>t(!1),children:[i.jsxs("div",{className:"flex flex-col md:flex-row",children:[i.jsx("div",{className:"md:w-1/2",children:i.jsx("img",{src:"https://images.pexels.com/photos/1036623/pexels-photo-1036623.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1",alt:"AI Style Assistant",className:"w-full h-full object-cover"})}),i.jsxs("div",{className:"md:w-1/2 p-6 flex flex-col justify-center",children:[i.jsxs("div",{className:"flex items-center mb-4",children:[i.jsx("div",{className:"bg-primary-100 p-2 rounded-full mr-3",children:i.jsx(Cg,{className:"text-primary-600 w-4 h-4"})}),i.jsx("span",{className:"text-primary-600 font-medium",children:"AI-Powered"})]}),i.jsx("h3",{className:"text-xl font-medium mb-3",children:"Get personalized recommendations"}),i.jsx("p",{className:"text-neutral-600 mb-4",children:"Our AI analyzes your preferences, body type, and style to suggest perfect outfits."}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"w-2 h-2 rounded-full bg-primary-500 mr-2"}),i.jsx("span",{className:"text-sm text-neutral-700",children:"Body type analysis"})]}),i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"w-2 h-2 rounded-full bg-primary-500 mr-2"}),i.jsx("span",{className:"text-sm text-neutral-700",children:"Style preference learning"})]}),i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"w-2 h-2 rounded-full bg-primary-500 mr-2"}),i.jsx("span",{className:"text-sm text-neutral-700",children:"Occasion-based recommendations"})]})]})]})]}),i.jsxs("div",{className:`absolute inset-0 pointer-events-none transition-opacity duration-300 ${e?"opacity-100":"opacity-0"}`,children:[i.jsx("div",{className:"absolute top-1/4 left-1/4 w-2 h-2 bg-yellow-300 rounded-full animate-ping animation-delay-200"}),i.jsx("div",{className:"absolute top-3/4 left-1/3 w-2 h-2 bg-primary-400 rounded-full animate-ping animation-delay-700"}),i.jsx("div",{className:"absolute top-1/2 right-1/4 w-2 h-2 bg-secondary-400 rounded-full animate-ping animation-delay-1000"}),i.jsx("div",{className:"absolute bottom-1/4 right-1/3 w-2 h-2 bg-yellow-300 rounded-full animate-ping animation-delay-1500"})]})]})},oS=()=>{const{products:e,isLoading:t}=rx({featured:!0,limit:4});return i.jsxs("div",{className:"flex flex-col",children:[i.jsx(iS,{}),i.jsx("section",{className:"py-16 bg-neutral-50",children:i.jsxs("div",{className:"container mx-auto px-4",children:[i.jsx("h2",{className:"text-3xl font-serif font-bold text-center mb-12",children:"Why choose StyleSphere?"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[i.jsxs("div",{className:"flex flex-col items-center text-center p-6 rounded-lg transition-all hover:shadow-md",children:[i.jsx("div",{className:"bg-primary-100 p-4 rounded-full mb-4",children:i.jsx(Cg,{className:"text-primary-600 w-6 h-6"})}),i.jsx("h3",{className:"font-medium text-xl mb-2",children:"AI-Powered Styling"}),i.jsx("p",{className:"text-neutral-600",children:"Get personalized outfit recommendations based on your style preferences, body type, and the latest trends."})]}),i.jsxs("div",{className:"flex flex-col items-center text-center p-6 rounded-lg transition-all hover:shadow-md",children:[i.jsx("div",{className:"bg-primary-100 p-4 rounded-full mb-4",children:i.jsx(Za,{className:"text-primary-600 w-6 h-6"})}),i.jsx("h3",{className:"font-medium text-xl mb-2",children:"Sustainable Fashion"}),i.jsx("p",{className:"text-neutral-600",children:"Every item is scored for sustainability, with transparent information about materials and production methods."})]}),i.jsxs("div",{className:"flex flex-col items-center text-center p-6 rounded-lg transition-all hover:shadow-md",children:[i.jsx("div",{className:"bg-primary-100 p-4 rounded-full mb-4",children:i.jsx(Xa,{className:"text-primary-600 w-6 h-6"})}),i.jsx("h3",{className:"font-medium text-xl mb-2",children:"Second Life Marketplace"}),i.jsx("p",{className:"text-neutral-600",children:"Buy, sell, or swap pre-loved fashion items to extend their lifecycle and reduce waste."})]})]})]})}),i.jsx("section",{className:"py-16",children:i.jsxs("div",{className:"container mx-auto px-4",children:[i.jsxs("div",{className:"flex justify-between items-center mb-8",children:[i.jsx("h2",{className:"text-2xl font-serif font-bold",children:"Trending Now"}),i.jsxs(O,{to:"/shop",className:"text-primary-600 hover:text-primary-700 flex items-center",children:["View all ",i.jsx(Ir,{className:"w-4 h-4 ml-1"})]})]}),t?i.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:[...Array(4)].map((s,r)=>i.jsxs("div",{className:"animate-pulse",children:[i.jsx("div",{className:"aspect-[3/4] bg-gray-200 rounded-lg mb-4"}),i.jsx("div",{className:"h-4 bg-gray-200 rounded mb-2"}),i.jsx("div",{className:"h-4 bg-gray-200 rounded w-2/3"})]},r))}):i.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:e.map(s=>i.jsx(sx,{product:s},s.id))})]})}),i.jsx("section",{className:"py-16 bg-gradient-to-r from-primary-100 to-secondary-100",children:i.jsx("div",{className:"container mx-auto px-4",children:i.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between",children:[i.jsxs("div",{className:"md:w-1/2 mb-8 md:mb-0",children:[i.jsx("h2",{className:"text-3xl font-serif font-bold mb-4",children:"Meet Your Personal AI Style Assistant"}),i.jsx("p",{className:"text-neutral-600 mb-6 max-w-md",children:"Our AI analyzes your preferences, body type, and current trends to create perfect outfits for any occasion."}),i.jsxs(O,{to:"/style-quiz",className:"inline-flex items-center px-6 py-3 bg-primary-600 text-white font-medium rounded-md hover:bg-primary-700 transition-colors",children:["Take Style Quiz",i.jsx(Ir,{className:"w-4 h-4 ml-2"})]})]}),i.jsx("div",{className:"md:w-1/2",children:i.jsx(aS,{})})]})})}),i.jsx("section",{className:"py-16",children:i.jsxs("div",{className:"container mx-auto px-4",children:[i.jsx("h2",{className:"text-2xl font-serif font-bold mb-8",children:"Shop by Category"}),i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[i.jsx(sa,{title:"Women",image:"https://images.pexels.com/photos/3373736/pexels-photo-3373736.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1",link:"/shop?category=women"}),i.jsx(sa,{title:"Men",image:"https://images.pexels.com/photos/3755706/pexels-photo-3755706.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1",link:"/shop?category=men"}),i.jsx(sa,{title:"Accessories",image:"https://images.pexels.com/photos/1152077/pexels-photo-1152077.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1",link:"/shop?category=accessories"}),i.jsx(sa,{title:"Sustainable",image:"https://images.pexels.com/photos/5699514/pexels-photo-5699514.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1",link:"/shop?category=sustainable"})]})]})}),i.jsx("section",{className:"py-16 bg-neutral-50",children:i.jsx("div",{className:"container mx-auto px-4",children:i.jsxs("div",{className:"flex flex-col md:flex-row items-center",children:[i.jsxs("div",{className:"md:w-1/2 mb-8 md:mb-0 md:pr-12",children:[i.jsxs("div",{className:"flex items-center mb-4",children:[i.jsx(js,{className:"text-primary-600 w-6 h-6 mr-2"}),i.jsx("span",{className:"text-primary-600 font-medium",children:"Sustainable Fashion"})]}),i.jsx("h2",{className:"text-3xl font-serif font-bold mb-4",children:"Your Style Shouldn't Cost the Earth"}),i.jsx("p",{className:"text-neutral-600 mb-6",children:"Every product on StyleSphere is rated for sustainability. We analyze materials, production methods, worker conditions, and carbon footprint to give you complete transparency."}),i.jsxs(O,{to:"/sustainability",className:"inline-flex items-center px-6 py-3 border-2 border-primary-600 text-primary-600 font-medium rounded-md hover:bg-primary-50 transition-colors",children:["Learn More",i.jsx(Ir,{className:"w-4 h-4 ml-2"})]})]}),i.jsxs("div",{className:"md:w-1/2 bg-white rounded-lg shadow-md p-6",children:[i.jsxs("div",{className:"mb-4",children:[i.jsx(xd,{score:85,size:"large"}),i.jsx("h3",{className:"text-xl font-medium mt-4 mb-2",children:"What our scores mean"}),i.jsx("p",{className:"text-neutral-600 mb-6",children:"Our sustainability score considers multiple factors:"})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-start",children:[i.jsx("div",{className:"bg-green-100 p-2 rounded-full mr-3",children:i.jsx(js,{className:"text-green-600 w-4 h-4"})}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium",children:"Materials"}),i.jsx("p",{className:"text-sm text-neutral-600",children:"Organic, recycled, or innovative sustainable materials"})]})]}),i.jsxs("div",{className:"flex items-start",children:[i.jsx("div",{className:"bg-blue-100 p-2 rounded-full mr-3",children:i.jsx(Za,{className:"text-blue-600 w-4 h-4"})}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium",children:"Production"}),i.jsx("p",{className:"text-sm text-neutral-600",children:"Low-impact manufacturing and ethical labor practices"})]})]}),i.jsxs("div",{className:"flex items-start",children:[i.jsx("div",{className:"bg-yellow-100 p-2 rounded-full mr-3",children:i.jsx(Xa,{className:"text-yellow-600 w-4 h-4"})}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium",children:"Lifecycle"}),i.jsx("p",{className:"text-sm text-neutral-600",children:"Durability, recyclability, and end-of-life options"})]})]})]})]})]})})})]})},nx=v.createContext(void 0),lS=({children:e})=>{const[t,s]=v.useState(""),[r,n]=v.useState(!1),[a,o]=v.useState({category:[],priceRange:[0,1e3],sizes:[],colors:[],sortBy:"featured"}),l=v.useCallback(()=>{n(h=>!h)},[]),c=v.useCallback(()=>{n(!1)},[]),u=v.useCallback(h=>h.filter(m=>{const x=m.name.toLowerCase().includes(t.toLowerCase())||m.description.toLowerCase().includes(t.toLowerCase()),w=a.category.length===0||a.category.includes(m.category),[b,y]=a.priceRange,g=m.price>=b&&m.price<=y,p=a.sizes.length===0||a.sizes.some(j=>m.sizes.includes(j)),f=a.colors.length===0||a.colors.some(j=>m.colors.includes(j));return x&&w&&g&&p&&f}).sort((m,x)=>{switch(a.sortBy){case"price-asc":return m.price-x.price;case"price-desc":return x.price-m.price;case"newest":return new Date(x.createdAt).getTime()-new Date(m.createdAt).getTime();case"featured":default:return(x.rating||0)-(m.rating||0)}}),[t,a]),d=v.useCallback(()=>{o({category:[],priceRange:[0,1e3],sizes:[],colors:[],sortBy:"featured"}),s("")},[]);return i.jsx(nx.Provider,{value:{searchQuery:t,filters:a,isSearchOpen:r,searchResults:[],setSearchQuery:s,setFilters:o,toggleSearch:l,closeSearch:c,applyFilters:u,clearFilters:d},children:e})},ix=()=>{const e=v.useContext(nx);if(e===void 0)throw new Error("useSearch must be used within a SearchProvider");return e},cS=[{id:"women",name:"Women"},{id:"men",name:"Men"},{id:"accessories",name:"Accessories"},{id:"footwear",name:"Footwear"}],uS=["XS","S","M","L","XL","XXL"],dS=[{id:"black",name:"Black",value:"bg-gray-900"},{id:"white",name:"White",value:"bg-white border"},{id:"gray",name:"Gray",value:"bg-gray-400"},{id:"red",name:"Red",value:"bg-red-600"},{id:"blue",name:"Blue",value:"bg-blue-600"},{id:"green",name:"Green",value:"bg-green-600"}],hS=()=>{const{filters:e,setFilters:t,clearFilters:s}=ix(),r=u=>{t(d=>({...d,category:d.category.includes(u)?d.category.filter(h=>h!==u):[...d.category,u]}))},n=u=>{t(d=>({...d,sizes:d.sizes.includes(u)?d.sizes.filter(h=>h!==u):[...d.sizes,u]}))},a=u=>{t(d=>({...d,colors:d.colors.includes(u)?d.colors.filter(h=>h!==u):[...d.colors,u]}))},o=(u,d)=>{t(h=>({...h,priceRange:[u,d]}))},l=u=>{t(d=>({...d,sortBy:u}))},c=e.category.length>0||e.sizes.length>0||e.colors.length>0||e.priceRange[0]!==0||e.priceRange[1]!==1e3;return i.jsxs("div",{className:"space-y-8",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("h3",{className:"text-lg font-medium flex items-center",children:[i.jsx(_j,{className:"w-5 h-5 mr-2"}),"Filters"]}),c&&i.jsx("button",{onClick:s,className:"text-sm text-primary-600 hover:text-primary-800",children:"Clear all"})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium mb-3",children:"Categories"}),i.jsx("div",{className:"space-y-2",children:cS.map(u=>i.jsxs("label",{className:"flex items-center space-x-2",children:[i.jsx("input",{type:"checkbox",checked:e.category.includes(u.id),onChange:()=>r(u.id),className:"rounded border-gray-300 text-primary-600 focus:ring-primary-500"}),i.jsx("span",{children:u.name})]},u.id))})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium mb-3",children:"Sizes"}),i.jsx("div",{className:"flex flex-wrap gap-2",children:uS.map(u=>i.jsx("button",{type:"button",onClick:()=>n(u),className:`w-10 h-10 flex items-center justify-center border rounded-md text-sm font-medium transition-colors ${e.sizes.includes(u)?"bg-primary-600 text-white border-primary-600":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,children:u},u))})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium mb-3",children:"Colors"}),i.jsx("div",{className:"flex flex-wrap gap-3",children:dS.map(u=>i.jsx("button",{type:"button",onClick:()=>a(u.id),className:`w-8 h-8 rounded-full ${u.value} flex items-center justify-center ${e.colors.includes(u.id)?"ring-2 ring-offset-2 ring-primary-500":"hover:ring-2 hover:ring-offset-2 hover:ring-gray-300"}`,title:u.name,children:e.colors.includes(u.id)&&i.jsx("svg",{className:"w-4 h-4 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})},u.id))})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium mb-3",children:"Price Range"}),i.jsx("div",{className:"space-y-4",children:i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("label",{htmlFor:"min-price",className:"block text-sm text-gray-600 mb-1",children:"Min"}),i.jsxs("div",{className:"relative rounded-md shadow-sm",children:[i.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:i.jsx("span",{className:"text-gray-500 sm:text-sm",children:"$"})}),i.jsx("input",{type:"number",id:"min-price",value:e.priceRange[0],onChange:u=>o(Number(u.target.value),e.priceRange[1]),className:"block w-full pl-7 pr-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm",min:"0"})]})]}),i.jsxs("div",{className:"flex-1",children:[i.jsx("label",{htmlFor:"max-price",className:"block text-sm text-gray-600 mb-1",children:"Max"}),i.jsxs("div",{className:"relative rounded-md shadow-sm",children:[i.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:i.jsx("span",{className:"text-gray-500 sm:text-sm",children:"$"})}),i.jsx("input",{type:"number",id:"max-price",value:e.priceRange[1],onChange:u=>o(e.priceRange[0],Number(u.target.value)),className:"block w-full pl-7 pr-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm",min:e.priceRange[0]})]})]})]})})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium mb-3",children:"Sort By"}),i.jsx("div",{className:"space-y-2",children:[{id:"featured",label:"Featured"},{id:"newest",label:"Newest"},{id:"price-asc",label:"Price: Low to High"},{id:"price-desc",label:"Price: High to Low"}].map(u=>i.jsxs("div",{className:"flex items-center",children:[i.jsx("input",{id:`sort-${u.id}`,name:"sort",type:"radio",checked:e.sortBy===u.id,onChange:()=>l(u.id),className:"h-4 w-4 text-primary-600 border-gray-300 focus:ring-primary-500"}),i.jsx("label",{htmlFor:`sort-${u.id}`,className:"ml-3 block text-sm text-gray-700",children:u.label})]},u.id))})]})]})},mS=({isOpen:e,onClick:t,filterCount:s})=>i.jsxs("button",{type:"button",onClick:t,className:`
        fixed bottom-6 right-6 z-40 flex items-center justify-center p-3 rounded-full 
        bg-primary-600 text-white shadow-lg hover:bg-primary-700 focus:outline-none 
        focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 transition-all duration-200
        transform hover:scale-105 active:scale-95
        ${e?"rotate-180":"rotate-0"}
      `,"aria-expanded":e,children:[e?i.jsx(cs,{className:"w-6 h-6"}):i.jsxs(i.Fragment,{children:[i.jsx(_g,{className:"w-6 h-6"}),s>0&&i.jsx("span",{className:"absolute -top-1 -right-1 flex items-center justify-center w-5 h-5 rounded-full bg-red-500 text-xs font-medium",children:s})]}),i.jsx("span",{className:"sr-only",children:e?"Close filters":`Open filters${s>0?` (${s} active)`:""}`})]}),fS=()=>{const[e]=gg(),{searchQuery:t,filters:s,setSearchQuery:r,setFilters:n}=ix(),[a,o]=v.useState(!1),[l,c]=v.useState(!1),[u,d]=v.useState(""),h=e.get("category"),{products:m,isLoading:x,error:w}=rx({category:h||void 0}),b=m.filter(p=>!(t&&!p.name.toLowerCase().includes(t.toLowerCase())&&!p.description.toLowerCase().includes(t.toLowerCase())||s.category.length>0&&!s.category.includes(p.category)||p.price<s.priceRange[0]||p.price>s.priceRange[1]||s.sizes.length>0&&p.sizes&&!p.sizes.some(j=>s.sizes.includes(j))||s.colors.length>0&&p.colors&&!p.colors.some(j=>s.colors.includes(j)))).sort((p,f)=>{switch(s.sortBy){case"price-asc":return p.price-f.price;case"price-desc":return f.price-p.price;case"newest":return new Date(f.createdAt||0).getTime()-new Date(p.createdAt||0).getTime();case"featured":default:return(f.sustainabilityScore||0)-(p.sustainabilityScore||0)}});v.useEffect(()=>{const p=()=>{c(window.innerWidth<768)};return p(),window.addEventListener("resize",p),()=>window.removeEventListener("resize",p)},[]);const y=(t?1:0)+s.category.length+s.sizes.length+s.colors.length+(s.priceRange[0]>0||s.priceRange[1]<1e3?1:0);v.useEffect(()=>{const p=e.get("q");p&&(r(p),d(p))},[e,r]);const g=p=>{p.preventDefault(),r(u)};return w?i.jsx("div",{className:"container mx-auto px-4 py-8",children:i.jsxs("div",{className:"text-center",children:[i.jsx("h1",{className:"text-2xl font-bold text-red-600 mb-4",children:"Error Loading Products"}),i.jsx("p",{className:"text-gray-600",children:w})]})}):i.jsxs("div",{className:"container mx-auto px-4 py-8",children:[i.jsxs("div",{className:"mb-8",children:[i.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between mb-6 gap-4",children:[i.jsx("h1",{className:"text-3xl font-serif font-bold",children:h?`${h.charAt(0).toUpperCase()+h.slice(1)} Collection`:"Shop All"}),i.jsx("div",{className:"flex items-center space-x-4",children:i.jsxs("button",{type:"button",onClick:()=>o(!a),className:"md:hidden flex items-center space-x-2 text-neutral-600 hover:text-primary-600",children:[i.jsx(_g,{className:"w-5 h-5"}),i.jsx("span",{children:"Filters"})]})})]}),i.jsx("form",{onSubmit:g,className:"mb-6",children:i.jsxs("div",{className:"relative max-w-xl",children:[i.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:i.jsx(Mc,{className:"h-5 w-5 text-gray-400"})}),i.jsx("input",{type:"search",placeholder:"Search products...",className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:ring-1 focus:ring-primary-500 focus:border-primary-500 sm:text-sm",value:u,onChange:p=>d(p.target.value)}),u&&i.jsx("button",{type:"button",onClick:()=>{d(""),r("")},className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:i.jsx(cs,{className:"h-4 w-4 text-gray-400 hover:text-gray-600"})})]})})]}),l&&i.jsx("div",{className:"fixed bottom-6 right-6 z-40",children:i.jsx(mS,{isOpen:a,onClick:()=>o(!a),filterCount:y})}),l&&a&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-30 transition-opacity duration-300",onClick:()=>o(!1),"aria-hidden":"true"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8 relative",children:[i.jsxs("div",{className:`
            md:col-span-1 space-y-6 transition-transform duration-300 ease-in-out transform
            ${l?"fixed inset-y-0 left-0 w-4/5 bg-white z-40 p-6 overflow-y-auto shadow-lg":"relative"}
            ${!a&&l?"-translate-x-full":"translate-x-0"}
          `,children:[l&&i.jsxs("div",{className:"flex justify-between items-center mb-6 pb-4 border-b border-gray-200",children:[i.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Filters"}),i.jsx("button",{onClick:()=>o(!1),className:"text-gray-500 hover:text-gray-700","aria-label":"Close filters",children:i.jsx(cs,{className:"h-6 w-6"})})]}),i.jsx("div",{className:"space-y-6",children:i.jsx(hS,{})})]}),i.jsxs("div",{className:"md:col-span-3",children:[(t||s.category.length>0||s.sizes.length>0||s.colors.length>0||s.priceRange[1]<1e3)&&i.jsxs("div",{className:"mb-6 flex flex-wrap items-center gap-2",children:[t&&i.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-primary-100 text-primary-800",children:["Search: ",t,i.jsx("button",{type:"button",onClick:()=>r(""),className:"ml-1.5 inline-flex items-center justify-center w-4 h-4 rounded-full bg-primary-200 hover:bg-primary-300 focus:outline-none",children:i.jsx(cs,{className:"w-2.5 h-2.5"})})]}),s.category.map(p=>i.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-gray-100 text-gray-800",children:[p,i.jsx("button",{type:"button",onClick:()=>n(f=>({...f,category:f.category.filter(j=>j!==p)})),className:"ml-1.5 inline-flex items-center justify-center w-4 h-4 rounded-full bg-gray-200 hover:bg-gray-300 focus:outline-none",children:i.jsx(cs,{className:"w-2.5 h-2.5"})})]},p)),i.jsx("button",{type:"button",onClick:()=>{r(""),n({category:[],sizes:[],colors:[],priceRange:[0,1e3],sortBy:"featured"})},className:"ml-2 text-sm text-primary-600 hover:text-primary-800",children:"Clear all"})]}),x?i.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:[...Array(6)].map((p,f)=>i.jsxs("div",{className:"animate-pulse",children:[i.jsx("div",{className:"aspect-[3/4] bg-gray-200 rounded-lg mb-4"}),i.jsx("div",{className:"h-4 bg-gray-200 rounded mb-2"}),i.jsx("div",{className:"h-4 bg-gray-200 rounded w-2/3"})]},f))}):b.length>0?i.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:b.map(p=>i.jsx(sx,{product:p},p.id))}):i.jsxs("div",{className:"text-center py-12",children:[i.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No products found"}),i.jsx("p",{className:"text-gray-500",children:"Try adjusting your search or filter criteria"}),i.jsx("button",{type:"button",onClick:()=>{r(""),n({category:[],sizes:[],colors:[],priceRange:[0,1e3],sortBy:"featured"})},className:"mt-4 inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:"Clear all filters"})]})]})]})]})};function pS({isOpen:e,onClose:t}){if(!e)return null;const s=[{size:"XS",chest:'32-34"',waist:'26-28"',hip:'35-37"'},{size:"S",chest:'35-37"',waist:'29-31"',hip:'38-40"'},{size:"M",chest:'38-40"',waist:'32-34"',hip:'41-43"'},{size:"L",chest:'41-43"',waist:'35-37"',hip:'44-46"'},{size:"XL",chest:'44-46"',waist:'38-40"',hip:'47-49"'}],r=[{title:"Chest",description:"Measure around the fullest part of your chest, keeping the tape measure horizontal."},{title:"Waist",description:"Measure around your natural waistline, keeping the tape measure comfortably loose."},{title:"Hip",description:"Measure around the fullest part of your hips, about 8 inches below your waist."}];return i.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:i.jsxs("div",{className:"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[i.jsx("div",{className:"fixed inset-0 transition-opacity","aria-hidden":"true",onClick:t,children:i.jsx("div",{className:"absolute inset-0 bg-gray-500 opacity-75"})}),i.jsx("span",{className:"hidden sm:inline-block sm:align-middle sm:h-screen","aria-hidden":"true",children:"​"}),i.jsxs("div",{className:"inline-block align-bottom bg-white rounded-lg px-4 pt-5 pb-4 text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-2xl sm:w-full sm:p-6",children:[i.jsx("div",{className:"absolute top-0 right-0 pt-4 pr-4",children:i.jsxs("button",{type:"button",className:"rounded-md text-gray-400 hover:text-gray-500 focus:outline-none",onClick:t,children:[i.jsx("span",{className:"sr-only",children:"Close"}),i.jsx(cs,{className:"h-6 w-6","aria-hidden":"true"})]})}),i.jsx("div",{className:"sm:flex sm:items-start",children:i.jsxs("div",{className:"mt-3 text-center sm:mt-0 sm:text-left w-full",children:[i.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900 mb-6",children:"Size Guide"}),i.jsxs("div",{className:"mt-2",children:[i.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Size Chart (in inches)"}),i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[i.jsx("thead",{className:"bg-gray-50",children:i.jsxs("tr",{children:[i.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Size"}),i.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Chest"}),i.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Waist"}),i.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Hip"})]})}),i.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:s.map(n=>i.jsxs("tr",{children:[i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:n.size}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:n.chest}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:n.waist}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:n.hip})]},n.size))})]})}),i.jsxs("div",{className:"mt-8",children:[i.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"How to Measure"}),i.jsx("div",{className:"grid gap-4 sm:grid-cols-3",children:r.map(n=>i.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[i.jsx("h5",{className:"font-medium text-gray-900",children:n.title}),i.jsx("p",{className:"mt-1 text-sm text-gray-600",children:n.description})]},n.title))})]}),i.jsxs("div",{className:"mt-6 bg-blue-50 p-4 rounded-lg",children:[i.jsx("h5",{className:"font-medium text-blue-800",children:"Need Help?"}),i.jsx("p",{className:"mt-1 text-sm text-blue-700",children:"If you're unsure about your size, feel free to contact our customer service for personalized assistance."})]})]})]})}),i.jsx("div",{className:"mt-5 sm:mt-6",children:i.jsx("button",{type:"button",className:"inline-flex justify-center w-full rounded-md border border-transparent shadow-sm px-4 py-2 bg-primary-600 text-base font-medium text-white hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 sm:text-sm",onClick:t,children:"Close"})})]})]})})}function gS(){const[e,t]=v.useState(!1),s=v.useCallback(()=>{t(!0),document.body.style.overflow="hidden"},[]),r=v.useCallback(()=>{t(!1),document.body.style.overflow="auto"},[]);return{isOpen:e,openSizeGuide:s,closeSizeGuide:r}}function xS({url:e,title:t,description:s="",image:r="",className:n=""}){const a=encodeURIComponent(e),o=encodeURIComponent(t),l=encodeURIComponent(s),c=encodeURIComponent(r),u=[{name:"Facebook",icon:Ng,url:`https://www.facebook.com/sharer/sharer.php?u=${a}`,color:"hover:bg-blue-500"},{name:"Twitter",icon:Pg,url:`https://twitter.com/intent/tweet?url=${a}&text=${o}`,color:"hover:bg-blue-400"},{name:"Pinterest",icon:kg,url:`https://pinterest.com/pin/create/button/?url=${a}&media=${c}&description=${o}`,color:"hover:bg-red-500"},{name:"Email",icon:qt,url:`mailto:?subject=${o}&body=${l}%0D%0A%0D%0A${a}`,color:"hover:bg-gray-500"},{name:"Copy Link",icon:fj,onClick:()=>{navigator.clipboard.writeText(e)},color:"hover:bg-gray-400"}],d=(h,m)=>{if(m.onClick){m.onClick();return}const x=600,w=500,b=(window.innerWidth-x)/2,y=(window.innerHeight-w)/2;window.open(m.url,"Share",`width=${x},height=${w},top=${y},left=${b}`),h.preventDefault()};return i.jsxs("div",{className:`flex items-center space-x-2 ${n}`,children:[i.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Share:"}),i.jsx("div",{className:"flex space-x-2",children:u.map(h=>{const m=h.icon;return i.jsx("button",{onClick:x=>d(x,h),className:`w-8 h-8 rounded-full flex items-center justify-center text-white bg-gray-300 ${h.color} transition-colors`,"aria-label":`Share on ${h.name}`,title:h.name,children:i.jsx(m,{className:"w-4 h-4"})},h.name)})})]})}const yS=()=>{var f,j,N,S;const{id:e}=Co(),{product:t,isLoading:s,error:r}=nS(e||""),{addToCart:n}=As(),[a,o]=v.useState(""),[l,c]=v.useState(""),[u,d]=v.useState(""),[h,m]=v.useState(!1),[x,w]=v.useState(!1),{isOpen:b,openSizeGuide:y,closeSizeGuide:g}=gS();v.useState(()=>{t&&t.images.length>0&&d(t.images[0])},[t]);const p=async()=>{if(t){if(!a){F.error("Please select a size");return}if(!l){F.error("Please select a color");return}await n(t,1,a,l)}};return s?i.jsx("div",{className:"container mx-auto px-4 py-8",children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[i.jsxs("div",{className:"space-y-4",children:[i.jsx("div",{className:"aspect-square rounded-lg bg-gray-200 animate-pulse"}),i.jsx("div",{className:"grid grid-cols-4 gap-4",children:[...Array(4)].map((_,k)=>i.jsx("div",{className:"aspect-square rounded-md bg-gray-200 animate-pulse"},k))})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("div",{className:"h-8 bg-gray-200 rounded animate-pulse"}),i.jsx("div",{className:"h-4 bg-gray-200 rounded animate-pulse w-1/2"}),i.jsx("div",{className:"h-6 bg-gray-200 rounded animate-pulse w-1/3"}),i.jsx("div",{className:"h-20 bg-gray-200 rounded animate-pulse"})]})]})}):r||!t?i.jsxs("div",{className:"container mx-auto px-4 py-16 text-center",children:[i.jsx("h1",{className:"text-2xl font-medium mb-4",children:"Product not found"}),i.jsx("p",{className:"text-neutral-600",children:r||"The product you're looking for doesn't exist."})]}):i.jsxs("div",{className:"container mx-auto px-4 py-8",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[i.jsxs("div",{className:"space-y-4",children:[i.jsx("div",{className:"aspect-square rounded-lg overflow-hidden bg-neutral-100",children:i.jsx("img",{src:u||t.images[0],alt:t.name,className:"w-full h-full object-cover"})}),i.jsx("div",{className:"grid grid-cols-4 gap-4",children:t.images.map((_,k)=>i.jsx("button",{onClick:()=>d(_),className:`aspect-square rounded-md overflow-hidden bg-neutral-100 ${u===_?"ring-2 ring-primary-500":""}`,children:i.jsx("img",{src:_,alt:`${t.name} view ${k+1}`,className:"w-full h-full object-cover"})},k))})]}),i.jsxs("div",{children:[i.jsxs("div",{className:"mb-6",children:[i.jsx("h1",{className:"text-3xl font-serif font-bold mb-2",children:t.name}),i.jsx("p",{className:"text-neutral-600 mb-4",children:t.brand}),i.jsx("div",{className:"flex items-center space-x-4 mb-4",children:t.salePrice?i.jsxs(i.Fragment,{children:[i.jsxs("span",{className:"text-2xl font-medium text-red-600",children:["$",t.salePrice]}),i.jsxs("span",{className:"text-xl text-neutral-400 line-through",children:["$",t.price]})]}):i.jsxs("span",{className:"text-2xl font-medium",children:["$",t.price]})}),i.jsx("p",{className:"text-neutral-700",children:t.description})]}),i.jsxs("div",{className:"mb-6",children:[i.jsxs("div",{className:"flex justify-between items-center mb-3",children:[i.jsx("h3",{className:"font-medium",children:"Select Size"}),i.jsxs("button",{onClick:y,className:"text-sm text-primary-600 hover:underline flex items-center",type:"button",children:[i.jsx(Nj,{className:"w-4 h-4 mr-1"}),"Size Guide"]})]}),i.jsx("div",{className:"grid grid-cols-4 gap-2",children:t.sizes.map(_=>i.jsx("button",{onClick:()=>o(_),className:`py-2 border rounded-md ${a===_?"border-primary-600 bg-primary-50 text-primary-600":"border-neutral-200 hover:border-primary-600"}`,children:_},_))})]}),i.jsxs("div",{className:"mb-6",children:[i.jsx("h3",{className:"font-medium mb-3",children:"Select Color"}),i.jsx("div",{className:"grid grid-cols-4 gap-2",children:t.colors.map(_=>i.jsx("button",{onClick:()=>c(_),className:`py-2 border rounded-md ${l===_?"border-primary-600 bg-primary-50 text-primary-600":"border-neutral-200 hover:border-primary-600"}`,children:_},_))})]}),i.jsxs("div",{className:"flex space-x-4 mb-8 relative",children:[i.jsxs("button",{onClick:p,className:"flex-1 bg-primary-600 text-white py-3 px-6 rounded-md hover:bg-primary-700 flex items-center justify-center space-x-2",children:[i.jsx(eo,{className:"w-5 h-5"}),i.jsx("span",{children:"Add to Cart"})]}),i.jsxs("div",{className:"flex space-x-2",children:[i.jsx("button",{onClick:()=>m(!h),className:"p-3 border border-neutral-200 rounded-md hover:border-primary-600",children:i.jsx(Gr,{className:`w-5 h-5 ${h?"fill-red-500 text-red-500":"text-neutral-600"}`})}),i.jsx("button",{onClick:()=>w(!x),className:`p-3 border rounded-md ${x?"border-primary-600 bg-primary-50 text-primary-600":"border-neutral-200 hover:border-primary-600"}`,children:i.jsx(kg,{className:"w-5 h-5"})})]}),x&&i.jsx("div",{className:"absolute right-0 mt-2 w-72 bg-white rounded-lg shadow-lg p-4 z-10 border border-gray-200",children:i.jsx(xS,{url:window.location.href,title:t.name,description:t.description,image:t.images[0]})})]}),i.jsx("div",{className:"bg-neutral-50 rounded-lg p-6 mb-8",children:i.jsxs("div",{className:"flex items-start space-x-4",children:[i.jsx(xd,{score:t.sustainabilityScore,size:"medium"}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-medium mb-2",children:"Sustainability Details"}),i.jsxs("ul",{className:"space-y-2 text-sm text-neutral-600",children:[i.jsxs("li",{children:["• Materials: ",(f=t.sustainabilityDetails)==null?void 0:f.materials]}),i.jsxs("li",{children:["• Production: ",(j=t.sustainabilityDetails)==null?void 0:j.production]}),i.jsxs("li",{children:["• Packaging: ",(N=t.sustainabilityDetails)==null?void 0:N.packaging]}),i.jsxs("li",{children:["• Carbon Footprint: ",(S=t.sustainabilityDetails)==null?void 0:S.carbonFootprint]})]})]})]})}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"flex items-start space-x-3",children:[i.jsx(Ic,{className:"w-5 h-5 text-primary-600"}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium",children:"Free Shipping"}),i.jsx("p",{className:"text-sm text-neutral-600",children:"On orders over $100"})]})]}),i.jsxs("div",{className:"flex items-start space-x-3",children:[i.jsx(Za,{className:"w-5 h-5 text-primary-600"}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium",children:"Secure Payment"}),i.jsx("p",{className:"text-sm text-neutral-600",children:"100% secure checkout"})]})]}),i.jsxs("div",{className:"flex items-start space-x-3",children:[i.jsx(jj,{className:"w-5 h-5 text-primary-600"}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium",children:"Easy Returns"}),i.jsx("p",{className:"text-sm text-neutral-600",children:"30-day return policy"})]})]})]})]})]}),i.jsx(pS,{isOpen:b,onClose:g})]})},vS=()=>i.jsxs("div",{className:"container mx-auto px-4 py-8",children:[i.jsxs("div",{className:"text-center mb-16",children:[i.jsx("h1",{className:"text-4xl md:text-5xl font-serif font-bold mb-6",children:"Sustainable Fashion for a Better Future"}),i.jsx("p",{className:"text-xl text-neutral-600 max-w-2xl mx-auto",children:"We're committed to making fashion that looks good and does good. Discover our journey towards sustainability and how we're making a difference."})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8 mb-16",children:[i.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md text-center",children:[i.jsx("div",{className:"w-12 h-12 bg-primary-100 rounded-full flex items-center justify-center mx-auto mb-4",children:i.jsx(Xa,{className:"w-6 h-6 text-primary-600"})}),i.jsx("div",{className:"text-3xl font-bold text-primary-600 mb-2",children:"85%"}),i.jsx("p",{className:"text-neutral-600",children:"Recycled Materials Used"})]}),i.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md text-center",children:[i.jsx("div",{className:"w-12 h-12 bg-primary-100 rounded-full flex items-center justify-center mx-auto mb-4",children:i.jsx(js,{className:"w-6 h-6 text-primary-600"})}),i.jsx("div",{className:"text-3xl font-bold text-primary-600 mb-2",children:"100%"}),i.jsx("p",{className:"text-neutral-600",children:"Organic Cotton"})]}),i.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md text-center",children:[i.jsx("div",{className:"w-12 h-12 bg-primary-100 rounded-full flex items-center justify-center mx-auto mb-4",children:i.jsx(Gr,{className:"w-6 h-6 text-primary-600"})}),i.jsx("div",{className:"text-3xl font-bold text-primary-600 mb-2",children:"50k+"}),i.jsx("p",{className:"text-neutral-600",children:"Happy Customers"})]}),i.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md text-center",children:[i.jsx("div",{className:"w-12 h-12 bg-primary-100 rounded-full flex items-center justify-center mx-auto mb-4",children:i.jsx(Sg,{className:"w-6 h-6 text-primary-600"})}),i.jsx("div",{className:"text-3xl font-bold text-primary-600 mb-2",children:"-30%"}),i.jsx("p",{className:"text-neutral-600",children:"Carbon Footprint Reduction"})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-12 mb-16",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-2xl font-serif font-bold mb-4",children:"Our Sustainability Initiatives"}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-start space-x-4",children:[i.jsx("div",{className:"w-8 h-8 bg-primary-100 rounded-full flex items-center justify-center flex-shrink-0",children:i.jsx(js,{className:"w-4 h-4 text-primary-600"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-medium mb-2",children:"Sustainable Materials"}),i.jsx("p",{className:"text-neutral-600",children:"We use organic, recycled, and innovative sustainable materials in all our products."})]})]}),i.jsxs("div",{className:"flex items-start space-x-4",children:[i.jsx("div",{className:"w-8 h-8 bg-primary-100 rounded-full flex items-center justify-center flex-shrink-0",children:i.jsx(Xa,{className:"w-4 h-4 text-primary-600"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-medium mb-2",children:"Zero Waste Production"}),i.jsx("p",{className:"text-neutral-600",children:"Our manufacturing process is designed to minimize waste and maximize resource efficiency."})]})]}),i.jsxs("div",{className:"flex items-start space-x-4",children:[i.jsx("div",{className:"w-8 h-8 bg-primary-100 rounded-full flex items-center justify-center flex-shrink-0",children:i.jsx(Gr,{className:"w-4 h-4 text-primary-600"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-medium mb-2",children:"Fair Labor Practices"}),i.jsx("p",{className:"text-neutral-600",children:"We ensure fair wages and safe working conditions throughout our supply chain."})]})]})]})]}),i.jsx("div",{children:i.jsx("img",{src:"https://images.pexels.com/photos/5699514/pexels-photo-5699514.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1",alt:"Sustainable Fashion Production",className:"w-full h-full object-cover rounded-lg"})})]}),i.jsxs("div",{className:"bg-neutral-50 rounded-lg p-8 mb-16",children:[i.jsx("h2",{className:"text-2xl font-serif font-bold mb-6 text-center",children:"Our Certifications"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[i.jsxs("div",{className:"bg-white p-6 rounded-lg text-center",children:[i.jsx("img",{src:"https://images.pexels.com/photos/5699496/pexels-photo-5699496.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1",alt:"GOTS Certified",className:"w-16 h-16 object-contain mx-auto mb-4"}),i.jsx("h3",{className:"font-medium mb-2",children:"GOTS Certified"}),i.jsx("p",{className:"text-sm text-neutral-600",children:"Global Organic Textile Standard certification for organic materials"})]}),i.jsxs("div",{className:"bg-white p-6 rounded-lg text-center",children:[i.jsx("img",{src:"https://images.pexels.com/photos/5699456/pexels-photo-5699456.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1",alt:"Fair Trade Certified",className:"w-16 h-16 object-contain mx-auto mb-4"}),i.jsx("h3",{className:"font-medium mb-2",children:"Fair Trade Certified"}),i.jsx("p",{className:"text-sm text-neutral-600",children:"Ensuring fair wages and good working conditions"})]}),i.jsxs("div",{className:"bg-white p-6 rounded-lg text-center",children:[i.jsx("img",{src:"https://images.pexels.com/photos/5699467/pexels-photo-5699467.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1",alt:"Carbon Neutral",className:"w-16 h-16 object-contain mx-auto mb-4"}),i.jsx("h3",{className:"font-medium mb-2",children:"Carbon Neutral"}),i.jsx("p",{className:"text-sm text-neutral-600",children:"Committed to reducing and offsetting our carbon emissions"})]})]})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("h2",{className:"text-2xl font-serif font-bold mb-4",children:"Join Our Sustainable Journey"}),i.jsx("p",{className:"text-neutral-600 mb-6 max-w-2xl mx-auto",children:"Every purchase you make is a vote for sustainable fashion. Together, we can make a difference."}),i.jsx("button",{className:"bg-primary-600 text-white px-8 py-3 rounded-md hover:bg-primary-700 transition-colors",children:"Shop Sustainable Collection"})]})]}),Om={colors:[],patterns:[],fits:[],occasions:[],favorites:[]},ax=v.createContext(void 0),wS=({children:e})=>{const[t,s]=v.useState(Om),[r,n]=v.useState(!1),[a,o]=v.useState(!1),{user:l,isAuthenticated:c}=Ke();v.useEffect(()=>{c&&l?u():d()},[l,c]);const u=async()=>{if(l)try{n(!0);const{data:w,error:b}=await J.from("style_preferences").select("*").eq("user_id",l.id);if(b&&b.code!=="PGRST116"){console.error("Error loading style preferences:",b);return}if(w&&w.length>0){const y=w[0];s({colors:y.colors||[],patterns:y.patterns||[],fits:y.fits||[],occasions:y.occasions||[],favorites:y.favorites||[],bodyType:y.body_type||void 0,size:y.size||void 0,stylePersona:y.style_persona||void 0}),o(!0)}}catch(w){console.error("Error in loadStylePreferences:",w)}finally{n(!1)}},d=()=>{try{const w=localStorage.getItem("stylePreferences");w&&s(JSON.parse(w));const b=localStorage.getItem("styleQuizCompleted")==="true";o(b)}catch(w){console.error("Error loading local preferences:",w)}},h=w=>{try{localStorage.setItem("stylePreferences",JSON.stringify(w))}catch(b){console.error("Error saving local preferences:",b)}},m=async w=>{const b={...t,...w};if(s(b),!c||!l){h(b),localStorage.setItem("styleQuizCompleted","true"),o(!0);return}try{n(!0);const{error:y}=await J.from("style_preferences").upsert({user_id:l.id,colors:b.colors,patterns:b.patterns,fits:b.fits,occasions:b.occasions,favorites:b.favorites,body_type:b.bodyType||null,size:b.size||null,style_persona:b.stylePersona||null});if(y)throw y;o(!0)}catch(y){console.error("Error updating style preferences:",y)}finally{n(!1)}},x=async()=>{if(s(Om),o(!1),!c||!l){localStorage.removeItem("stylePreferences"),localStorage.removeItem("styleQuizCompleted");return}try{n(!0);const{error:w}=await J.from("style_preferences").delete().eq("user_id",l.id);if(w)throw w}catch(w){console.error("Error resetting style preferences:",w)}finally{n(!1)}};return i.jsx(ax.Provider,{value:{preferences:t,isLoading:r,updatePreferences:m,resetPreferences:x,hasCompletedStyleQuiz:a,setHasCompletedStyleQuiz:o},children:e})},bS=()=>{const e=v.useContext(ax);if(e===void 0)throw new Error("useStyle must be used within a StyleProvider");return e};function jS(){const{profile:e,updateProfile:t,updatePassword:s}=Ke(),[r,n]=v.useState(!1),[a,o]=v.useState(!1),[l,c]=v.useState(!1),[u,d]=v.useState({full_name:(e==null?void 0:e.full_name)||"",phone:(e==null?void 0:e.phone)||"",date_of_birth:(e==null?void 0:e.date_of_birth)||""}),[h,m]=v.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[x,w]=v.useState({current:!1,new:!1,confirm:!1}),b=async f=>{f.preventDefault(),c(!0);try{await t(u)&&n(!1)}catch{F.error("Failed to update profile")}finally{c(!1)}},y=async f=>{if(f.preventDefault(),h.newPassword!==h.confirmPassword){F.error("New passwords do not match");return}if(h.newPassword.length<6){F.error("Password must be at least 6 characters long");return}c(!0);try{await s(h.newPassword)&&(o(!1),m({currentPassword:"",newPassword:"",confirmPassword:""}))}catch{F.error("Failed to update password")}finally{c(!1)}},g=f=>{const{name:j,value:N}=f.target;d(S=>({...S,[j]:N}))},p=f=>{const{name:j,value:N}=f.target;m(S=>({...S,[j]:N}))};return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[i.jsxs("div",{className:"flex justify-between items-center mb-6",children:[i.jsx("h3",{className:"text-lg font-medium text-neutral-900",children:"Profile Information"}),!r&&i.jsx("button",{onClick:()=>n(!0),className:"text-primary-600 hover:text-primary-700 font-medium",children:"Edit"})]}),r?i.jsxs("form",{onSubmit:b,className:"space-y-4",children:[i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"full_name",className:"block text-sm font-medium text-neutral-700 mb-1",children:[i.jsx(jt,{className:"w-4 h-4 inline mr-1"}),"Full Name"]}),i.jsx("input",{type:"text",id:"full_name",name:"full_name",value:u.full_name,onChange:g,className:"w-full px-3 py-2 border border-neutral-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",placeholder:"Enter your full name"})]}),i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"phone",className:"block text-sm font-medium text-neutral-700 mb-1",children:[i.jsx(Lc,{className:"w-4 h-4 inline mr-1"}),"Phone Number"]}),i.jsx("input",{type:"tel",id:"phone",name:"phone",value:u.phone,onChange:g,className:"w-full px-3 py-2 border border-neutral-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",placeholder:"01234567890"})]}),i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"date_of_birth",className:"block text-sm font-medium text-neutral-700 mb-1",children:[i.jsx(Dc,{className:"w-4 h-4 inline mr-1"}),"Date of Birth"]}),i.jsx("input",{type:"date",id:"date_of_birth",name:"date_of_birth",value:u.date_of_birth,onChange:g,className:"w-full px-3 py-2 border border-neutral-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500"})]}),i.jsxs("div",{className:"flex space-x-3",children:[i.jsxs("button",{type:"submit",disabled:l,className:"flex items-center px-4 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 disabled:opacity-50",children:[i.jsx(Sj,{className:"w-4 h-4 mr-2"}),l?"Saving...":"Save Changes"]}),i.jsx("button",{type:"button",onClick:()=>{n(!1),d({full_name:(e==null?void 0:e.full_name)||"",phone:(e==null?void 0:e.phone)||"",date_of_birth:(e==null?void 0:e.date_of_birth)||""})},className:"px-4 py-2 border border-neutral-300 text-neutral-700 rounded-md hover:bg-neutral-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:"Cancel"})]})]}):i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx(jt,{className:"w-5 h-5 text-neutral-400 mr-3"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-neutral-900",children:"Full Name"}),i.jsx("p",{className:"text-sm text-neutral-600",children:(e==null?void 0:e.full_name)||"Not provided"})]})]}),i.jsxs("div",{className:"flex items-center",children:[i.jsx(qt,{className:"w-5 h-5 text-neutral-400 mr-3"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-neutral-900",children:"Email"}),i.jsx("p",{className:"text-sm text-neutral-600",children:e==null?void 0:e.email})]})]}),i.jsxs("div",{className:"flex items-center",children:[i.jsx(Lc,{className:"w-5 h-5 text-neutral-400 mr-3"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-neutral-900",children:"Phone"}),i.jsx("p",{className:"text-sm text-neutral-600",children:(e==null?void 0:e.phone)||"Not provided"})]})]}),i.jsxs("div",{className:"flex items-center",children:[i.jsx(Dc,{className:"w-5 h-5 text-neutral-400 mr-3"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-neutral-900",children:"Date of Birth"}),i.jsx("p",{className:"text-sm text-neutral-600",children:e!=null&&e.date_of_birth?new Date(e.date_of_birth).toLocaleDateString():"Not provided"})]})]})]})]}),i.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[i.jsxs("div",{className:"flex justify-between items-center mb-6",children:[i.jsx("h3",{className:"text-lg font-medium text-neutral-900",children:"Password"}),!a&&i.jsx("button",{onClick:()=>o(!0),className:"text-primary-600 hover:text-primary-700 font-medium",children:"Change Password"})]}),a?i.jsxs("form",{onSubmit:y,className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{htmlFor:"newPassword",className:"block text-sm font-medium text-neutral-700 mb-1",children:"New Password"}),i.jsxs("div",{className:"relative",children:[i.jsx("input",{type:x.new?"text":"password",id:"newPassword",name:"newPassword",value:h.newPassword,onChange:p,className:"w-full px-3 py-2 pr-10 border border-neutral-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",placeholder:"Enter new password",required:!0}),i.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>w(f=>({...f,new:!f.new})),children:x.new?i.jsx(Ya,{className:"h-4 w-4 text-neutral-400"}):i.jsx(Ja,{className:"h-4 w-4 text-neutral-400"})})]})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-neutral-700 mb-1",children:"Confirm New Password"}),i.jsxs("div",{className:"relative",children:[i.jsx("input",{type:x.confirm?"text":"password",id:"confirmPassword",name:"confirmPassword",value:h.confirmPassword,onChange:p,className:"w-full px-3 py-2 pr-10 border border-neutral-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",placeholder:"Confirm new password",required:!0}),i.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>w(f=>({...f,confirm:!f.confirm})),children:x.confirm?i.jsx(Ya,{className:"h-4 w-4 text-neutral-400"}):i.jsx(Ja,{className:"h-4 w-4 text-neutral-400"})})]})]}),i.jsxs("div",{className:"flex space-x-3",children:[i.jsx("button",{type:"submit",disabled:l,className:"px-4 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 disabled:opacity-50",children:l?"Updating...":"Update Password"}),i.jsx("button",{type:"button",onClick:()=>{o(!1),m({currentPassword:"",newPassword:"",confirmPassword:""})},className:"px-4 py-2 border border-neutral-300 text-neutral-700 rounded-md hover:bg-neutral-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:"Cancel"})]})]}):i.jsxs("p",{className:"text-sm text-neutral-600",children:["Password was last updated on ",new Date((e==null?void 0:e.updated_at)||"").toLocaleDateString()]})]})]})}const NS=()=>{var l;const{user:e,profile:t,logout:s}=Ke(),{preferences:r}=bS(),[n,a]=v.useState("overview"),o=[{id:"overview",label:"Account Overview",icon:jt,content:i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[i.jsx("h3",{className:"text-lg font-medium mb-4",children:"Personal Information"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-neutral-600",children:"Name"}),i.jsx("p",{className:"mt-1",children:(t==null?void 0:t.full_name)||"Not provided"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-neutral-600",children:"Email"}),i.jsx("p",{className:"mt-1",children:t==null?void 0:t.email})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-neutral-600",children:"Phone"}),i.jsx("p",{className:"mt-1",children:(t==null?void 0:t.phone)||"Not provided"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-neutral-600",children:"Member Since"}),i.jsx("p",{className:"mt-1",children:new Date((t==null?void 0:t.created_at)||"").toLocaleDateString()})]})]})]}),i.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[i.jsx("h3",{className:"text-lg font-medium mb-4",children:"Style Preferences"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-neutral-600",children:"Favorite Colors"}),i.jsx("div",{className:"mt-1 flex flex-wrap gap-2",children:r.colors.length>0?r.colors.map((c,u)=>i.jsx("span",{className:"px-3 py-1 bg-primary-100 text-primary-700 rounded-full text-sm",children:c},u)):i.jsx("span",{className:"text-neutral-500",children:"No preferences set"})})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-neutral-600",children:"Preferred Fits"}),i.jsx("div",{className:"mt-1 flex flex-wrap gap-2",children:r.fits.length>0?r.fits.map((c,u)=>i.jsx("span",{className:"px-3 py-1 bg-primary-100 text-primary-700 rounded-full text-sm",children:c},u)):i.jsx("span",{className:"text-neutral-500",children:"No preferences set"})})]})]})]})]})},{id:"orders",label:"Orders",icon:wj,content:i.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[i.jsx("h3",{className:"text-lg font-medium mb-4",children:"Order History"}),i.jsx("p",{className:"text-neutral-600",children:"You haven't placed any orders yet."}),i.jsx("button",{onClick:()=>window.location.href="/shop",className:"mt-4 px-4 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700 transition-colors",children:"Start Shopping"})]})},{id:"wishlist",label:"Wishlist",icon:Gr,content:i.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[i.jsx("h3",{className:"text-lg font-medium mb-4",children:"Your Wishlist"}),i.jsx("p",{className:"text-neutral-600",children:"Your wishlist is empty."})]})},{id:"settings",label:"Settings",icon:kj,content:i.jsx(jS,{})}];return i.jsx(mr,{children:i.jsx("div",{className:"min-h-screen bg-neutral-50 py-12",children:i.jsx("div",{className:"container mx-auto px-4",children:i.jsxs("div",{className:"max-w-6xl mx-auto",children:[i.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6 mb-8",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"w-16 h-16 rounded-full bg-primary-100 flex items-center justify-center",children:t!=null&&t.avatar_url?i.jsx("img",{src:t.avatar_url,alt:t.full_name||"Profile",className:"w-full h-full rounded-full object-cover"}):i.jsx(jt,{className:"w-8 h-8 text-primary-600"})}),i.jsxs("div",{className:"ml-4",children:[i.jsx("h1",{className:"text-2xl font-bold",children:(t==null?void 0:t.full_name)||"Welcome"}),i.jsx("p",{className:"text-neutral-600",children:t==null?void 0:t.email}),i.jsxs("div",{className:"flex items-center mt-1",children:[i.jsx(Za,{className:"w-4 h-4 text-green-600 mr-1"}),i.jsx("span",{className:"text-sm text-green-600",children:"Verified Account"})]})]})]}),i.jsxs("button",{onClick:s,className:"flex items-center text-neutral-600 hover:text-neutral-800 transition-colors",children:[i.jsx(pj,{className:"w-4 h-4 mr-2"}),"Sign Out"]})]})}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[i.jsx("div",{className:"lg:col-span-1",children:i.jsx("nav",{className:"bg-white rounded-lg shadow-sm p-2",children:o.map(c=>{const u=c.icon;return i.jsxs("button",{onClick:()=>a(c.id),className:`w-full flex items-center justify-between px-4 py-3 rounded-md transition-colors ${n===c.id?"bg-primary-50 text-primary-700":"hover:bg-neutral-50 text-neutral-600 hover:text-neutral-800"}`,children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx(u,{className:"w-5 h-5 mr-3"}),i.jsx("span",{children:c.label})]}),i.jsx(Ir,{className:"w-4 h-4"})]},c.id)})})}),i.jsx("div",{className:"lg:col-span-3",children:(l=o.find(c=>c.id===n))==null?void 0:l.content})]})]})})})})};function SS({post:e}){return i.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden hover:shadow-lg transition-shadow duration-300",children:[i.jsx("img",{src:e.image,alt:e.title,className:"w-full h-48 object-cover"}),i.jsxs("div",{className:"p-6",children:[i.jsxs("div",{className:"flex items-center text-sm text-gray-500 mb-2",children:[i.jsx("span",{children:e.date}),i.jsx("span",{className:"mx-2",children:"•"}),i.jsx("span",{children:e.readTime})]}),i.jsx("h3",{className:"text-xl font-semibold mb-2 hover:text-primary-600 transition-colors",children:i.jsx(O,{to:`/blog/${e.slug}`,children:e.title})}),i.jsx("p",{className:"text-gray-600 mb-4",children:e.excerpt}),i.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:e.tags.map(t=>i.jsx("span",{className:"text-xs bg-gray-100 px-2 py-1 rounded-full",children:t},t))}),i.jsxs(O,{to:`/blog/${e.slug}`,className:"text-primary-600 font-medium hover:underline inline-flex items-center",children:["Read more",i.jsx("svg",{className:"w-4 h-4 ml-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]})]})}function kS({posts:e}){return i.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[i.jsxs("div",{className:"text-center mb-12",children:[i.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Our Blog"}),i.jsx("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:"Discover the latest fashion trends, styling tips, and sustainability insights from our team."})]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:e.map(t=>i.jsx(SS,{post:t},t.id))}),i.jsx("div",{className:"mt-12 flex justify-center",children:i.jsx("div",{className:"inline-flex rounded-md shadow",children:i.jsx(O,{to:"#",className:"inline-flex items-center px-6 py-3 border border-transparent text-base font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700",children:"Load More"})})})]})}const ox=[{id:"1",title:"Sustainable Fashion: The Future of Clothing",slug:"sustainable-fashion-future",excerpt:"Discover how sustainable fashion is changing the industry and how you can be part of the movement.",content:"Full blog post content would go here...",image:"/images/blog/sustainable-fashion.jpg",author:"Jane Doe",date:"2025-05-15",tags:["sustainability","fashion","eco-friendly"],readTime:"5 min read"},{id:"2",title:"Top 10 Wardrobe Essentials for 2025",slug:"wardrobe-essentials-2025",excerpt:"Upgrade your wardrobe with these must-have pieces for the upcoming season.",content:"Full blog post content would go here...",image:"/images/blog/wardrobe-essentials.jpg",author:"John Smith",date:"2025-05-10",tags:["fashion","styling","trends"],readTime:"4 min read"}];function _S(){const[e,t]=v.useState([]),[s,r]=v.useState(!0),[n,a]=v.useState(null);return v.useEffect(()=>{(async()=>{try{t(ox),r(!1)}catch{a("Failed to load blog posts"),r(!1)}})()},[]),s?i.jsx("div",{className:"min-h-screen flex items-center justify-center",children:i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-500"})}):n?i.jsx("div",{className:"min-h-screen flex items-center justify-center",children:i.jsx("div",{className:"text-red-500",children:n})}):i.jsx("div",{className:"min-h-screen bg-gray-50",children:i.jsx(kS,{posts:e})})}function CS(){const{slug:e}=Co(),t=ox.find(s=>s.slug===e);return t?i.jsxs("article",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-16",children:[i.jsxs("div",{className:"mb-8",children:[i.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:t.title}),i.jsxs("div",{className:"flex items-center text-gray-500 text-sm",children:[i.jsxs("span",{children:["By ",t.author]}),i.jsx("span",{className:"mx-2",children:"•"}),i.jsx("span",{children:t.date}),i.jsx("span",{className:"mx-2",children:"•"}),i.jsx("span",{children:t.readTime})]})]}),i.jsxs("div",{className:"prose max-w-none",children:[i.jsx("img",{src:t.image,alt:t.title,className:"w-full h-96 object-cover rounded-lg mb-8"}),i.jsx("p",{className:"text-lg text-gray-700 leading-relaxed",children:t.content})]}),i.jsxs("div",{className:"mt-12 pt-8 border-t border-gray-200",children:[i.jsx("div",{className:"flex flex-wrap gap-2 mb-6",children:t.tags.map(s=>i.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-gray-100 text-gray-800",children:s},s))}),i.jsxs("div",{className:"flex space-x-4",children:[i.jsxs("button",{className:"text-gray-400 hover:text-gray-500",children:[i.jsx("span",{className:"sr-only",children:"Share on Twitter"}),i.jsx("svg",{className:"h-6 w-6",fill:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{d:"M8.29 20.251c7.547 0 11.675-6.253 11.675-11.675 0-.178 0-.355-.012-.53A8.348 8.348 0 0022 5.92a8.19 8.19 0 01-2.357.646 4.118 4.118 0 001.804-2.27 8.224 8.224 0 01-2.605.996 4.107 4.107 0 00-6.993 3.743 11.65 11.65 0 01-8.457-4.287 4.106 4.106 0 001.27 5.477A4.072 4.072 0 012.8 9.713v.052a4.105 4.105 0 003.292 4.022 4.095 4.095 0 01-1.853.07 4.108 4.108 0 003.834 2.85A8.233 8.233 0 012 18.407a11.616 11.616 0 006.29 1.84"})})]}),i.jsxs("button",{className:"text-gray-400 hover:text-gray-500",children:[i.jsx("span",{className:"sr-only",children:"Share on Facebook"}),i.jsx("svg",{className:"h-6 w-6",fill:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{fillRule:"evenodd",d:"M22 12c0-5.523-4.477-10-10-10S2 6.477 2 12c0 4.991 3.657 9.128 8.438 9.878v-6.987h-2.54V12h2.54V9.797c0-2.506 1.492-3.89 3.777-3.89 1.094 0 2.238.195 2.238.195v2.46h-1.26c-1.243 0-1.63.771-1.63 1.562V12h2.773l-.443 2.89h-2.33v6.988C18.343 21.128 22 16.991 22 12z",clipRule:"evenodd"})})]}),i.jsxs("button",{className:"text-gray-400 hover:text-gray-500",children:[i.jsx("span",{className:"sr-only",children:"Share on LinkedIn"}),i.jsx("svg",{className:"h-6 w-6",fill:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{d:"M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z"})})]})]})]})]}):i.jsx("div",{className:"min-h-screen flex items-center justify-center",children:i.jsx("h1",{className:"text-2xl font-semibold",children:"Post not found"})})}function PS({onSelectCard:e}){const t=[{amount:25,description:"$25 Gift Card",image:"/images/gift-card-1.jpg",isPhysical:!1,deliveryMethod:"email",recipientEmail:"",recipientName:"",senderName:"",message:"",expirationDays:365},{amount:50,description:"$50 Gift Card",image:"/images/gift-card-2.jpg",isPhysical:!0,deliveryMethod:"physical",recipientEmail:"",recipientName:"",senderName:"",message:"",expirationDays:365},{amount:100,description:"$100 Gift Card",image:"/images/gift-card-3.jpg",isPhysical:!1,deliveryMethod:"email",recipientEmail:"",recipientName:"",senderName:"",message:"",expirationDays:365}];return i.jsx("div",{className:"bg-white",children:i.jsxs("div",{className:"max-w-7xl mx-auto py-12 px-4 sm:px-6 lg:px-8",children:[i.jsxs("div",{className:"text-center",children:[i.jsx("h2",{className:"text-2xl font-extrabold tracking-tight text-gray-900 sm:text-3xl",children:"Popular Gift Cards"}),i.jsx("p",{className:"mt-4 max-w-2xl text-xl text-gray-500 mx-auto",children:"Perfect for any occasion - birthdays, holidays, or just because."})]}),i.jsx("div",{className:"mt-12 grid gap-8 max-w-lg mx-auto grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 lg:max-w-none",children:t.map((s,r)=>i.jsx("div",{className:"flex flex-col rounded-lg shadow-lg overflow-hidden hover:shadow-xl transition-shadow duration-300",children:i.jsxs("div",{className:"flex-1 bg-white p-6 flex flex-col",children:[i.jsx("div",{className:"flex-shrink-0 bg-primary-100 rounded-lg p-4 flex items-center justify-center h-40",children:i.jsx(bs,{className:"h-20 w-20 text-primary-600"})}),i.jsxs("div",{className:"flex-1 flex flex-col justify-between",children:[i.jsxs("div",{className:"mt-4",children:[i.jsxs("p",{className:"text-2xl font-semibold text-gray-900 text-center",children:["$",s.amount]}),i.jsx("p",{className:"mt-1 text-sm text-gray-500 text-center",children:s.deliveryMethod==="email"?"E-gift Card":"Physical Card"})]}),i.jsx("div",{className:"mt-6",children:i.jsxs("button",{type:"button",onClick:()=>e(s),className:"w-full flex items-center justify-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:["Buy Now ",i.jsx(bg,{className:"ml-2 h-4 w-4"})]})})]})]})},r))}),i.jsxs("div",{className:"mt-12 text-center",children:[i.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Looking for a custom amount?"}),i.jsx("p",{className:"mt-2 text-gray-600",children:"Choose any amount between $5 and $1,000"}),i.jsx("div",{className:"mt-6",children:i.jsx("button",{type:"button",onClick:()=>e({amount:0,description:"Custom Amount Gift Card",image:"/images/gift-card-custom.jpg",isPhysical:!1,deliveryMethod:"email",recipientEmail:"",recipientName:"",senderName:"",message:"",expirationDays:365}),className:"inline-flex items-center px-6 py-3 border border-transparent text-base font-medium rounded-md shadow-sm text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:"Custom Amount"})})]})]})})}const ES=()=>{const e=Ge(),t=r=>{e("/gift-cards/purchase",{state:{initialValues:r}})},s=[{name:"Instant Delivery",description:"E-gift cards delivered via email within minutes.",icon:qt},{name:"No Expiration",description:"Our gift cards never expire, so take your time to use them.",icon:bs},{name:"Secure Payment",description:"All transactions are secure and encrypted.",icon:jg}];return i.jsxs("div",{className:"min-h-screen bg-white",children:[i.jsx("div",{className:"bg-gradient-to-r from-primary-600 to-primary-700",children:i.jsxs("div",{className:"max-w-7xl mx-auto py-16 px-4 sm:py-24 sm:px-6 lg:px-8 lg:flex lg:justify-between",children:[i.jsxs("div",{className:"max-w-xl",children:[i.jsx("h2",{className:"text-4xl font-extrabold text-white sm:text-5xl sm:tracking-tight lg:text-6xl",children:"Gift Cards"}),i.jsx("p",{className:"mt-5 text-xl text-primary-100",children:"Give the perfect gift of sustainable fashion."}),i.jsxs("div",{className:"mt-8 flex flex-col sm:flex-row gap-4",children:[i.jsx("button",{onClick:()=>e("/gift-cards/purchase"),className:"flex items-center justify-center px-8 py-3 border border-transparent text-base font-medium rounded-md text-primary-700 bg-white hover:bg-gray-50 md:py-4 md:text-lg md:px-10",children:"Buy a Gift Card"}),i.jsx("button",{onClick:()=>e("/gift-cards/redeem"),className:"flex items-center justify-center px-8 py-3 border border-transparent text-base font-medium rounded-md text-white bg-primary-500 hover:bg-primary-600 md:py-4 md:text-lg md:px-10",children:"Redeem a Gift Card"})]})]}),i.jsx("div",{className:"mt-12 lg:mt-0 lg:flex-shrink-0 lg:flex lg:items-center",children:i.jsx("div",{className:"inline-flex items-center justify-center h-64 w-64 rounded-full bg-white/10",children:i.jsx(bs,{className:"h-32 w-32 text-white"})})})]})}),i.jsx("div",{className:"py-12 bg-white",children:i.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[i.jsxs("div",{className:"lg:text-center",children:[i.jsx("h2",{className:"text-base text-primary-600 font-semibold tracking-wide uppercase",children:"Gift Cards"}),i.jsx("p",{className:"mt-2 text-3xl leading-8 font-extrabold tracking-tight text-gray-900 sm:text-4xl",children:"The Perfect Gift for Any Occasion"}),i.jsx("p",{className:"mt-4 max-w-2xl text-xl text-gray-500 lg:mx-auto",children:"Whether it's a birthday, holiday, or just because, an Evolv Fashion gift card is always a great choice."})]}),i.jsx("div",{className:"mt-10",children:i.jsx("div",{className:"space-y-10 md:space-y-0 md:grid md:grid-cols-3 md:gap-x-8 md:gap-y-10",children:s.map(r=>i.jsxs("div",{className:"relative",children:[i.jsxs("dt",{children:[i.jsx("div",{className:"absolute flex items-center justify-center h-12 w-12 rounded-md bg-primary-500 text-white",children:i.jsx(r.icon,{className:"h-6 w-6","aria-hidden":"true"})}),i.jsx("p",{className:"ml-16 text-lg leading-6 font-medium text-gray-900",children:r.name})]}),i.jsx("dd",{className:"mt-2 ml-16 text-base text-gray-500",children:r.description})]},r.name))})})]})}),i.jsx(PS,{onSelectCard:t}),i.jsx("div",{className:"bg-gray-50 py-16",children:i.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[i.jsxs("div",{className:"lg:text-center",children:[i.jsx("h2",{className:"text-base text-primary-600 font-semibold tracking-wide uppercase",children:"How It Works"}),i.jsx("p",{className:"mt-2 text-3xl leading-8 font-extrabold tracking-tight text-gray-900 sm:text-4xl",children:"Simple & Easy"})]}),i.jsx("div",{className:"mt-10",children:i.jsx("div",{className:"relative",children:i.jsx("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:i.jsx("div",{className:"max-w-4xl mx-auto",children:i.jsxs("dl",{className:"rounded-lg bg-white shadow-lg md:grid md:grid-cols-3",children:[i.jsxs("div",{className:"flex flex-col border-b border-gray-100 p-6 text-center md:border-0 md:border-r",children:[i.jsx("dt",{className:"order-2 mt-2 text-lg leading-6 font-medium text-gray-500",children:"Choose Amount"}),i.jsx("dd",{className:"order-1 text-5xl font-extrabold text-primary-600",children:"1"})]}),i.jsxs("div",{className:"flex flex-col border-t border-b border-gray-100 p-6 text-center md:border-0 md:border-l md:border-r",children:[i.jsx("dt",{className:"order-2 mt-2 text-lg leading-6 font-medium text-gray-500",children:"Personalize"}),i.jsx("dd",{className:"order-1 text-5xl font-extrabold text-primary-600",children:"2"})]}),i.jsxs("div",{className:"flex flex-col border-t border-gray-100 p-6 text-center md:border-0 md:border-l",children:[i.jsx("dt",{className:"order-2 mt-2 text-lg leading-6 font-medium text-gray-500",children:"Send & Enjoy"}),i.jsx("dd",{className:"order-1 text-5xl font-extrabold text-primary-600",children:"3"})]})]})})})})})]})}),i.jsx("div",{className:"bg-primary-700",children:i.jsxs("div",{className:"max-w-2xl mx-auto text-center py-16 px-4 sm:py-20 sm:px-6 lg:px-8",children:[i.jsx("h2",{className:"text-3xl font-extrabold text-white sm:text-4xl",children:i.jsx("span",{className:"block",children:"Ready to make someone's day?"})}),i.jsx("p",{className:"mt-4 text-lg leading-6 text-primary-100",children:"Give the gift of sustainable fashion with an Evolv Fashion gift card."}),i.jsx("button",{onClick:()=>e("/gift-cards/purchase"),className:"mt-8 w-full inline-flex items-center justify-center px-5 py-3 border border-transparent text-base font-medium rounded-md text-primary-600 bg-white hover:bg-gray-50 sm:w-auto",children:"Buy a Gift Card Now"})]})})]})},Dm=[{value:25,label:"$25"},{value:50,label:"$50"},{value:100,label:"$100"},{value:200,label:"$200"},{value:0,label:"Custom Amount"}],wl=[{id:"design-1",name:"Elegant Floral",image:"/images/gift-cards/design-1.jpg"},{id:"design-2",name:"Minimalist",image:"/images/gift-cards/design-2.jpg"},{id:"design-3",name:"Geometric",image:"/images/gift-cards/design-3.jpg"},{id:"design-4",name:"Seasonal",image:"/images/gift-cards/design-4.jpg"}];function TS({onSubmit:e,isLoading:t=!1}){const[s,r]=v.useState(Dm[0].value),[n,a]=v.useState(""),[o,l]=v.useState(wl[0].id),[c,u]=v.useState("email"),[d,h]=v.useState({recipientName:"",recipientEmail:"",senderName:"",message:""}),m=y=>{const{name:g,value:p}=y.target;h(f=>({...f,[g]:p}))},x=y=>{r(y),y!==0&&a("")},w=y=>{const g=y.target.value;(g===""||/^\d+$/.test(g))&&(a(g),g&&r(parseInt(g,10)))},b=y=>{var g;if(y.preventDefault(),s<=0){alert("Please select a valid amount");return}if(c==="email"&&!d.recipientEmail){alert("Please enter recipient email");return}if(!d.recipientName){alert("Please enter recipient name");return}e({amount:s,image:((g=wl.find(p=>p.id===o))==null?void 0:g.image)||"",description:`$${s} Gift Card`,isPhysical:c==="physical",deliveryMethod:c,recipientEmail:d.recipientEmail,recipientName:d.recipientName,message:d.message,senderName:d.senderName,expirationDays:365})};return i.jsxs("form",{onSubmit:b,className:"space-y-8",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-medium mb-4",children:"Select Amount"}),i.jsx("div",{className:"grid grid-cols-2 gap-4 sm:grid-cols-3 lg:grid-cols-5",children:Dm.map(y=>i.jsx("button",{type:"button",onClick:()=>x(y.value),className:`py-3 px-4 border rounded-lg text-center transition-colors ${s===y.value&&y.value!==0?"border-primary-600 bg-primary-50 text-primary-600":"border-gray-300 hover:border-primary-500"}`,children:y.label},y.value))}),s===0&&i.jsxs("div",{className:"mt-4",children:[i.jsx("label",{htmlFor:"customAmount",className:"block text-sm font-medium text-gray-700 mb-1",children:"Enter Custom Amount (USD)"}),i.jsxs("div",{className:"relative rounded-md shadow-sm",children:[i.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:i.jsx("span",{className:"text-gray-500 sm:text-sm",children:"$"})}),i.jsx("input",{type:"text",name:"customAmount",id:"customAmount",value:n,onChange:w,className:"focus:ring-primary-500 focus:border-primary-500 block w-full pl-7 pr-12 sm:text-sm border-gray-300 rounded-md py-2 border",placeholder:"0.00"})]})]})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-medium mb-4",children:"Choose a Design"}),i.jsx("div",{className:"grid grid-cols-2 gap-4 sm:grid-cols-4",children:wl.map(y=>i.jsx("div",{className:"relative",children:i.jsx("button",{type:"button",onClick:()=>l(y.id),className:`w-full aspect-[3/2] rounded-lg overflow-hidden border-2 transition-colors ${o===y.id?"border-primary-600 ring-2 ring-primary-500":"border-gray-200 hover:border-gray-300"}`,children:i.jsx("div",{className:"w-full h-full bg-gray-100 flex items-center justify-center",children:i.jsx("span",{className:"text-sm text-gray-500",children:y.name})})})},y.id))})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-medium mb-4",children:"Delivery Method"}),i.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2",children:[i.jsx("button",{type:"button",onClick:()=>u("email"),className:`p-4 border rounded-lg text-left transition-colors ${c==="email"?"border-primary-600 bg-primary-50 ring-2 ring-primary-500":"border-gray-300 hover:border-gray-400"}`,children:i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"flex-shrink-0 h-10 w-10 rounded-full bg-primary-100 flex items-center justify-center",children:i.jsx(qt,{className:"h-5 w-5 text-primary-600"})}),i.jsxs("div",{className:"ml-3",children:[i.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Email"}),i.jsx("p",{className:"text-sm text-gray-500",children:"Delivered instantly"})]})]})}),i.jsx("button",{type:"button",onClick:()=>u("physical"),className:`p-4 border rounded-lg text-left transition-colors ${c==="physical"?"border-primary-600 bg-primary-50 ring-2 ring-primary-500":"border-gray-300 hover:border-gray-400"}`,children:i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"flex-shrink-0 h-10 w-10 rounded-full bg-primary-100 flex items-center justify-center",children:i.jsx(bs,{className:"h-5 w-5 text-primary-600"})}),i.jsxs("div",{className:"ml-3",children:[i.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Physical Card"}),i.jsx("p",{className:"text-sm text-gray-500",children:"Shipped in 2-3 business days"})]})]})})]})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("h3",{className:"text-lg font-medium",children:"Recipient Information"}),i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"recipientName",className:"block text-sm font-medium text-gray-700 mb-1",children:["Recipient's Name ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[i.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:i.jsx(jt,{className:"h-5 w-5 text-gray-400"})}),i.jsx("input",{type:"text",name:"recipientName",id:"recipientName",value:d.recipientName,onChange:m,required:!0,className:"focus:ring-primary-500 focus:border-primary-500 block w-full pl-10 sm:text-sm border-gray-300 rounded-md py-2 border",placeholder:"John Doe"})]})]}),c==="email"&&i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"recipientEmail",className:"block text-sm font-medium text-gray-700 mb-1",children:["Recipient's Email ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[i.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:i.jsx(qt,{className:"h-5 w-5 text-gray-400"})}),i.jsx("input",{type:"email",name:"recipientEmail",id:"recipientEmail",value:d.recipientEmail,onChange:m,required:c==="email",className:"focus:ring-primary-500 focus:border-primary-500 block w-full pl-10 sm:text-sm border-gray-300 rounded-md py-2 border",placeholder:"recipient@example.com"})]})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"senderName",className:"block text-sm font-medium text-gray-700 mb-1",children:"From (Your Name)"}),i.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[i.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:i.jsx(jt,{className:"h-5 w-5 text-gray-400"})}),i.jsx("input",{type:"text",name:"senderName",id:"senderName",value:d.senderName,onChange:m,className:"focus:ring-primary-500 focus:border-primary-500 block w-full pl-10 sm:text-sm border-gray-300 rounded-md py-2 border",placeholder:"Your Name"})]})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"message",className:"block text-sm font-medium text-gray-700 mb-1",children:"Personal Message (Optional)"}),i.jsx("div",{className:"mt-1",children:i.jsx("textarea",{name:"message",id:"message",rows:3,value:d.message,onChange:m,className:"shadow-sm focus:ring-primary-500 focus:border-primary-500 block w-full sm:text-sm border border-gray-300 rounded-md p-2",placeholder:"Add a personal message..."})})]})]}),i.jsx("div",{className:"pt-4",children:i.jsx("button",{type:"submit",disabled:t,className:"w-full flex justify-center py-3 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 disabled:opacity-50 disabled:cursor-not-allowed",children:t?"Processing...":i.jsxs(i.Fragment,{children:[i.jsx(jg,{className:"w-5 h-5 mr-2"}),"Purchase Gift Card for $",s]})})})]})}function AS({giftCard:e}){const t=new Date;t.setDate(t.getDate()+(e.expirationDays||365));const s=r=>r.toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"});return i.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden border border-gray-200",children:[i.jsx("div",{className:"bg-primary-600 p-6 text-white",children:i.jsxs("div",{className:"flex justify-between items-start",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-2xl font-bold",children:"Gift Card"}),i.jsx("p",{className:"text-primary-100",children:"Evolv Fashion"})]}),i.jsx("div",{className:"bg-white/20 p-2 rounded-lg",children:i.jsx(bs,{className:"h-6 w-6"})})]})}),i.jsxs("div",{className:"p-6",children:[i.jsxs("div",{className:"text-center mb-6",children:[i.jsx("p",{className:"text-sm text-gray-500",children:"Gift Card Value"}),i.jsxs("p",{className:"text-4xl font-bold text-gray-900",children:["$",e.amount.toFixed(2)]})]}),i.jsx("div",{className:"h-40 rounded-lg mb-6 flex items-center justify-center",style:{backgroundImage:`url(${e.image||"/images/gift-card-default.jpg"})`,backgroundSize:"cover",backgroundPosition:"center"},children:i.jsxs("div",{className:"bg-black bg-opacity-40 text-white p-4 rounded-lg text-center",children:[i.jsx("p",{className:"text-lg font-semibold",children:"Evolv Fashion"}),i.jsx("p",{className:"text-sm",children:"Gift Card"})]})}),i.jsxs("div",{className:"space-y-4",children:[e.recipientName&&i.jsxs("div",{className:"flex items-center",children:[i.jsx(jt,{className:"h-5 w-5 text-gray-400 mr-3"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-500",children:"To"}),i.jsx("p",{className:"font-medium",children:e.recipientName})]})]}),e.senderName&&i.jsxs("div",{className:"flex items-center",children:[i.jsx(jt,{className:"h-5 w-5 text-gray-400 mr-3"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-500",children:"From"}),i.jsx("p",{className:"font-medium",children:e.senderName})]})]}),e.recipientEmail&&e.deliveryMethod==="email"&&i.jsxs("div",{className:"flex items-center",children:[i.jsx(qt,{className:"h-5 w-5 text-gray-400 mr-3"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-500",children:"Email"}),i.jsx("p",{className:"font-medium",children:e.recipientEmail})]})]}),i.jsxs("div",{className:"flex items-center",children:[i.jsx(Dc,{className:"h-5 w-5 text-gray-400 mr-3"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-500",children:"Expires"}),i.jsx("p",{className:"font-medium",children:s(t)})]})]})]}),e.message&&i.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-200",children:[i.jsx("p",{className:"text-sm text-gray-500 mb-2",children:"Personal Message"}),i.jsx("div",{className:"bg-gray-50 p-4 rounded-lg",children:i.jsxs("p",{className:"text-gray-700 italic",children:['"',e.message,'"']})})]})]}),i.jsx("div",{className:"bg-gray-50 px-6 py-4 border-t border-gray-200",children:i.jsxs("p",{className:"text-xs text-center text-gray-500",children:["This gift card can be redeemed at evolvfashion.com. Gift cards never expire.",e.deliveryMethod==="email"&&i.jsxs("span",{className:"block mt-1",children:["This gift card will be sent to ",e.recipientEmail," once payment is confirmed."]})]})})]})}const RS=()=>{const e=Ge(),[t,s]=v.useState(!1),[r,n]=v.useState(null),a=async o=>{s(!0);try{console.log("Submitting gift card:",o),await new Promise(l=>setTimeout(l,1500)),n(o),Ne.success("Gift card purchased successfully!"),window.scrollTo({top:document.body.scrollHeight,behavior:"smooth"})}catch(l){console.error("Error purchasing gift card:",l),Ne.error("Failed to purchase gift card. Please try again.")}finally{s(!1)}};return i.jsx("div",{className:"min-h-screen bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:i.jsxs("div",{className:"max-w-7xl mx-auto",children:[i.jsxs("div",{className:"mb-8",children:[i.jsxs("button",{onClick:()=>e(-1),className:"flex items-center text-primary-600 hover:text-primary-800 mb-4",children:[i.jsx(dd,{className:"h-5 w-5 mr-1"}),"Back"]}),i.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Purchase a Gift Card"}),i.jsx("p",{className:"mt-2 text-gray-600",children:"Give the gift of sustainable fashion"})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[i.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200",children:[i.jsx("h2",{className:"text-xl font-semibold mb-6",children:"Gift Card Details"}),i.jsx(TS,{onSubmit:a,isLoading:t})]}),i.jsxs("div",{className:"lg:sticky lg:top-8 h-fit",children:[i.jsx("h2",{className:"text-xl font-semibold mb-6",children:"Preview"}),i.jsx("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200",children:r?i.jsx(AS,{giftCard:r}):i.jsxs("div",{className:"text-center py-12 text-gray-500",children:[i.jsx("p",{children:"Your gift card preview will appear here"}),i.jsx("p",{className:"text-sm mt-2",children:"Fill out the form to see a preview"})]})}),i.jsxs("div",{className:"mt-8 bg-blue-50 p-4 rounded-lg",children:[i.jsx("h3",{className:"font-medium text-blue-800 mb-2",children:"Gift Card Terms"}),i.jsxs("ul",{className:"text-sm text-blue-700 space-y-1 list-disc pl-5",children:[i.jsx("li",{children:"Gift cards never expire"}),i.jsx("li",{children:"No fees or expiration dates"}),i.jsx("li",{children:"Can be used online at evolvfashion.com"}),i.jsx("li",{children:"Not redeemable for cash unless required by law"})]})]})]})]})]})})},OS=()=>{const[e,t]=v.useState(""),[s,r]=v.useState(!1),[n,a]=v.useState("idle"),[o,l]=v.useState(""),c=async u=>{if(u.preventDefault(),!e.trim()){a("error"),l("Please enter a gift card code");return}r(!0),a("idle");try{console.log("Redeeming gift card:",e),await new Promise(h=>setTimeout(h,1500)),Math.random()>.3?a("success"):(a("error"),l("Invalid or expired gift card code"))}catch(d){console.error("Error redeeming gift card:",d),a("error"),l("An error occurred. Please try again.")}finally{r(!1)}};return i.jsx("div",{className:"min-h-screen bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:i.jsxs("div",{className:"max-w-md mx-auto",children:[i.jsxs("div",{className:"text-center mb-10",children:[i.jsx("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-primary-100 mb-4",children:i.jsx(bs,{className:"h-6 w-6 text-primary-600"})}),i.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Redeem Gift Card"}),i.jsx("p",{className:"text-gray-600",children:"Enter your gift card code below to add funds to your account"})]}),i.jsx("div",{className:"bg-white py-8 px-6 shadow rounded-lg sm:px-10",children:i.jsxs("form",{onSubmit:c,className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx("label",{htmlFor:"giftCardCode",className:"block text-sm font-medium text-gray-700 mb-1",children:"Gift Card Code"}),i.jsx("div",{className:"mt-1 relative rounded-md shadow-sm",children:i.jsx("input",{type:"text",id:"giftCardCode",value:e,onChange:u=>{t(u.target.value.toUpperCase()),n!=="idle"&&a("idle")},className:"block w-full px-4 py-3 border border-gray-300 rounded-md shadow-sm focus:ring-primary-500 focus:border-primary-500",placeholder:"XXXX-XXXX-XXXX-XXXX","aria-describedby":"gift-card-code"})}),i.jsx("p",{className:"mt-1 text-sm text-gray-500",id:"gift-card-code",children:"Enter the code found on your gift card or in your email."})]}),n==="success"&&i.jsx("div",{className:"rounded-md bg-green-50 p-4",children:i.jsxs("div",{className:"flex",children:[i.jsx("div",{className:"flex-shrink-0",children:i.jsx(uj,{className:"h-5 w-5 text-green-400","aria-hidden":"true"})}),i.jsxs("div",{className:"ml-3",children:[i.jsx("h3",{className:"text-sm font-medium text-green-800",children:"Gift Card Redeemed!"}),i.jsx("div",{className:"mt-2 text-sm text-green-700",children:i.jsx("p",{children:"Your gift card has been successfully added to your account balance."})}),i.jsx("div",{className:"mt-4",children:i.jsx("div",{className:"-mx-2 -my-1.5 flex",children:i.jsx("button",{type:"button",className:"bg-green-50 px-2 py-1.5 rounded-md text-sm font-medium text-green-800 hover:bg-green-100 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-600",onClick:()=>{t(""),a("idle")},children:"Continue Shopping"})})})]})]})}),n==="error"&&i.jsx("div",{className:"rounded-md bg-red-50 p-4",children:i.jsxs("div",{className:"flex",children:[i.jsx("div",{className:"flex-shrink-0",children:i.jsx(Pj,{className:"h-5 w-5 text-red-400","aria-hidden":"true"})}),i.jsxs("div",{className:"ml-3",children:[i.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Unable to redeem gift card"}),i.jsx("div",{className:"mt-2 text-sm text-red-700",children:i.jsx("p",{children:o})})]})]})}),i.jsx("div",{children:i.jsx("button",{type:"submit",disabled:s,className:`w-full flex justify-center py-3 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white ${s?"bg-primary-400 cursor-not-allowed":"bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500"}`,children:s?"Processing...":"Redeem Gift Card"})})]})}),i.jsx("div",{className:"mt-8 text-center text-sm text-gray-500",children:i.jsxs("p",{children:["Don't have a gift card? ",i.jsx("a",{href:"/gift-cards",className:"font-medium text-primary-600 hover:text-primary-500",children:"Purchase one here"})]})})]})})};function DS({isOpen:e,onClose:t}){const s=Ge(),{cartItems:r=[]}=As(),[n,a]=v.useState(!1),o=()=>{a(!0),s("/checkout")};if(!e)return null;const l=r.reduce((h,m)=>{try{const x=typeof m.quantity=="number"?m.quantity:0,b=(typeof m.price=="number"?m.price:0)*x,y=h.subtotal+b;return{itemCount:h.itemCount+x,subtotal:parseFloat(y.toFixed(2))}}catch(x){return console.error("Error calculating order summary:",x),h}},{itemCount:0,subtotal:0}),c=0,u=parseFloat((l.subtotal*.1).toFixed(2)),d=parseFloat((l.subtotal+c+u).toFixed(2));return i.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:i.jsxs("div",{className:"flex min-h-screen items-center justify-center px-4 pt-4 pb-20 text-center sm:block sm:p-0",children:[i.jsx("div",{className:"fixed inset-0 transition-opacity",onClick:t,children:i.jsx("div",{className:"absolute inset-0 bg-gray-500 opacity-75"})}),i.jsxs("div",{className:"inline-block transform overflow-hidden rounded-lg bg-white text-left align-bottom shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-lg sm:align-middle",children:[i.jsx("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:i.jsx("div",{className:"sm:flex sm:items-start",children:i.jsxs("div",{className:"mt-3 w-full text-center sm:mt-0 sm:text-left",children:[i.jsx("h3",{className:"text-lg font-medium leading-6 text-gray-900",children:"Review Your Order"}),i.jsxs("div",{className:"mt-4",children:[i.jsx("h4",{className:"text-md font-medium text-gray-900",children:"Order Summary"}),i.jsx("div",{className:"mt-2 max-h-60 overflow-y-auto",children:r.length===0?i.jsx("p",{className:"text-sm text-gray-500",children:"Your cart is empty"}):i.jsx("ul",{className:"divide-y divide-gray-200",children:r.map(h=>{var m;return i.jsxs("li",{className:"flex items-center py-2",children:[i.jsx("div",{className:"h-16 w-16 flex-shrink-0 overflow-hidden rounded-md border border-gray-200",children:((m=h.images)==null?void 0:m[0])&&i.jsx("img",{src:h.images[0],alt:h.name,className:"h-full w-full object-cover object-center"})}),i.jsxs("div",{className:"ml-4 flex flex-1 flex-col",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"text-sm font-medium text-gray-900",children:h.name}),i.jsxs("p",{className:"mt-1 text-sm text-gray-500",children:["Qty: ",h.quantity]})]}),i.jsxs("p",{className:"mt-1 text-sm font-medium text-gray-900",children:["$",((Number(h.price)||0)*(Number(h.quantity)||0)).toFixed(2)]})]})]},h.id)})})})]}),i.jsxs("div",{className:"mt-4 border-t border-gray-200 pt-4",children:[i.jsxs("div",{className:"flex justify-between text-base font-medium text-gray-900",children:[i.jsxs("p",{children:["Subtotal (",l.itemCount," items)"]}),i.jsxs("p",{children:["$",l.subtotal.toFixed(2)]})]}),i.jsxs("div",{className:"flex justify-between text-sm text-gray-600",children:[i.jsx("p",{children:"Shipping"}),i.jsx("p",{children:"Free"})]}),i.jsxs("div",{className:"flex justify-between text-sm text-gray-600",children:[i.jsx("p",{children:"Tax"}),i.jsxs("p",{children:["$",u.toFixed(2)]})]}),i.jsxs("div",{className:"mt-2 flex justify-between border-t border-gray-200 pt-2 text-base font-medium text-gray-900",children:[i.jsx("p",{children:"Total"}),i.jsxs("p",{children:["$",d.toFixed(2)]})]})]})]})})}),i.jsxs("div",{className:"bg-gray-50 px-4 py-3 sm:flex sm:flex-row-reverse sm:px-6",children:[i.jsx("button",{type:"button",onClick:o,disabled:r.length===0||n,className:`inline-flex w-full justify-center rounded-md border border-transparent px-4 py-2 text-base font-medium text-white shadow-sm sm:ml-3 sm:w-auto sm:text-sm ${r.length===0?"bg-gray-400 cursor-not-allowed":"bg-indigo-600 hover:bg-indigo-700"}`,children:n?"Processing...":"Proceed to Checkout"}),i.jsx("button",{type:"button",onClick:t,className:"mt-3 inline-flex w-full justify-center rounded-md border border-gray-300 bg-white px-4 py-2 text-base font-medium text-gray-700 shadow-sm hover:bg-gray-50 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm",children:"Continue Shopping"})]})]})]})})}function LS({className:e="",disabled:t=!1}){const[s,r]=v.useState(!1),{cartItems:n}=As(),a=()=>{r(!0)},o=()=>{r(!1)},l=t||n.length===0;return i.jsxs(i.Fragment,{children:[i.jsx("button",{onClick:a,disabled:l,className:`w-full flex justify-center items-center px-6 py-3 border border-transparent rounded-md shadow-sm text-base font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 ${l?"opacity-50 cursor-not-allowed":""} ${e}`,children:"Proceed to Checkout"}),i.jsx(DS,{isOpen:s,onClose:o})]})}function MS(){const{cartItems:e,removeFromCart:t,updateQuantity:s,clearCart:r}=As(),n=(d,h)=>{h<1||s(d,h)},a=e.reduce((d,h)=>d+h.quantity,0),o=e.reduce((d,h)=>d+h.price*h.quantity,0),l=o>0?9.99:0,c=o*.1,u=o+l+c;return e.length===0?i.jsxs("div",{className:"container mx-auto px-4 py-12 text-center",children:[i.jsx("h1",{className:"text-3xl font-serif font-bold mb-4",children:"Your Cart"}),i.jsx("p",{className:"text-lg text-gray-600 mb-6",children:"Your cart is currently empty"}),i.jsx(O,{to:"/shop",className:"inline-block bg-black text-white px-6 py-3 rounded-md hover:bg-gray-800 transition-colors",children:"Continue Shopping"})]}):i.jsxs("div",{className:"container mx-auto px-4 py-12",children:[i.jsxs("h1",{className:"text-3xl font-serif font-bold mb-8",children:["Your Cart (",a,")"]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[i.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.map(d=>{var h,m,x;return i.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 border-b pb-6",children:[i.jsx("div",{className:"w-full sm:w-32 h-32 bg-gray-100 rounded-md overflow-hidden",children:i.jsx("img",{src:((h=d.images)==null?void 0:h[0])||"",alt:d.name,className:"w-full h-full object-cover"})}),i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex justify-between items-start",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-medium",children:d.name}),i.jsxs("p",{className:"text-gray-600",children:[((m=d.colors)==null?void 0:m[0])||"N/A"," / ",((x=d.sizes)==null?void 0:x[0])||"One Size"]})]}),i.jsx("button",{onClick:()=>t(d.id),className:"text-gray-400 hover:text-gray-800","aria-label":"Remove item",children:i.jsx(cs,{size:20})})]}),i.jsxs("div",{className:"mt-4 flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center border rounded-md",children:[i.jsx("button",{onClick:()=>n(d.id,d.quantity-1),className:"px-3 py-1 text-gray-600 hover:bg-gray-100","aria-label":"Decrease quantity",children:i.jsx(yj,{size:16})}),i.jsx("span",{className:"px-4",children:d.quantity}),i.jsx("button",{onClick:()=>n(d.id,d.quantity+1),className:"px-3 py-1 text-gray-600 hover:bg-gray-100","aria-label":"Increase quantity",children:i.jsx(bj,{size:16})})]}),i.jsxs("div",{className:"font-medium",children:["$",(d.price*d.quantity).toFixed(2)]})]})]})]},d.id)}),i.jsxs("div",{className:"flex justify-between items-center pt-4",children:[i.jsx(O,{to:"/shop",className:"text-gray-600 hover:text-black flex items-center",children:"← Continue Shopping"}),i.jsx("button",{onClick:r,className:"text-gray-600 hover:text-red-600 text-sm",children:"Clear Cart"})]})]}),i.jsx("div",{className:"lg:pl-8",children:i.jsxs("div",{className:"bg-gray-50 p-6 rounded-lg h-fit",children:[i.jsx("h2",{className:"text-lg font-medium mb-4",children:"Order Summary"}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsxs("span",{className:"text-gray-600",children:["Subtotal (",a," ",a===1?"item":"items",")"]}),i.jsxs("span",{children:["$",o.toFixed(2)]})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-600",children:"Shipping"}),i.jsx("span",{children:l>0?`$${l.toFixed(2)}`:"Free"})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-600",children:"Tax"}),i.jsxs("span",{children:["$",c.toFixed(2)]})]}),i.jsx("div",{className:"border-t border-gray-200 pt-4 mt-2",children:i.jsxs("div",{className:"flex justify-between font-medium text-lg",children:[i.jsx("span",{children:"Total"}),i.jsxs("span",{children:["$",u.toFixed(2)]})]})})]}),i.jsx("div",{className:"mt-6",children:i.jsx(LS,{})}),i.jsx("p",{className:"mt-4 text-center text-sm text-gray-500",children:"Secure checkout powered by our payment partners"}),i.jsx("div",{className:"mt-4 flex justify-center space-x-6",children:["visa","mastercard","amex","discover"].map(d=>i.jsx("div",{className:"h-6 flex items-center",children:i.jsx("div",{className:"text-xs font-medium text-gray-400",children:d.charAt(0).toUpperCase()+d.slice(1)})},d))}),i.jsxs("div",{className:"mt-6 text-sm text-gray-600",children:[i.jsx("h3",{className:"font-medium mb-2",children:"Need help?"}),i.jsxs("p",{className:"mb-2",children:["Contact us at"," ",i.jsx("a",{href:"mailto:support@example.com",className:"text-black hover:underline",children:"support@example.com"})]}),i.jsx("p",{children:"We're here to help with any questions."})]})]})})]})]})}const lx=v.createContext({});function IS(e){const t=v.useRef(null);return t.current===null&&(t.current=e()),t.current}const yd=typeof window<"u",$S=yd?v.useLayoutEffect:v.useEffect,vd=v.createContext(null);function wd(e,t){e.indexOf(t)===-1&&e.push(t)}function bd(e,t){const s=e.indexOf(t);s>-1&&e.splice(s,1)}const Ht=(e,t,s)=>s>t?t:s<e?e:s;let ro=()=>{};const Gt={},cx=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function ux(e){return typeof e=="object"&&e!==null}const dx=e=>/^0[^.\s]+$/u.test(e);function jd(e){let t;return()=>(t===void 0&&(t=e()),t)}const ot=e=>e,FS=(e,t)=>s=>t(e(s)),_i=(...e)=>e.reduce(FS),ui=(e,t,s)=>{const r=t-e;return r===0?1:(s-e)/r};class Nd{constructor(){this.subscriptions=[]}add(t){return wd(this.subscriptions,t),()=>bd(this.subscriptions,t)}notify(t,s,r){const n=this.subscriptions.length;if(n)if(n===1)this.subscriptions[0](t,s,r);else for(let a=0;a<n;a++){const o=this.subscriptions[a];o&&o(t,s,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Et=e=>e*1e3,Tt=e=>e/1e3;function hx(e,t){return t?e*(1e3/t):0}const mx=(e,t,s)=>(((1-3*s+3*t)*e+(3*s-6*t))*e+3*t)*e,zS=1e-7,VS=12;function BS(e,t,s,r,n){let a,o,l=0;do o=t+(s-t)/2,a=mx(o,r,n)-e,a>0?s=o:t=o;while(Math.abs(a)>zS&&++l<VS);return o}function Ci(e,t,s,r){if(e===t&&s===r)return ot;const n=a=>BS(a,0,1,e,s);return a=>a===0||a===1?a:mx(n(a),t,r)}const fx=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,px=e=>t=>1-e(1-t),gx=Ci(.33,1.53,.69,.99),Sd=px(gx),xx=fx(Sd),yx=e=>(e*=2)<1?.5*Sd(e):.5*(2-Math.pow(2,-10*(e-1))),kd=e=>1-Math.sin(Math.acos(e)),vx=px(kd),wx=fx(kd),US=Ci(.42,0,1,1),WS=Ci(0,0,.58,1),bx=Ci(.42,0,.58,1),qS=e=>Array.isArray(e)&&typeof e[0]!="number",jx=e=>Array.isArray(e)&&typeof e[0]=="number",Lm={linear:ot,easeIn:US,easeInOut:bx,easeOut:WS,circIn:kd,circInOut:wx,circOut:vx,backIn:Sd,backInOut:xx,backOut:gx,anticipate:yx},HS=e=>typeof e=="string",Mm=e=>{if(jx(e)){ro(e.length===4);const[t,s,r,n]=e;return Ci(t,s,r,n)}else if(HS(e))return ro(Lm[e]!==void 0),Lm[e];return e},ra=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],Im={value:null,addProjectionMetrics:null};function GS(e,t){let s=new Set,r=new Set,n=!1,a=!1;const o=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1},c=0;function u(h){o.has(h)&&(d.schedule(h),e()),c++,h(l)}const d={schedule:(h,m=!1,x=!1)=>{const b=x&&n?s:r;return m&&o.add(h),b.has(h)||b.add(h),h},cancel:h=>{r.delete(h),o.delete(h)},process:h=>{if(l=h,n){a=!0;return}n=!0,[s,r]=[r,s],s.forEach(u),t&&Im.value&&Im.value.frameloop[t].push(c),c=0,s.clear(),n=!1,a&&(a=!1,d.process(h))}};return d}const KS=40;function Nx(e,t){let s=!1,r=!0;const n={delta:0,timestamp:0,isProcessing:!1},a=()=>s=!0,o=ra.reduce((f,j)=>(f[j]=GS(a,t?j:void 0),f),{}),{setup:l,read:c,resolveKeyframes:u,preUpdate:d,update:h,preRender:m,render:x,postRender:w}=o,b=()=>{const f=Gt.useManualTiming?n.timestamp:performance.now();s=!1,Gt.useManualTiming||(n.delta=r?1e3/60:Math.max(Math.min(f-n.timestamp,KS),1)),n.timestamp=f,n.isProcessing=!0,l.process(n),c.process(n),u.process(n),d.process(n),h.process(n),m.process(n),x.process(n),w.process(n),n.isProcessing=!1,s&&t&&(r=!1,e(b))},y=()=>{s=!0,r=!0,n.isProcessing||e(b)};return{schedule:ra.reduce((f,j)=>{const N=o[j];return f[j]=(S,_=!1,k=!1)=>(s||y(),N.schedule(S,_,k)),f},{}),cancel:f=>{for(let j=0;j<ra.length;j++)o[ra[j]].cancel(f)},state:n,steps:o}}const{schedule:ne,cancel:Ns,state:je,steps:bl}=Nx(typeof requestAnimationFrame<"u"?requestAnimationFrame:ot,!0);let va;function QS(){va=void 0}const Ue={now:()=>(va===void 0&&Ue.set(je.isProcessing||Gt.useManualTiming?je.timestamp:performance.now()),va),set:e=>{va=e,queueMicrotask(QS)}},Sx=e=>t=>typeof t=="string"&&t.startsWith(e),_d=Sx("--"),YS=Sx("var(--"),Cd=e=>YS(e)?JS.test(e.split("/*")[0].trim()):!1,JS=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,an={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},di={...an,transform:e=>Ht(0,1,e)},na={...an,default:1},Fn=e=>Math.round(e*1e5)/1e5,Pd=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function XS(e){return e==null}const ZS=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Ed=(e,t)=>s=>!!(typeof s=="string"&&ZS.test(s)&&s.startsWith(e)||t&&!XS(s)&&Object.prototype.hasOwnProperty.call(s,t)),kx=(e,t,s)=>r=>{if(typeof r!="string")return r;const[n,a,o,l]=r.match(Pd);return{[e]:parseFloat(n),[t]:parseFloat(a),[s]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},ek=e=>Ht(0,255,e),jl={...an,transform:e=>Math.round(ek(e))},Hs={test:Ed("rgb","red"),parse:kx("red","green","blue"),transform:({red:e,green:t,blue:s,alpha:r=1})=>"rgba("+jl.transform(e)+", "+jl.transform(t)+", "+jl.transform(s)+", "+Fn(di.transform(r))+")"};function tk(e){let t="",s="",r="",n="";return e.length>5?(t=e.substring(1,3),s=e.substring(3,5),r=e.substring(5,7),n=e.substring(7,9)):(t=e.substring(1,2),s=e.substring(2,3),r=e.substring(3,4),n=e.substring(4,5),t+=t,s+=s,r+=r,n+=n),{red:parseInt(t,16),green:parseInt(s,16),blue:parseInt(r,16),alpha:n?parseInt(n,16)/255:1}}const Gc={test:Ed("#"),parse:tk,transform:Hs.transform},Pi=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Xt=Pi("deg"),At=Pi("%"),L=Pi("px"),sk=Pi("vh"),rk=Pi("vw"),$m={...At,parse:e=>At.parse(e)/100,transform:e=>At.transform(e*100)},_r={test:Ed("hsl","hue"),parse:kx("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:s,alpha:r=1})=>"hsla("+Math.round(e)+", "+At.transform(Fn(t))+", "+At.transform(Fn(s))+", "+Fn(di.transform(r))+")"},Pe={test:e=>Hs.test(e)||Gc.test(e)||_r.test(e),parse:e=>Hs.test(e)?Hs.parse(e):_r.test(e)?_r.parse(e):Gc.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Hs.transform(e):_r.transform(e)},nk=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function ik(e){var t,s;return isNaN(e)&&typeof e=="string"&&(((t=e.match(Pd))==null?void 0:t.length)||0)+(((s=e.match(nk))==null?void 0:s.length)||0)>0}const _x="number",Cx="color",ak="var",ok="var(",Fm="${}",lk=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function hi(e){const t=e.toString(),s=[],r={color:[],number:[],var:[]},n=[];let a=0;const l=t.replace(lk,c=>(Pe.test(c)?(r.color.push(a),n.push(Cx),s.push(Pe.parse(c))):c.startsWith(ok)?(r.var.push(a),n.push(ak),s.push(c)):(r.number.push(a),n.push(_x),s.push(parseFloat(c))),++a,Fm)).split(Fm);return{values:s,split:l,indexes:r,types:n}}function Px(e){return hi(e).values}function Ex(e){const{split:t,types:s}=hi(e),r=t.length;return n=>{let a="";for(let o=0;o<r;o++)if(a+=t[o],n[o]!==void 0){const l=s[o];l===_x?a+=Fn(n[o]):l===Cx?a+=Pe.transform(n[o]):a+=n[o]}return a}}const ck=e=>typeof e=="number"?0:e;function uk(e){const t=Px(e);return Ex(e)(t.map(ck))}const Ss={test:ik,parse:Px,createTransformer:Ex,getAnimatableNone:uk};function Nl(e,t,s){return s<0&&(s+=1),s>1&&(s-=1),s<1/6?e+(t-e)*6*s:s<1/2?t:s<2/3?e+(t-e)*(2/3-s)*6:e}function dk({hue:e,saturation:t,lightness:s,alpha:r}){e/=360,t/=100,s/=100;let n=0,a=0,o=0;if(!t)n=a=o=s;else{const l=s<.5?s*(1+t):s+t-s*t,c=2*s-l;n=Nl(c,l,e+1/3),a=Nl(c,l,e),o=Nl(c,l,e-1/3)}return{red:Math.round(n*255),green:Math.round(a*255),blue:Math.round(o*255),alpha:r}}function no(e,t){return s=>s>0?t:e}const se=(e,t,s)=>e+(t-e)*s,Sl=(e,t,s)=>{const r=e*e,n=s*(t*t-r)+r;return n<0?0:Math.sqrt(n)},hk=[Gc,Hs,_r],mk=e=>hk.find(t=>t.test(e));function zm(e){const t=mk(e);if(!t)return!1;let s=t.parse(e);return t===_r&&(s=dk(s)),s}const Vm=(e,t)=>{const s=zm(e),r=zm(t);if(!s||!r)return no(e,t);const n={...s};return a=>(n.red=Sl(s.red,r.red,a),n.green=Sl(s.green,r.green,a),n.blue=Sl(s.blue,r.blue,a),n.alpha=se(s.alpha,r.alpha,a),Hs.transform(n))},Kc=new Set(["none","hidden"]);function fk(e,t){return Kc.has(e)?s=>s<=0?e:t:s=>s>=1?t:e}function pk(e,t){return s=>se(e,t,s)}function Td(e){return typeof e=="number"?pk:typeof e=="string"?Cd(e)?no:Pe.test(e)?Vm:yk:Array.isArray(e)?Tx:typeof e=="object"?Pe.test(e)?Vm:gk:no}function Tx(e,t){const s=[...e],r=s.length,n=e.map((a,o)=>Td(a)(a,t[o]));return a=>{for(let o=0;o<r;o++)s[o]=n[o](a);return s}}function gk(e,t){const s={...e,...t},r={};for(const n in s)e[n]!==void 0&&t[n]!==void 0&&(r[n]=Td(e[n])(e[n],t[n]));return n=>{for(const a in r)s[a]=r[a](n);return s}}function xk(e,t){const s=[],r={color:0,var:0,number:0};for(let n=0;n<t.values.length;n++){const a=t.types[n],o=e.indexes[a][r[a]],l=e.values[o]??0;s[n]=l,r[a]++}return s}const yk=(e,t)=>{const s=Ss.createTransformer(t),r=hi(e),n=hi(t);return r.indexes.var.length===n.indexes.var.length&&r.indexes.color.length===n.indexes.color.length&&r.indexes.number.length>=n.indexes.number.length?Kc.has(e)&&!n.values.length||Kc.has(t)&&!r.values.length?fk(e,t):_i(Tx(xk(r,n),n.values),s):no(e,t)};function Ax(e,t,s){return typeof e=="number"&&typeof t=="number"&&typeof s=="number"?se(e,t,s):Td(e)(e,t)}const vk=e=>{const t=({timestamp:s})=>e(s);return{start:(s=!0)=>ne.update(t,s),stop:()=>Ns(t),now:()=>je.isProcessing?je.timestamp:Ue.now()}},Rx=(e,t,s=10)=>{let r="";const n=Math.max(Math.round(t/s),2);for(let a=0;a<n;a++)r+=e(a/(n-1))+", ";return`linear(${r.substring(0,r.length-2)})`},io=2e4;function Ad(e){let t=0;const s=50;let r=e.next(t);for(;!r.done&&t<io;)t+=s,r=e.next(t);return t>=io?1/0:t}function wk(e,t=100,s){const r=s({...e,keyframes:[0,t]}),n=Math.min(Ad(r),io);return{type:"keyframes",ease:a=>r.next(n*a).value/t,duration:Tt(n)}}const bk=5;function Ox(e,t,s){const r=Math.max(t-bk,0);return hx(s-e(r),t-r)}const oe={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},kl=.001;function jk({duration:e=oe.duration,bounce:t=oe.bounce,velocity:s=oe.velocity,mass:r=oe.mass}){let n,a,o=1-t;o=Ht(oe.minDamping,oe.maxDamping,o),e=Ht(oe.minDuration,oe.maxDuration,Tt(e)),o<1?(n=u=>{const d=u*o,h=d*e,m=d-s,x=Qc(u,o),w=Math.exp(-h);return kl-m/x*w},a=u=>{const h=u*o*e,m=h*s+s,x=Math.pow(o,2)*Math.pow(u,2)*e,w=Math.exp(-h),b=Qc(Math.pow(u,2),o);return(-n(u)+kl>0?-1:1)*((m-x)*w)/b}):(n=u=>{const d=Math.exp(-u*e),h=(u-s)*e+1;return-kl+d*h},a=u=>{const d=Math.exp(-u*e),h=(s-u)*(e*e);return d*h});const l=5/e,c=Sk(n,a,l);if(e=Et(e),isNaN(c))return{stiffness:oe.stiffness,damping:oe.damping,duration:e};{const u=Math.pow(c,2)*r;return{stiffness:u,damping:o*2*Math.sqrt(r*u),duration:e}}}const Nk=12;function Sk(e,t,s){let r=s;for(let n=1;n<Nk;n++)r=r-e(r)/t(r);return r}function Qc(e,t){return e*Math.sqrt(1-t*t)}const kk=["duration","bounce"],_k=["stiffness","damping","mass"];function Bm(e,t){return t.some(s=>e[s]!==void 0)}function Ck(e){let t={velocity:oe.velocity,stiffness:oe.stiffness,damping:oe.damping,mass:oe.mass,isResolvedFromDuration:!1,...e};if(!Bm(e,_k)&&Bm(e,kk))if(e.visualDuration){const s=e.visualDuration,r=2*Math.PI/(s*1.2),n=r*r,a=2*Ht(.05,1,1-(e.bounce||0))*Math.sqrt(n);t={...t,mass:oe.mass,stiffness:n,damping:a}}else{const s=jk(e);t={...t,...s,mass:oe.mass},t.isResolvedFromDuration=!0}return t}function ao(e=oe.visualDuration,t=oe.bounce){const s=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:n}=s;const a=s.keyframes[0],o=s.keyframes[s.keyframes.length-1],l={done:!1,value:a},{stiffness:c,damping:u,mass:d,duration:h,velocity:m,isResolvedFromDuration:x}=Ck({...s,velocity:-Tt(s.velocity||0)}),w=m||0,b=u/(2*Math.sqrt(c*d)),y=o-a,g=Tt(Math.sqrt(c/d)),p=Math.abs(y)<5;r||(r=p?oe.restSpeed.granular:oe.restSpeed.default),n||(n=p?oe.restDelta.granular:oe.restDelta.default);let f;if(b<1){const N=Qc(g,b);f=S=>{const _=Math.exp(-b*g*S);return o-_*((w+b*g*y)/N*Math.sin(N*S)+y*Math.cos(N*S))}}else if(b===1)f=N=>o-Math.exp(-g*N)*(y+(w+g*y)*N);else{const N=g*Math.sqrt(b*b-1);f=S=>{const _=Math.exp(-b*g*S),k=Math.min(N*S,300);return o-_*((w+b*g*y)*Math.sinh(k)+N*y*Math.cosh(k))/N}}const j={calculatedDuration:x&&h||null,next:N=>{const S=f(N);if(x)l.done=N>=h;else{let _=N===0?w:0;b<1&&(_=N===0?Et(w):Ox(f,N,S));const k=Math.abs(_)<=r,A=Math.abs(o-S)<=n;l.done=k&&A}return l.value=l.done?o:S,l},toString:()=>{const N=Math.min(Ad(j),io),S=Rx(_=>j.next(N*_).value,N,30);return N+"ms "+S},toTransition:()=>{}};return j}ao.applyToOptions=e=>{const t=wk(e,100,ao);return e.ease=t.ease,e.duration=Et(t.duration),e.type="keyframes",e};function Yc({keyframes:e,velocity:t=0,power:s=.8,timeConstant:r=325,bounceDamping:n=10,bounceStiffness:a=500,modifyTarget:o,min:l,max:c,restDelta:u=.5,restSpeed:d}){const h=e[0],m={done:!1,value:h},x=k=>l!==void 0&&k<l||c!==void 0&&k>c,w=k=>l===void 0?c:c===void 0||Math.abs(l-k)<Math.abs(c-k)?l:c;let b=s*t;const y=h+b,g=o===void 0?y:o(y);g!==y&&(b=g-h);const p=k=>-b*Math.exp(-k/r),f=k=>g+p(k),j=k=>{const A=p(k),T=f(k);m.done=Math.abs(A)<=u,m.value=m.done?g:T};let N,S;const _=k=>{x(m.value)&&(N=k,S=ao({keyframes:[m.value,w(m.value)],velocity:Ox(f,k,m.value),damping:n,stiffness:a,restDelta:u,restSpeed:d}))};return _(0),{calculatedDuration:null,next:k=>{let A=!1;return!S&&N===void 0&&(A=!0,j(k),_(k)),N!==void 0&&k>=N?S.next(k-N):(!A&&j(k),m)}}}function Pk(e,t,s){const r=[],n=s||Gt.mix||Ax,a=e.length-1;for(let o=0;o<a;o++){let l=n(e[o],e[o+1]);if(t){const c=Array.isArray(t)?t[o]||ot:t;l=_i(c,l)}r.push(l)}return r}function Ek(e,t,{clamp:s=!0,ease:r,mixer:n}={}){const a=e.length;if(ro(a===t.length),a===1)return()=>t[0];if(a===2&&t[0]===t[1])return()=>t[1];const o=e[0]===e[1];e[0]>e[a-1]&&(e=[...e].reverse(),t=[...t].reverse());const l=Pk(t,r,n),c=l.length,u=d=>{if(o&&d<e[0])return t[0];let h=0;if(c>1)for(;h<e.length-2&&!(d<e[h+1]);h++);const m=ui(e[h],e[h+1],d);return l[h](m)};return s?d=>u(Ht(e[0],e[a-1],d)):u}function Tk(e,t){const s=e[e.length-1];for(let r=1;r<=t;r++){const n=ui(0,t,r);e.push(se(s,1,n))}}function Ak(e){const t=[0];return Tk(t,e.length-1),t}function Rk(e,t){return e.map(s=>s*t)}function Ok(e,t){return e.map(()=>t||bx).splice(0,e.length-1)}function zn({duration:e=300,keyframes:t,times:s,ease:r="easeInOut"}){const n=qS(r)?r.map(Mm):Mm(r),a={done:!1,value:t[0]},o=Rk(s&&s.length===t.length?s:Ak(t),e),l=Ek(o,t,{ease:Array.isArray(n)?n:Ok(t,n)});return{calculatedDuration:e,next:c=>(a.value=l(c),a.done=c>=e,a)}}const Dk=e=>e!==null;function Rd(e,{repeat:t,repeatType:s="loop"},r,n=1){const a=e.filter(Dk),l=n<0||t&&s!=="loop"&&t%2===1?0:a.length-1;return!l||r===void 0?a[l]:r}const Lk={decay:Yc,inertia:Yc,tween:zn,keyframes:zn,spring:ao};function Dx(e){typeof e.type=="string"&&(e.type=Lk[e.type])}class Od{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,s){return this.finished.then(t,s)}}const Mk=e=>e/100;class Dd extends Od{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,n;const{motionValue:s}=this.options;s&&s.updatedAt!==Ue.now()&&this.tick(Ue.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(n=(r=this.options).onStop)==null||n.call(r))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;Dx(t);const{type:s=zn,repeat:r=0,repeatDelay:n=0,repeatType:a,velocity:o=0}=t;let{keyframes:l}=t;const c=s||zn;c!==zn&&typeof l[0]!="number"&&(this.mixKeyframes=_i(Mk,Ax(l[0],l[1])),l=[0,100]);const u=c({...t,keyframes:l});a==="mirror"&&(this.mirroredGenerator=c({...t,keyframes:[...l].reverse(),velocity:-o})),u.calculatedDuration===null&&(u.calculatedDuration=Ad(u));const{calculatedDuration:d}=u;this.calculatedDuration=d,this.resolvedDuration=d+n,this.totalDuration=this.resolvedDuration*(r+1)-n,this.generator=u}updateTime(t){const s=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=s}tick(t,s=!1){const{generator:r,totalDuration:n,mixKeyframes:a,mirroredGenerator:o,resolvedDuration:l,calculatedDuration:c}=this;if(this.startTime===null)return r.next(0);const{delay:u=0,keyframes:d,repeat:h,repeatType:m,repeatDelay:x,type:w,onUpdate:b,finalKeyframe:y}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-n/this.speed,this.startTime)),s?this.currentTime=t:this.updateTime(t);const g=this.currentTime-u*(this.playbackSpeed>=0?1:-1),p=this.playbackSpeed>=0?g<0:g>n;this.currentTime=Math.max(g,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=n);let f=this.currentTime,j=r;if(h){const k=Math.min(this.currentTime,n)/l;let A=Math.floor(k),T=k%1;!T&&k>=1&&(T=1),T===1&&A--,A=Math.min(A,h+1),!!(A%2)&&(m==="reverse"?(T=1-T,x&&(T-=x/l)):m==="mirror"&&(j=o)),f=Ht(0,1,T)*l}const N=p?{done:!1,value:d[0]}:j.next(f);a&&(N.value=a(N.value));let{done:S}=N;!p&&c!==null&&(S=this.playbackSpeed>=0?this.currentTime>=n:this.currentTime<=0);const _=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&S);return _&&w!==Yc&&(N.value=Rd(d,this.options,y,this.speed)),b&&b(N.value),_&&this.finish(),N}then(t,s){return this.finished.then(t,s)}get duration(){return Tt(this.calculatedDuration)}get time(){return Tt(this.currentTime)}set time(t){var s;t=Et(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(s=this.driver)==null||s.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(Ue.now());const s=this.playbackSpeed!==t;this.playbackSpeed=t,s&&(this.time=Tt(this.currentTime))}play(){var n,a;if(this.isStopped)return;const{driver:t=vk,startTime:s}=this.options;this.driver||(this.driver=t(o=>this.tick(o))),(a=(n=this.options).onPlay)==null||a.call(n);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=s??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Ue.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,s;this.notifyFinished(),this.teardown(),this.state="finished",(s=(t=this.options).onComplete)==null||s.call(t)}cancel(){var t,s;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(s=(t=this.options).onCancel)==null||s.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var s;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(s=this.driver)==null||s.stop(),t.observe(this)}}function Ik(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const Gs=e=>e*180/Math.PI,Jc=e=>{const t=Gs(Math.atan2(e[1],e[0]));return Xc(t)},$k={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:Jc,rotateZ:Jc,skewX:e=>Gs(Math.atan(e[1])),skewY:e=>Gs(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},Xc=e=>(e=e%360,e<0&&(e+=360),e),Um=Jc,Wm=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),qm=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),Fk={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Wm,scaleY:qm,scale:e=>(Wm(e)+qm(e))/2,rotateX:e=>Xc(Gs(Math.atan2(e[6],e[5]))),rotateY:e=>Xc(Gs(Math.atan2(-e[2],e[0]))),rotateZ:Um,rotate:Um,skewX:e=>Gs(Math.atan(e[4])),skewY:e=>Gs(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function Zc(e){return e.includes("scale")?1:0}function eu(e,t){if(!e||e==="none")return Zc(t);const s=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,n;if(s)r=Fk,n=s;else{const l=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=$k,n=l}if(!n)return Zc(t);const a=r[t],o=n[1].split(",").map(Vk);return typeof a=="function"?a(o):o[a]}const zk=(e,t)=>{const{transform:s="none"}=getComputedStyle(e);return eu(s,t)};function Vk(e){return parseFloat(e.trim())}const on=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ln=new Set(on),Hm=e=>e===an||e===L,Bk=new Set(["x","y","z"]),Uk=on.filter(e=>!Bk.has(e));function Wk(e){const t=[];return Uk.forEach(s=>{const r=e.getValue(s);r!==void 0&&(t.push([s,r.get()]),r.set(s.startsWith("scale")?1:0))}),t}const Ys={width:({x:e},{paddingLeft:t="0",paddingRight:s="0"})=>e.max-e.min-parseFloat(t)-parseFloat(s),height:({y:e},{paddingTop:t="0",paddingBottom:s="0"})=>e.max-e.min-parseFloat(t)-parseFloat(s),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>eu(t,"x"),y:(e,{transform:t})=>eu(t,"y")};Ys.translateX=Ys.x;Ys.translateY=Ys.y;const Js=new Set;let tu=!1,su=!1,ru=!1;function Lx(){if(su){const e=Array.from(Js).filter(r=>r.needsMeasurement),t=new Set(e.map(r=>r.element)),s=new Map;t.forEach(r=>{const n=Wk(r);n.length&&(s.set(r,n),r.render())}),e.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const n=s.get(r);n&&n.forEach(([a,o])=>{var l;(l=r.getValue(a))==null||l.set(o)})}),e.forEach(r=>r.measureEndState()),e.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}su=!1,tu=!1,Js.forEach(e=>e.complete(ru)),Js.clear()}function Mx(){Js.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(su=!0)})}function qk(){ru=!0,Mx(),Lx(),ru=!1}class Ld{constructor(t,s,r,n,a,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=s,this.name=r,this.motionValue=n,this.element=a,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(Js.add(this),tu||(tu=!0,ne.read(Mx),ne.resolveKeyframes(Lx))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:s,element:r,motionValue:n}=this;if(t[0]===null){const a=n==null?void 0:n.get(),o=t[t.length-1];if(a!==void 0)t[0]=a;else if(r&&s){const l=r.readValue(s,o);l!=null&&(t[0]=l)}t[0]===void 0&&(t[0]=o),n&&a===void 0&&n.set(t[0])}Ik(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),Js.delete(this)}cancel(){this.state==="scheduled"&&(Js.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const Hk=e=>e.startsWith("--");function Gk(e,t,s){Hk(t)?e.style.setProperty(t,s):e.style[t]=s}const Kk=jd(()=>window.ScrollTimeline!==void 0),Qk={};function Yk(e,t){const s=jd(e);return()=>Qk[t]??s()}const Ix=Yk(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Sn=([e,t,s,r])=>`cubic-bezier(${e}, ${t}, ${s}, ${r})`,Gm={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Sn([0,.65,.55,1]),circOut:Sn([.55,0,1,.45]),backIn:Sn([.31,.01,.66,-.59]),backOut:Sn([.33,1.53,.69,.99])};function $x(e,t){if(e)return typeof e=="function"?Ix()?Rx(e,t):"ease-out":jx(e)?Sn(e):Array.isArray(e)?e.map(s=>$x(s,t)||Gm.easeOut):Gm[e]}function Jk(e,t,s,{delay:r=0,duration:n=300,repeat:a=0,repeatType:o="loop",ease:l="easeOut",times:c}={},u=void 0){const d={[t]:s};c&&(d.offset=c);const h=$x(l,n);Array.isArray(h)&&(d.easing=h);const m={delay:r,duration:n,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:a+1,direction:o==="reverse"?"alternate":"normal"};return u&&(m.pseudoElement=u),e.animate(d,m)}function Fx(e){return typeof e=="function"&&"applyToOptions"in e}function Xk({type:e,...t}){return Fx(e)&&Ix()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class Zk extends Od{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:s,name:r,keyframes:n,pseudoElement:a,allowFlatten:o=!1,finalKeyframe:l,onComplete:c}=t;this.isPseudoElement=!!a,this.allowFlatten=o,this.options=t,ro(typeof t.type!="string");const u=Xk(t);this.animation=Jk(s,r,n,u,a),u.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!a){const d=Rd(n,this.options,l,this.speed);this.updateMotionValue?this.updateMotionValue(d):Gk(s,r,d),this.animation.cancel()}c==null||c(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,s;(s=(t=this.animation).finish)==null||s.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,s;this.isPseudoElement||(s=(t=this.animation).commitStyles)==null||s.call(t)}get duration(){var s,r;const t=((r=(s=this.animation.effect)==null?void 0:s.getComputedTiming)==null?void 0:r.call(s).duration)||0;return Tt(Number(t))}get time(){return Tt(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=Et(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:s}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&Kk()?(this.animation.timeline=t,ot):s(this)}}const zx={anticipate:yx,backInOut:xx,circInOut:wx};function e4(e){return e in zx}function t4(e){typeof e.ease=="string"&&e4(e.ease)&&(e.ease=zx[e.ease])}const Km=10;class s4 extends Zk{constructor(t){t4(t),Dx(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:s,onUpdate:r,onComplete:n,element:a,...o}=this.options;if(!s)return;if(t!==void 0){s.set(t);return}const l=new Dd({...o,autoplay:!1}),c=Et(this.finishedTime??this.time);s.setWithVelocity(l.sample(c-Km).value,l.sample(c).value,Km),l.stop()}}const Qm=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Ss.test(e)||e==="0")&&!e.startsWith("url("));function r4(e){const t=e[0];if(e.length===1)return!0;for(let s=0;s<e.length;s++)if(e[s]!==t)return!0}function n4(e,t,s,r){const n=e[0];if(n===null)return!1;if(t==="display"||t==="visibility")return!0;const a=e[e.length-1],o=Qm(n,t),l=Qm(a,t);return!o||!l?!1:r4(e)||(s==="spring"||Fx(s))&&r}function Vx(e){return ux(e)&&"offsetHeight"in e}const i4=new Set(["opacity","clipPath","filter","transform"]),a4=jd(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function o4(e){var u;const{motionValue:t,name:s,repeatDelay:r,repeatType:n,damping:a,type:o}=e;if(!Vx((u=t==null?void 0:t.owner)==null?void 0:u.current))return!1;const{onUpdate:l,transformTemplate:c}=t.owner.getProps();return a4()&&s&&i4.has(s)&&(s!=="transform"||!c)&&!l&&!r&&n!=="mirror"&&a!==0&&o!=="inertia"}const l4=40;class c4 extends Od{constructor({autoplay:t=!0,delay:s=0,type:r="keyframes",repeat:n=0,repeatDelay:a=0,repeatType:o="loop",keyframes:l,name:c,motionValue:u,element:d,...h}){var w;super(),this.stop=()=>{var b,y;this._animation&&(this._animation.stop(),(b=this.stopTimeline)==null||b.call(this)),(y=this.keyframeResolver)==null||y.cancel()},this.createdAt=Ue.now();const m={autoplay:t,delay:s,type:r,repeat:n,repeatDelay:a,repeatType:o,name:c,motionValue:u,element:d,...h},x=(d==null?void 0:d.KeyframeResolver)||Ld;this.keyframeResolver=new x(l,(b,y,g)=>this.onKeyframesResolved(b,y,m,!g),c,u,d),(w=this.keyframeResolver)==null||w.scheduleResolve()}onKeyframesResolved(t,s,r,n){this.keyframeResolver=void 0;const{name:a,type:o,velocity:l,delay:c,isHandoff:u,onUpdate:d}=r;this.resolvedAt=Ue.now(),n4(t,a,o,l)||((Gt.instantAnimations||!c)&&(d==null||d(Rd(t,r,s))),t[0]=t[t.length-1],r.duration=0,r.repeat=0);const m={startTime:n?this.resolvedAt?this.resolvedAt-this.createdAt>l4?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:s,...r,keyframes:t},x=!u&&o4(m)?new s4({...m,element:m.motionValue.owner.current}):new Dd(m);x.finished.then(()=>this.notifyFinished()).catch(ot),this.pendingTimeline&&(this.stopTimeline=x.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=x}get finished(){return this._animation?this.animation.finished:this._finished}then(t,s){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),qk()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}const u4=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function d4(e){const t=u4.exec(e);if(!t)return[,];const[,s,r,n]=t;return[`--${s??r}`,n]}function Bx(e,t,s=1){const[r,n]=d4(e);if(!r)return;const a=window.getComputedStyle(t).getPropertyValue(r);if(a){const o=a.trim();return cx(o)?parseFloat(o):o}return Cd(n)?Bx(n,t,s+1):n}function Md(e,t){return(e==null?void 0:e[t])??(e==null?void 0:e.default)??e}const Ux=new Set(["width","height","top","left","right","bottom",...on]),h4={test:e=>e==="auto",parse:e=>e},Wx=e=>t=>t.test(e),qx=[an,L,At,Xt,rk,sk,h4],Ym=e=>qx.find(Wx(e));function m4(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||dx(e):!0}const f4=new Set(["brightness","contrast","saturate","opacity"]);function p4(e){const[t,s]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=s.match(Pd)||[];if(!r)return e;const n=s.replace(r,"");let a=f4.has(t)?1:0;return r!==s&&(a*=100),t+"("+a+n+")"}const g4=/\b([a-z-]*)\(.*?\)/gu,nu={...Ss,getAnimatableNone:e=>{const t=e.match(g4);return t?t.map(p4).join(" "):e}},Jm={...an,transform:Math.round},x4={rotate:Xt,rotateX:Xt,rotateY:Xt,rotateZ:Xt,scale:na,scaleX:na,scaleY:na,scaleZ:na,skew:Xt,skewX:Xt,skewY:Xt,distance:L,translateX:L,translateY:L,translateZ:L,x:L,y:L,z:L,perspective:L,transformPerspective:L,opacity:di,originX:$m,originY:$m,originZ:L},Id={borderWidth:L,borderTopWidth:L,borderRightWidth:L,borderBottomWidth:L,borderLeftWidth:L,borderRadius:L,radius:L,borderTopLeftRadius:L,borderTopRightRadius:L,borderBottomRightRadius:L,borderBottomLeftRadius:L,width:L,maxWidth:L,height:L,maxHeight:L,top:L,right:L,bottom:L,left:L,padding:L,paddingTop:L,paddingRight:L,paddingBottom:L,paddingLeft:L,margin:L,marginTop:L,marginRight:L,marginBottom:L,marginLeft:L,backgroundPositionX:L,backgroundPositionY:L,...x4,zIndex:Jm,fillOpacity:di,strokeOpacity:di,numOctaves:Jm},y4={...Id,color:Pe,backgroundColor:Pe,outlineColor:Pe,fill:Pe,stroke:Pe,borderColor:Pe,borderTopColor:Pe,borderRightColor:Pe,borderBottomColor:Pe,borderLeftColor:Pe,filter:nu,WebkitFilter:nu},Hx=e=>y4[e];function Gx(e,t){let s=Hx(e);return s!==nu&&(s=Ss),s.getAnimatableNone?s.getAnimatableNone(t):void 0}const v4=new Set(["auto","none","0"]);function w4(e,t,s){let r=0,n;for(;r<e.length&&!n;){const a=e[r];typeof a=="string"&&!v4.has(a)&&hi(a).values.length&&(n=e[r]),r++}if(n&&s)for(const a of t)e[a]=Gx(s,n)}class b4 extends Ld{constructor(t,s,r,n,a){super(t,s,r,n,a,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:s,name:r}=this;if(!s||!s.current)return;super.readKeyframes();for(let c=0;c<t.length;c++){let u=t[c];if(typeof u=="string"&&(u=u.trim(),Cd(u))){const d=Bx(u,s.current);d!==void 0&&(t[c]=d),c===t.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!Ux.has(r)||t.length!==2)return;const[n,a]=t,o=Ym(n),l=Ym(a);if(o!==l)if(Hm(o)&&Hm(l))for(let c=0;c<t.length;c++){const u=t[c];typeof u=="string"&&(t[c]=parseFloat(u))}else Ys[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:s}=this,r=[];for(let n=0;n<t.length;n++)(t[n]===null||m4(t[n]))&&r.push(n);r.length&&w4(t,r,s)}measureInitialState(){const{element:t,unresolvedKeyframes:s,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Ys[r](t.measureViewportBox(),window.getComputedStyle(t.current)),s[0]=this.measuredOrigin;const n=s[s.length-1];n!==void 0&&t.getValue(r,n).jump(n,!1)}measureEndState(){var l;const{element:t,name:s,unresolvedKeyframes:r}=this;if(!t||!t.current)return;const n=t.getValue(s);n&&n.jump(this.measuredOrigin,!1);const a=r.length-1,o=r[a];r[a]=Ys[s](t.measureViewportBox(),window.getComputedStyle(t.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(l=this.removedTransforms)!=null&&l.length&&this.removedTransforms.forEach(([c,u])=>{t.getValue(c).set(u)}),this.resolveNoneKeyframes()}}function j4(e,t,s){if(e instanceof EventTarget)return[e];if(typeof e=="string"){const n=document.querySelectorAll(e);return n?Array.from(n):[]}return Array.from(e)}const Kx=(e,t)=>t&&typeof e=="number"?t.transform(e):e,Xm=30,N4=e=>!isNaN(parseFloat(e));class S4{constructor(t,s={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,n=!0)=>{var o,l;const a=Ue.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((o=this.events.change)==null||o.notify(this.current),this.dependents))for(const c of this.dependents)c.dirty();n&&((l=this.events.renderRequest)==null||l.notify(this.current))},this.hasAnimated=!1,this.setCurrent(t),this.owner=s.owner}setCurrent(t){this.current=t,this.updatedAt=Ue.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=N4(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,s){this.events[t]||(this.events[t]=new Nd);const r=this.events[t].add(s);return t==="change"?()=>{r(),ne.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,s){this.passiveEffect=t,this.stopPassiveEffect=s}set(t,s=!0){!s||!this.passiveEffect?this.updateAndNotify(t,s):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,s,r){this.set(s),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,s=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,s&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Ue.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>Xm)return 0;const s=Math.min(this.updatedAt-this.prevUpdatedAt,Xm);return hx(parseFloat(this.current)-parseFloat(this.prevFrameValue),s)}start(t){return this.stop(),new Promise(s=>{this.hasAnimated=!0,this.animation=t(s),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,s;(t=this.dependents)==null||t.clear(),(s=this.events.destroy)==null||s.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Qr(e,t){return new S4(e,t)}const{schedule:$d,cancel:s3}=Nx(queueMicrotask,!1),ft={x:!1,y:!1};function Qx(){return ft.x||ft.y}function k4(e){return e==="x"||e==="y"?ft[e]?null:(ft[e]=!0,()=>{ft[e]=!1}):ft.x||ft.y?null:(ft.x=ft.y=!0,()=>{ft.x=ft.y=!1})}function Yx(e,t){const s=j4(e),r=new AbortController,n={passive:!0,...t,signal:r.signal};return[s,n,()=>r.abort()]}function Zm(e){return!(e.pointerType==="touch"||Qx())}function _4(e,t,s={}){const[r,n,a]=Yx(e,s),o=l=>{if(!Zm(l))return;const{target:c}=l,u=t(c,l);if(typeof u!="function"||!c)return;const d=h=>{Zm(h)&&(u(h),c.removeEventListener("pointerleave",d))};c.addEventListener("pointerleave",d,n)};return r.forEach(l=>{l.addEventListener("pointerenter",o,n)}),a}const Jx=(e,t)=>t?e===t?!0:Jx(e,t.parentElement):!1,Fd=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,C4=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function P4(e){return C4.has(e.tagName)||e.tabIndex!==-1}const wa=new WeakSet;function ef(e){return t=>{t.key==="Enter"&&e(t)}}function _l(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const E4=(e,t)=>{const s=e.currentTarget;if(!s)return;const r=ef(()=>{if(wa.has(s))return;_l(s,"down");const n=ef(()=>{_l(s,"up")}),a=()=>_l(s,"cancel");s.addEventListener("keyup",n,t),s.addEventListener("blur",a,t)});s.addEventListener("keydown",r,t),s.addEventListener("blur",()=>s.removeEventListener("keydown",r),t)};function tf(e){return Fd(e)&&!Qx()}function T4(e,t,s={}){const[r,n,a]=Yx(e,s),o=l=>{const c=l.currentTarget;if(!tf(l))return;wa.add(c);const u=t(c,l),d=(x,w)=>{window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",m),wa.has(c)&&wa.delete(c),tf(x)&&typeof u=="function"&&u(x,{success:w})},h=x=>{d(x,c===window||c===document||s.useGlobalTarget||Jx(c,x.target))},m=x=>{d(x,!1)};window.addEventListener("pointerup",h,n),window.addEventListener("pointercancel",m,n)};return r.forEach(l=>{(s.useGlobalTarget?window:l).addEventListener("pointerdown",o,n),Vx(l)&&(l.addEventListener("focus",u=>E4(u,n)),!P4(l)&&!l.hasAttribute("tabindex")&&(l.tabIndex=0))}),a}function Xx(e){return ux(e)&&"ownerSVGElement"in e}function A4(e){return Xx(e)&&e.tagName==="svg"}const Te=e=>!!(e&&e.getVelocity),R4=[...qx,Pe,Ss],O4=e=>R4.find(Wx(e)),Zx=v.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function D4(e=!0){const t=v.useContext(vd);if(t===null)return[!0,null];const{isPresent:s,onExitComplete:r,register:n}=t,a=v.useId();v.useEffect(()=>{if(e)return n(a)},[e]);const o=v.useCallback(()=>e&&r&&r(a),[a,r,e]);return!s&&r?[!1,o]:[!0]}const ey=v.createContext({strict:!1}),sf={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Yr={};for(const e in sf)Yr[e]={isEnabled:t=>sf[e].some(s=>!!t[s])};function L4(e){for(const t in e)Yr[t]={...Yr[t],...e[t]}}const M4=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function oo(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||M4.has(e)}let ty=e=>!oo(e);function I4(e){e&&(ty=t=>t.startsWith("on")?!oo(t):e(t))}try{I4(require("@emotion/is-prop-valid").default)}catch{}function $4(e,t,s){const r={};for(const n in e)n==="values"&&typeof e.values=="object"||(ty(n)||s===!0&&oo(n)||!t&&!oo(n)||e.draggable&&n.startsWith("onDrag"))&&(r[n]=e[n]);return r}function F4(e){if(typeof Proxy>"u")return e;const t=new Map,s=(...r)=>e(...r);return new Proxy(s,{get:(r,n)=>n==="create"?e:(t.has(n)||t.set(n,e(n)),t.get(n))})}const Mo=v.createContext({});function Io(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function mi(e){return typeof e=="string"||Array.isArray(e)}const zd=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Vd=["initial",...zd];function $o(e){return Io(e.animate)||Vd.some(t=>mi(e[t]))}function sy(e){return!!($o(e)||e.variants)}function z4(e,t){if($o(e)){const{initial:s,animate:r}=e;return{initial:s===!1||mi(s)?s:void 0,animate:mi(r)?r:void 0}}return e.inherit!==!1?t:{}}function V4(e){const{initial:t,animate:s}=z4(e,v.useContext(Mo));return v.useMemo(()=>({initial:t,animate:s}),[rf(t),rf(s)])}function rf(e){return Array.isArray(e)?e.join(" "):e}const B4=Symbol.for("motionComponentSymbol");function Cr(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function U4(e,t,s){return v.useCallback(r=>{r&&e.onMount&&e.onMount(r),t&&(r?t.mount(r):t.unmount()),s&&(typeof s=="function"?s(r):Cr(s)&&(s.current=r))},[t])}const Bd=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),W4="framerAppearId",ry="data-"+Bd(W4),ny=v.createContext({});function q4(e,t,s,r,n){var b,y;const{visualElement:a}=v.useContext(Mo),o=v.useContext(ey),l=v.useContext(vd),c=v.useContext(Zx).reducedMotion,u=v.useRef(null);r=r||o.renderer,!u.current&&r&&(u.current=r(e,{visualState:t,parent:a,props:s,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:c}));const d=u.current,h=v.useContext(ny);d&&!d.projection&&n&&(d.type==="html"||d.type==="svg")&&H4(u.current,s,n,h);const m=v.useRef(!1);v.useInsertionEffect(()=>{d&&m.current&&d.update(s,l)});const x=s[ry],w=v.useRef(!!x&&!((b=window.MotionHandoffIsComplete)!=null&&b.call(window,x))&&((y=window.MotionHasOptimisedAnimation)==null?void 0:y.call(window,x)));return $S(()=>{d&&(m.current=!0,window.MotionIsMounted=!0,d.updateFeatures(),$d.render(d.render),w.current&&d.animationState&&d.animationState.animateChanges())}),v.useEffect(()=>{d&&(!w.current&&d.animationState&&d.animationState.animateChanges(),w.current&&(queueMicrotask(()=>{var g;(g=window.MotionHandoffMarkAsComplete)==null||g.call(window,x)}),w.current=!1))}),d}function H4(e,t,s,r){const{layoutId:n,layout:a,drag:o,dragConstraints:l,layoutScroll:c,layoutRoot:u,layoutCrossfade:d}=t;e.projection=new s(e.latestValues,t["data-framer-portal-id"]?void 0:iy(e.parent)),e.projection.setOptions({layoutId:n,layout:a,alwaysMeasureLayout:!!o||l&&Cr(l),visualElement:e,animationType:typeof a=="string"?a:"both",initialPromotionConfig:r,crossfade:d,layoutScroll:c,layoutRoot:u})}function iy(e){if(e)return e.options.allowProjection!==!1?e.projection:iy(e.parent)}function G4({preloadedFeatures:e,createVisualElement:t,useRender:s,useVisualState:r,Component:n}){e&&L4(e);function a(l,c){let u;const d={...v.useContext(Zx),...l,layoutId:K4(l)},{isStatic:h}=d,m=V4(l),x=r(l,h);if(!h&&yd){Q4();const w=Y4(d);u=w.MeasureLayout,m.visualElement=q4(n,x,d,t,w.ProjectionNode)}return i.jsxs(Mo.Provider,{value:m,children:[u&&m.visualElement?i.jsx(u,{visualElement:m.visualElement,...d}):null,s(n,l,U4(x,m.visualElement,c),x,h,m.visualElement)]})}a.displayName=`motion.${typeof n=="string"?n:`create(${n.displayName??n.name??""})`}`;const o=v.forwardRef(a);return o[B4]=n,o}function K4({layoutId:e}){const t=v.useContext(lx).id;return t&&e!==void 0?t+"-"+e:e}function Q4(e,t){v.useContext(ey).strict}function Y4(e){const{drag:t,layout:s}=Yr;if(!t&&!s)return{};const r={...t,...s};return{MeasureLayout:t!=null&&t.isEnabled(e)||s!=null&&s.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const fi={};function J4(e){for(const t in e)fi[t]=e[t],_d(t)&&(fi[t].isCSSVariable=!0)}function ay(e,{layout:t,layoutId:s}){return ln.has(e)||e.startsWith("origin")||(t||s!==void 0)&&(!!fi[e]||e==="opacity")}const X4={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Z4=on.length;function e_(e,t,s){let r="",n=!0;for(let a=0;a<Z4;a++){const o=on[a],l=e[o];if(l===void 0)continue;let c=!0;if(typeof l=="number"?c=l===(o.startsWith("scale")?1:0):c=parseFloat(l)===0,!c||s){const u=Kx(l,Id[o]);if(!c){n=!1;const d=X4[o]||o;r+=`${d}(${u}) `}s&&(t[o]=u)}}return r=r.trim(),s?r=s(t,n?"":r):n&&(r="none"),r}function Ud(e,t,s){const{style:r,vars:n,transformOrigin:a}=e;let o=!1,l=!1;for(const c in t){const u=t[c];if(ln.has(c)){o=!0;continue}else if(_d(c)){n[c]=u;continue}else{const d=Kx(u,Id[c]);c.startsWith("origin")?(l=!0,a[c]=d):r[c]=d}}if(t.transform||(o||s?r.transform=e_(t,e.transform,s):r.transform&&(r.transform="none")),l){const{originX:c="50%",originY:u="50%",originZ:d=0}=a;r.transformOrigin=`${c} ${u} ${d}`}}const Wd=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function oy(e,t,s){for(const r in t)!Te(t[r])&&!ay(r,s)&&(e[r]=t[r])}function t_({transformTemplate:e},t){return v.useMemo(()=>{const s=Wd();return Ud(s,t,e),Object.assign({},s.vars,s.style)},[t])}function s_(e,t){const s=e.style||{},r={};return oy(r,s,e),Object.assign(r,t_(e,t)),r}function r_(e,t){const s={},r=s_(e,t);return e.drag&&e.dragListener!==!1&&(s.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(s.tabIndex=0),s.style=r,s}const n_={offset:"stroke-dashoffset",array:"stroke-dasharray"},i_={offset:"strokeDashoffset",array:"strokeDasharray"};function a_(e,t,s=1,r=0,n=!0){e.pathLength=1;const a=n?n_:i_;e[a.offset]=L.transform(-r);const o=L.transform(t),l=L.transform(s);e[a.array]=`${o} ${l}`}function ly(e,{attrX:t,attrY:s,attrScale:r,pathLength:n,pathSpacing:a=1,pathOffset:o=0,...l},c,u,d){if(Ud(e,l,u),c){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:h,style:m}=e;h.transform&&(m.transform=h.transform,delete h.transform),(m.transform||h.transformOrigin)&&(m.transformOrigin=h.transformOrigin??"50% 50%",delete h.transformOrigin),m.transform&&(m.transformBox=(d==null?void 0:d.transformBox)??"fill-box",delete h.transformBox),t!==void 0&&(h.x=t),s!==void 0&&(h.y=s),r!==void 0&&(h.scale=r),n!==void 0&&a_(h,n,a,o,!1)}const cy=()=>({...Wd(),attrs:{}}),uy=e=>typeof e=="string"&&e.toLowerCase()==="svg";function o_(e,t,s,r){const n=v.useMemo(()=>{const a=cy();return ly(a,t,uy(r),e.transformTemplate,e.style),{...a.attrs,style:{...a.style}}},[t]);if(e.style){const a={};oy(a,e.style,e),n.style={...a,...n.style}}return n}const l_=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function qd(e){return typeof e!="string"||e.includes("-")?!1:!!(l_.indexOf(e)>-1||/[A-Z]/u.test(e))}function c_(e=!1){return(s,r,n,{latestValues:a},o)=>{const c=(qd(s)?o_:r_)(r,a,o,s),u=$4(r,typeof s=="string",e),d=s!==v.Fragment?{...u,...c,ref:n}:{},{children:h}=r,m=v.useMemo(()=>Te(h)?h.get():h,[h]);return v.createElement(s,{...d,children:m})}}function nf(e){const t=[{},{}];return e==null||e.values.forEach((s,r)=>{t[0][r]=s.get(),t[1][r]=s.getVelocity()}),t}function Hd(e,t,s,r){if(typeof t=="function"){const[n,a]=nf(r);t=t(s!==void 0?s:e.custom,n,a)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[n,a]=nf(r);t=t(s!==void 0?s:e.custom,n,a)}return t}function ba(e){return Te(e)?e.get():e}function u_({scrapeMotionValuesFromProps:e,createRenderState:t},s,r,n){return{latestValues:d_(s,r,n,e),renderState:t()}}const dy=e=>(t,s)=>{const r=v.useContext(Mo),n=v.useContext(vd),a=()=>u_(e,t,r,n);return s?a():IS(a)};function d_(e,t,s,r){const n={},a=r(e,{});for(const m in a)n[m]=ba(a[m]);let{initial:o,animate:l}=e;const c=$o(e),u=sy(e);t&&u&&!c&&e.inherit!==!1&&(o===void 0&&(o=t.initial),l===void 0&&(l=t.animate));let d=s?s.initial===!1:!1;d=d||o===!1;const h=d?l:o;if(h&&typeof h!="boolean"&&!Io(h)){const m=Array.isArray(h)?h:[h];for(let x=0;x<m.length;x++){const w=Hd(e,m[x]);if(w){const{transitionEnd:b,transition:y,...g}=w;for(const p in g){let f=g[p];if(Array.isArray(f)){const j=d?f.length-1:0;f=f[j]}f!==null&&(n[p]=f)}for(const p in b)n[p]=b[p]}}}return n}function Gd(e,t,s){var a;const{style:r}=e,n={};for(const o in r)(Te(r[o])||t.style&&Te(t.style[o])||ay(o,e)||((a=s==null?void 0:s.getValue(o))==null?void 0:a.liveStyle)!==void 0)&&(n[o]=r[o]);return n}const h_={useVisualState:dy({scrapeMotionValuesFromProps:Gd,createRenderState:Wd})};function hy(e,t,s){const r=Gd(e,t,s);for(const n in e)if(Te(e[n])||Te(t[n])){const a=on.indexOf(n)!==-1?"attr"+n.charAt(0).toUpperCase()+n.substring(1):n;r[a]=e[n]}return r}const m_={useVisualState:dy({scrapeMotionValuesFromProps:hy,createRenderState:cy})};function f_(e,t){return function(r,{forwardMotionProps:n}={forwardMotionProps:!1}){const o={...qd(r)?m_:h_,preloadedFeatures:e,useRender:c_(n),createVisualElement:t,Component:r};return G4(o)}}function pi(e,t,s){const r=e.getProps();return Hd(r,t,s!==void 0?s:r.custom,e)}const iu=e=>Array.isArray(e);function p_(e,t,s){e.hasValue(t)?e.getValue(t).set(s):e.addValue(t,Qr(s))}function g_(e){return iu(e)?e[e.length-1]||0:e}function x_(e,t){const s=pi(e,t);let{transitionEnd:r={},transition:n={},...a}=s||{};a={...a,...r};for(const o in a){const l=g_(a[o]);p_(e,o,l)}}function y_(e){return!!(Te(e)&&e.add)}function au(e,t){const s=e.getValue("willChange");if(y_(s))return s.add(t);if(!s&&Gt.WillChange){const r=new Gt.WillChange("auto");e.addValue("willChange",r),r.add(t)}}function my(e){return e.props[ry]}const v_=e=>e!==null;function w_(e,{repeat:t,repeatType:s="loop"},r){const n=e.filter(v_),a=t&&s!=="loop"&&t%2===1?0:n.length-1;return!a||r===void 0?n[a]:r}const b_={type:"spring",stiffness:500,damping:25,restSpeed:10},j_=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),N_={type:"keyframes",duration:.8},S_={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},k_=(e,{keyframes:t})=>t.length>2?N_:ln.has(e)?e.startsWith("scale")?j_(t[1]):b_:S_;function __({when:e,delay:t,delayChildren:s,staggerChildren:r,staggerDirection:n,repeat:a,repeatType:o,repeatDelay:l,from:c,elapsed:u,...d}){return!!Object.keys(d).length}const Kd=(e,t,s,r={},n,a)=>o=>{const l=Md(r,e)||{},c=l.delay||r.delay||0;let{elapsed:u=0}=r;u=u-Et(c);const d={keyframes:Array.isArray(s)?s:[null,s],ease:"easeOut",velocity:t.getVelocity(),...l,delay:-u,onUpdate:m=>{t.set(m),l.onUpdate&&l.onUpdate(m)},onComplete:()=>{o(),l.onComplete&&l.onComplete()},name:e,motionValue:t,element:a?void 0:n};__(l)||Object.assign(d,k_(e,d)),d.duration&&(d.duration=Et(d.duration)),d.repeatDelay&&(d.repeatDelay=Et(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let h=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(d.duration=0,d.delay===0&&(h=!0)),(Gt.instantAnimations||Gt.skipAnimations)&&(h=!0,d.duration=0,d.delay=0),d.allowFlatten=!l.type&&!l.ease,h&&!a&&t.get()!==void 0){const m=w_(d.keyframes,l);if(m!==void 0){ne.update(()=>{d.onUpdate(m),d.onComplete()});return}}return l.isSync?new Dd(d):new c4(d)};function C_({protectedKeys:e,needsAnimating:t},s){const r=e.hasOwnProperty(s)&&t[s]!==!0;return t[s]=!1,r}function fy(e,t,{delay:s=0,transitionOverride:r,type:n}={}){let{transition:a=e.getDefaultTransition(),transitionEnd:o,...l}=t;r&&(a=r);const c=[],u=n&&e.animationState&&e.animationState.getState()[n];for(const d in l){const h=e.getValue(d,e.latestValues[d]??null),m=l[d];if(m===void 0||u&&C_(u,d))continue;const x={delay:s,...Md(a||{},d)},w=h.get();if(w!==void 0&&!h.isAnimating&&!Array.isArray(m)&&m===w&&!x.velocity)continue;let b=!1;if(window.MotionHandoffAnimation){const g=my(e);if(g){const p=window.MotionHandoffAnimation(g,d,ne);p!==null&&(x.startTime=p,b=!0)}}au(e,d),h.start(Kd(d,h,m,e.shouldReduceMotion&&Ux.has(d)?{type:!1}:x,e,b));const y=h.animation;y&&c.push(y)}return o&&Promise.all(c).then(()=>{ne.update(()=>{o&&x_(e,o)})}),c}function ou(e,t,s={}){var c;const r=pi(e,t,s.type==="exit"?(c=e.presenceContext)==null?void 0:c.custom:void 0);let{transition:n=e.getDefaultTransition()||{}}=r||{};s.transitionOverride&&(n=s.transitionOverride);const a=r?()=>Promise.all(fy(e,r,s)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(u=0)=>{const{delayChildren:d=0,staggerChildren:h,staggerDirection:m}=n;return P_(e,t,d+u,h,m,s)}:()=>Promise.resolve(),{when:l}=n;if(l){const[u,d]=l==="beforeChildren"?[a,o]:[o,a];return u().then(()=>d())}else return Promise.all([a(),o(s.delay)])}function P_(e,t,s=0,r=0,n=1,a){const o=[],l=(e.variantChildren.size-1)*r,c=n===1?(u=0)=>u*r:(u=0)=>l-u*r;return Array.from(e.variantChildren).sort(E_).forEach((u,d)=>{u.notify("AnimationStart",t),o.push(ou(u,t,{...a,delay:s+c(d)}).then(()=>u.notify("AnimationComplete",t)))}),Promise.all(o)}function E_(e,t){return e.sortNodePosition(t)}function T_(e,t,s={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const n=t.map(a=>ou(e,a,s));r=Promise.all(n)}else if(typeof t=="string")r=ou(e,t,s);else{const n=typeof t=="function"?pi(e,t,s.custom):t;r=Promise.all(fy(e,n,s))}return r.then(()=>{e.notify("AnimationComplete",t)})}function py(e,t){if(!Array.isArray(t))return!1;const s=t.length;if(s!==e.length)return!1;for(let r=0;r<s;r++)if(t[r]!==e[r])return!1;return!0}const A_=Vd.length;function gy(e){if(!e)return;if(!e.isControllingVariants){const s=e.parent?gy(e.parent)||{}:{};return e.props.initial!==void 0&&(s.initial=e.props.initial),s}const t={};for(let s=0;s<A_;s++){const r=Vd[s],n=e.props[r];(mi(n)||n===!1)&&(t[r]=n)}return t}const R_=[...zd].reverse(),O_=zd.length;function D_(e){return t=>Promise.all(t.map(({animation:s,options:r})=>T_(e,s,r)))}function L_(e){let t=D_(e),s=af(),r=!0;const n=c=>(u,d)=>{var m;const h=pi(e,d,c==="exit"?(m=e.presenceContext)==null?void 0:m.custom:void 0);if(h){const{transition:x,transitionEnd:w,...b}=h;u={...u,...b,...w}}return u};function a(c){t=c(e)}function o(c){const{props:u}=e,d=gy(e.parent)||{},h=[],m=new Set;let x={},w=1/0;for(let y=0;y<O_;y++){const g=R_[y],p=s[g],f=u[g]!==void 0?u[g]:d[g],j=mi(f),N=g===c?p.isActive:null;N===!1&&(w=y);let S=f===d[g]&&f!==u[g]&&j;if(S&&r&&e.manuallyAnimateOnMount&&(S=!1),p.protectedKeys={...x},!p.isActive&&N===null||!f&&!p.prevProp||Io(f)||typeof f=="boolean")continue;const _=M_(p.prevProp,f);let k=_||g===c&&p.isActive&&!S&&j||y>w&&j,A=!1;const T=Array.isArray(f)?f:[f];let H=T.reduce(n(g),{});N===!1&&(H={});const{prevResolvedValues:B={}}=p,G={...B,...H},Z=W=>{k=!0,m.has(W)&&(A=!0,m.delete(W)),p.needsAnimating[W]=!0;const C=e.getValue(W);C&&(C.liveStyle=!1)};for(const W in G){const C=H[W],D=B[W];if(x.hasOwnProperty(W))continue;let I=!1;iu(C)&&iu(D)?I=!py(C,D):I=C!==D,I?C!=null?Z(W):m.add(W):C!==void 0&&m.has(W)?Z(W):p.protectedKeys[W]=!0}p.prevProp=f,p.prevResolvedValues=H,p.isActive&&(x={...x,...H}),r&&e.blockInitialAnimation&&(k=!1),k&&(!(S&&_)||A)&&h.push(...T.map(W=>({animation:W,options:{type:g}})))}if(m.size){const y={};if(typeof u.initial!="boolean"){const g=pi(e,Array.isArray(u.initial)?u.initial[0]:u.initial);g&&g.transition&&(y.transition=g.transition)}m.forEach(g=>{const p=e.getBaseTarget(g),f=e.getValue(g);f&&(f.liveStyle=!0),y[g]=p??null}),h.push({animation:y})}let b=!!h.length;return r&&(u.initial===!1||u.initial===u.animate)&&!e.manuallyAnimateOnMount&&(b=!1),r=!1,b?t(h):Promise.resolve()}function l(c,u){var h;if(s[c].isActive===u)return Promise.resolve();(h=e.variantChildren)==null||h.forEach(m=>{var x;return(x=m.animationState)==null?void 0:x.setActive(c,u)}),s[c].isActive=u;const d=o(c);for(const m in s)s[m].protectedKeys={};return d}return{animateChanges:o,setActive:l,setAnimateFunction:a,getState:()=>s,reset:()=>{s=af(),r=!0}}}function M_(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!py(t,e):!1}function Ms(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function af(){return{animate:Ms(!0),whileInView:Ms(),whileHover:Ms(),whileTap:Ms(),whileDrag:Ms(),whileFocus:Ms(),exit:Ms()}}class Rs{constructor(t){this.isMounted=!1,this.node=t}update(){}}class I_ extends Rs{constructor(t){super(t),t.animationState||(t.animationState=L_(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Io(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:s}=this.node.prevProps||{};t!==s&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let $_=0;class F_ extends Rs{constructor(){super(...arguments),this.id=$_++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:s}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const n=this.node.animationState.setActive("exit",!t);s&&!t&&n.then(()=>{s(this.id)})}mount(){const{register:t,onExitComplete:s}=this.node.presenceContext||{};s&&s(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const z_={animation:{Feature:I_},exit:{Feature:F_}};function gi(e,t,s,r={passive:!0}){return e.addEventListener(t,s,r),()=>e.removeEventListener(t,s)}function Ei(e){return{point:{x:e.pageX,y:e.pageY}}}const V_=e=>t=>Fd(t)&&e(t,Ei(t));function Vn(e,t,s,r){return gi(e,t,V_(s),r)}function xy({top:e,left:t,right:s,bottom:r}){return{x:{min:t,max:s},y:{min:e,max:r}}}function B_({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function U_(e,t){if(!t)return e;const s=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:s.y,left:s.x,bottom:r.y,right:r.x}}const yy=1e-4,W_=1-yy,q_=1+yy,vy=.01,H_=0-vy,G_=0+vy;function Le(e){return e.max-e.min}function K_(e,t,s){return Math.abs(e-t)<=s}function of(e,t,s,r=.5){e.origin=r,e.originPoint=se(t.min,t.max,e.origin),e.scale=Le(s)/Le(t),e.translate=se(s.min,s.max,e.origin)-e.originPoint,(e.scale>=W_&&e.scale<=q_||isNaN(e.scale))&&(e.scale=1),(e.translate>=H_&&e.translate<=G_||isNaN(e.translate))&&(e.translate=0)}function Bn(e,t,s,r){of(e.x,t.x,s.x,r?r.originX:void 0),of(e.y,t.y,s.y,r?r.originY:void 0)}function lf(e,t,s){e.min=s.min+t.min,e.max=e.min+Le(t)}function Q_(e,t,s){lf(e.x,t.x,s.x),lf(e.y,t.y,s.y)}function cf(e,t,s){e.min=t.min-s.min,e.max=e.min+Le(t)}function Un(e,t,s){cf(e.x,t.x,s.x),cf(e.y,t.y,s.y)}const uf=()=>({translate:0,scale:1,origin:0,originPoint:0}),Pr=()=>({x:uf(),y:uf()}),df=()=>({min:0,max:0}),ue=()=>({x:df(),y:df()});function st(e){return[e("x"),e("y")]}function Cl(e){return e===void 0||e===1}function lu({scale:e,scaleX:t,scaleY:s}){return!Cl(e)||!Cl(t)||!Cl(s)}function zs(e){return lu(e)||wy(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function wy(e){return hf(e.x)||hf(e.y)}function hf(e){return e&&e!=="0%"}function lo(e,t,s){const r=e-s,n=t*r;return s+n}function mf(e,t,s,r,n){return n!==void 0&&(e=lo(e,n,r)),lo(e,s,r)+t}function cu(e,t=0,s=1,r,n){e.min=mf(e.min,t,s,r,n),e.max=mf(e.max,t,s,r,n)}function by(e,{x:t,y:s}){cu(e.x,t.translate,t.scale,t.originPoint),cu(e.y,s.translate,s.scale,s.originPoint)}const ff=.999999999999,pf=1.0000000000001;function Y_(e,t,s,r=!1){const n=s.length;if(!n)return;t.x=t.y=1;let a,o;for(let l=0;l<n;l++){a=s[l],o=a.projectionDelta;const{visualElement:c}=a.options;c&&c.props.style&&c.props.style.display==="contents"||(r&&a.options.layoutScroll&&a.scroll&&a!==a.root&&Tr(e,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,by(e,o)),r&&zs(a.latestValues)&&Tr(e,a.latestValues))}t.x<pf&&t.x>ff&&(t.x=1),t.y<pf&&t.y>ff&&(t.y=1)}function Er(e,t){e.min=e.min+t,e.max=e.max+t}function gf(e,t,s,r,n=.5){const a=se(e.min,e.max,n);cu(e,t,s,a,r)}function Tr(e,t){gf(e.x,t.x,t.scaleX,t.scale,t.originX),gf(e.y,t.y,t.scaleY,t.scale,t.originY)}function jy(e,t){return xy(U_(e.getBoundingClientRect(),t))}function J_(e,t,s){const r=jy(e,s),{scroll:n}=t;return n&&(Er(r.x,n.offset.x),Er(r.y,n.offset.y)),r}const Ny=({current:e})=>e?e.ownerDocument.defaultView:null,xf=(e,t)=>Math.abs(e-t);function X_(e,t){const s=xf(e.x,t.x),r=xf(e.y,t.y);return Math.sqrt(s**2+r**2)}class Sy{constructor(t,s,{transformPagePoint:r,contextWindow:n,dragSnapToOrigin:a=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=El(this.lastMoveEventInfo,this.history),m=this.startEvent!==null,x=X_(h.offset,{x:0,y:0})>=3;if(!m&&!x)return;const{point:w}=h,{timestamp:b}=je;this.history.push({...w,timestamp:b});const{onStart:y,onMove:g}=this.handlers;m||(y&&y(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),g&&g(this.lastMoveEvent,h)},this.handlePointerMove=(h,m)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=Pl(m,this.transformPagePoint),ne.update(this.updatePoint,!0)},this.handlePointerUp=(h,m)=>{this.end();const{onEnd:x,onSessionEnd:w,resumeAnimation:b}=this.handlers;if(this.dragSnapToOrigin&&b&&b(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const y=El(h.type==="pointercancel"?this.lastMoveEventInfo:Pl(m,this.transformPagePoint),this.history);this.startEvent&&x&&x(h,y),w&&w(h,y)},!Fd(t))return;this.dragSnapToOrigin=a,this.handlers=s,this.transformPagePoint=r,this.contextWindow=n||window;const o=Ei(t),l=Pl(o,this.transformPagePoint),{point:c}=l,{timestamp:u}=je;this.history=[{...c,timestamp:u}];const{onSessionStart:d}=s;d&&d(t,El(l,this.history)),this.removeListeners=_i(Vn(this.contextWindow,"pointermove",this.handlePointerMove),Vn(this.contextWindow,"pointerup",this.handlePointerUp),Vn(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Ns(this.updatePoint)}}function Pl(e,t){return t?{point:t(e.point)}:e}function yf(e,t){return{x:e.x-t.x,y:e.y-t.y}}function El({point:e},t){return{point:e,delta:yf(e,ky(t)),offset:yf(e,Z_(t)),velocity:eC(t,.1)}}function Z_(e){return e[0]}function ky(e){return e[e.length-1]}function eC(e,t){if(e.length<2)return{x:0,y:0};let s=e.length-1,r=null;const n=ky(e);for(;s>=0&&(r=e[s],!(n.timestamp-r.timestamp>Et(t)));)s--;if(!r)return{x:0,y:0};const a=Tt(n.timestamp-r.timestamp);if(a===0)return{x:0,y:0};const o={x:(n.x-r.x)/a,y:(n.y-r.y)/a};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function tC(e,{min:t,max:s},r){return t!==void 0&&e<t?e=r?se(t,e,r.min):Math.max(e,t):s!==void 0&&e>s&&(e=r?se(s,e,r.max):Math.min(e,s)),e}function vf(e,t,s){return{min:t!==void 0?e.min+t:void 0,max:s!==void 0?e.max+s-(e.max-e.min):void 0}}function sC(e,{top:t,left:s,bottom:r,right:n}){return{x:vf(e.x,s,n),y:vf(e.y,t,r)}}function wf(e,t){let s=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([s,r]=[r,s]),{min:s,max:r}}function rC(e,t){return{x:wf(e.x,t.x),y:wf(e.y,t.y)}}function nC(e,t){let s=.5;const r=Le(e),n=Le(t);return n>r?s=ui(t.min,t.max-r,e.min):r>n&&(s=ui(e.min,e.max-n,t.min)),Ht(0,1,s)}function iC(e,t){const s={};return t.min!==void 0&&(s.min=t.min-e.min),t.max!==void 0&&(s.max=t.max-e.min),s}const uu=.35;function aC(e=uu){return e===!1?e=0:e===!0&&(e=uu),{x:bf(e,"left","right"),y:bf(e,"top","bottom")}}function bf(e,t,s){return{min:jf(e,t),max:jf(e,s)}}function jf(e,t){return typeof e=="number"?e:e[t]||0}const oC=new WeakMap;class lC{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ue(),this.visualElement=t}start(t,{snapToCursor:s=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const n=d=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),s&&this.snapToCursor(Ei(d).point)},a=(d,h)=>{const{drag:m,dragPropagation:x,onDragStart:w}=this.getProps();if(m&&!x&&(this.openDragLock&&this.openDragLock(),this.openDragLock=k4(m),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),st(y=>{let g=this.getAxisMotionValue(y).get()||0;if(At.test(g)){const{projection:p}=this.visualElement;if(p&&p.layout){const f=p.layout.layoutBox[y];f&&(g=Le(f)*(parseFloat(g)/100))}}this.originPoint[y]=g}),w&&ne.postRender(()=>w(d,h)),au(this.visualElement,"transform");const{animationState:b}=this.visualElement;b&&b.setActive("whileDrag",!0)},o=(d,h)=>{const{dragPropagation:m,dragDirectionLock:x,onDirectionLock:w,onDrag:b}=this.getProps();if(!m&&!this.openDragLock)return;const{offset:y}=h;if(x&&this.currentDirection===null){this.currentDirection=cC(y),this.currentDirection!==null&&w&&w(this.currentDirection);return}this.updateAxis("x",h.point,y),this.updateAxis("y",h.point,y),this.visualElement.render(),b&&b(d,h)},l=(d,h)=>this.stop(d,h),c=()=>st(d=>{var h;return this.getAnimationState(d)==="paused"&&((h=this.getAxisMotionValue(d).animation)==null?void 0:h.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new Sy(t,{onSessionStart:n,onStart:a,onMove:o,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:Ny(this.visualElement)})}stop(t,s){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:n}=s;this.startAnimation(n);const{onDragEnd:a}=this.getProps();a&&ne.postRender(()=>a(t,s))}cancel(){this.isDragging=!1;const{projection:t,animationState:s}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),s&&s.setActive("whileDrag",!1)}updateAxis(t,s,r){const{drag:n}=this.getProps();if(!r||!ia(t,n,this.currentDirection))return;const a=this.getAxisMotionValue(t);let o=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(o=tC(o,this.constraints[t],this.elastic[t])),a.set(o)}resolveConstraints(){var a;const{dragConstraints:t,dragElastic:s}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(a=this.visualElement.projection)==null?void 0:a.layout,n=this.constraints;t&&Cr(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&r?this.constraints=sC(r.layoutBox,t):this.constraints=!1,this.elastic=aC(s),n!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&st(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=iC(r.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:s}=this.getProps();if(!t||!Cr(t))return!1;const r=t.current,{projection:n}=this.visualElement;if(!n||!n.layout)return!1;const a=J_(r,n.root,this.visualElement.getTransformPagePoint());let o=rC(n.layout.layoutBox,a);if(s){const l=s(B_(o));this.hasMutatedConstraints=!!l,l&&(o=xy(l))}return o}startAnimation(t){const{drag:s,dragMomentum:r,dragElastic:n,dragTransition:a,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},u=st(d=>{if(!ia(d,s,this.currentDirection))return;let h=c&&c[d]||{};o&&(h={min:0,max:0});const m=n?200:1e6,x=n?40:1e7,w={type:"inertia",velocity:r?t[d]:0,bounceStiffness:m,bounceDamping:x,timeConstant:750,restDelta:1,restSpeed:10,...a,...h};return this.startAxisValueAnimation(d,w)});return Promise.all(u).then(l)}startAxisValueAnimation(t,s){const r=this.getAxisMotionValue(t);return au(this.visualElement,t),r.start(Kd(t,r,0,s,this.visualElement,!1))}stopAnimation(){st(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){st(t=>{var s;return(s=this.getAxisMotionValue(t).animation)==null?void 0:s.pause()})}getAnimationState(t){var s;return(s=this.getAxisMotionValue(t).animation)==null?void 0:s.state}getAxisMotionValue(t){const s=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),n=r[s];return n||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){st(s=>{const{drag:r}=this.getProps();if(!ia(s,r,this.currentDirection))return;const{projection:n}=this.visualElement,a=this.getAxisMotionValue(s);if(n&&n.layout){const{min:o,max:l}=n.layout.layoutBox[s];a.set(t[s]-se(o,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:s}=this.getProps(),{projection:r}=this.visualElement;if(!Cr(s)||!r||!this.constraints)return;this.stopAnimation();const n={x:0,y:0};st(o=>{const l=this.getAxisMotionValue(o);if(l&&this.constraints!==!1){const c=l.get();n[o]=nC({min:c,max:c},this.constraints[o])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),st(o=>{if(!ia(o,t,null))return;const l=this.getAxisMotionValue(o),{min:c,max:u}=this.constraints[o];l.set(se(c,u,n[o]))})}addListeners(){if(!this.visualElement.current)return;oC.set(this.visualElement,this);const t=this.visualElement.current,s=Vn(t,"pointerdown",c=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(c)}),r=()=>{const{dragConstraints:c}=this.getProps();Cr(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:n}=this.visualElement,a=n.addEventListener("measure",r);n&&!n.layout&&(n.root&&n.root.updateScroll(),n.updateLayout()),ne.read(r);const o=gi(window,"resize",()=>this.scalePositionWithinConstraints()),l=n.addEventListener("didUpdate",({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(st(d=>{const h=this.getAxisMotionValue(d);h&&(this.originPoint[d]+=c[d].translate,h.set(h.get()+c[d].translate))}),this.visualElement.render())});return()=>{o(),s(),a(),l&&l()}}getProps(){const t=this.visualElement.getProps(),{drag:s=!1,dragDirectionLock:r=!1,dragPropagation:n=!1,dragConstraints:a=!1,dragElastic:o=uu,dragMomentum:l=!0}=t;return{...t,drag:s,dragDirectionLock:r,dragPropagation:n,dragConstraints:a,dragElastic:o,dragMomentum:l}}}function ia(e,t,s){return(t===!0||t===e)&&(s===null||s===e)}function cC(e,t=10){let s=null;return Math.abs(e.y)>t?s="y":Math.abs(e.x)>t&&(s="x"),s}class uC extends Rs{constructor(t){super(t),this.removeGroupControls=ot,this.removeListeners=ot,this.controls=new lC(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ot}unmount(){this.removeGroupControls(),this.removeListeners()}}const Nf=e=>(t,s)=>{e&&ne.postRender(()=>e(t,s))};class dC extends Rs{constructor(){super(...arguments),this.removePointerDownListener=ot}onPointerDown(t){this.session=new Sy(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Ny(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:s,onPan:r,onPanEnd:n}=this.node.getProps();return{onSessionStart:Nf(t),onStart:Nf(s),onMove:r,onEnd:(a,o)=>{delete this.session,n&&ne.postRender(()=>n(a,o))}}}mount(){this.removePointerDownListener=Vn(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const ja={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Sf(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const yn={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(L.test(e))e=parseFloat(e);else return e;const s=Sf(e,t.target.x),r=Sf(e,t.target.y);return`${s}% ${r}%`}},hC={correct:(e,{treeScale:t,projectionDelta:s})=>{const r=e,n=Ss.parse(e);if(n.length>5)return r;const a=Ss.createTransformer(e),o=typeof n[0]!="number"?1:0,l=s.x.scale*t.x,c=s.y.scale*t.y;n[0+o]/=l,n[1+o]/=c;const u=se(l,c,.5);return typeof n[2+o]=="number"&&(n[2+o]/=u),typeof n[3+o]=="number"&&(n[3+o]/=u),a(n)}};class mC extends v.Component{componentDidMount(){const{visualElement:t,layoutGroup:s,switchLayoutGroup:r,layoutId:n}=this.props,{projection:a}=t;J4(fC),a&&(s.group&&s.group.add(a),r&&r.register&&n&&r.register(a),a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),ja.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:s,visualElement:r,drag:n,isPresent:a}=this.props,{projection:o}=r;return o&&(o.isPresent=a,n||t.layoutDependency!==s||s===void 0||t.isPresent!==a?o.willUpdate():this.safeToRemove(),t.isPresent!==a&&(a?o.promote():o.relegate()||ne.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),$d.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:s,switchLayoutGroup:r}=this.props,{projection:n}=t;n&&(n.scheduleCheckAfterUnmount(),s&&s.group&&s.group.remove(n),r&&r.deregister&&r.deregister(n))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function _y(e){const[t,s]=D4(),r=v.useContext(lx);return i.jsx(mC,{...e,layoutGroup:r,switchLayoutGroup:v.useContext(ny),isPresent:t,safeToRemove:s})}const fC={borderRadius:{...yn,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:yn,borderTopRightRadius:yn,borderBottomLeftRadius:yn,borderBottomRightRadius:yn,boxShadow:hC};function pC(e,t,s){const r=Te(e)?e:Qr(e);return r.start(Kd("",r,t,s)),r.animation}const gC=(e,t)=>e.depth-t.depth;class xC{constructor(){this.children=[],this.isDirty=!1}add(t){wd(this.children,t),this.isDirty=!0}remove(t){bd(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(gC),this.isDirty=!1,this.children.forEach(t)}}function yC(e,t){const s=Ue.now(),r=({timestamp:n})=>{const a=n-s;a>=t&&(Ns(r),e(a-t))};return ne.setup(r,!0),()=>Ns(r)}const Cy=["TopLeft","TopRight","BottomLeft","BottomRight"],vC=Cy.length,kf=e=>typeof e=="string"?parseFloat(e):e,_f=e=>typeof e=="number"||L.test(e);function wC(e,t,s,r,n,a){n?(e.opacity=se(0,s.opacity??1,bC(r)),e.opacityExit=se(t.opacity??1,0,jC(r))):a&&(e.opacity=se(t.opacity??1,s.opacity??1,r));for(let o=0;o<vC;o++){const l=`border${Cy[o]}Radius`;let c=Cf(t,l),u=Cf(s,l);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||_f(c)===_f(u)?(e[l]=Math.max(se(kf(c),kf(u),r),0),(At.test(u)||At.test(c))&&(e[l]+="%")):e[l]=u}(t.rotate||s.rotate)&&(e.rotate=se(t.rotate||0,s.rotate||0,r))}function Cf(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const bC=Py(0,.5,vx),jC=Py(.5,.95,ot);function Py(e,t,s){return r=>r<e?0:r>t?1:s(ui(e,t,r))}function Pf(e,t){e.min=t.min,e.max=t.max}function tt(e,t){Pf(e.x,t.x),Pf(e.y,t.y)}function Ef(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function Tf(e,t,s,r,n){return e-=t,e=lo(e,1/s,r),n!==void 0&&(e=lo(e,1/n,r)),e}function NC(e,t=0,s=1,r=.5,n,a=e,o=e){if(At.test(t)&&(t=parseFloat(t),t=se(o.min,o.max,t/100)-o.min),typeof t!="number")return;let l=se(a.min,a.max,r);e===a&&(l-=t),e.min=Tf(e.min,t,s,l,n),e.max=Tf(e.max,t,s,l,n)}function Af(e,t,[s,r,n],a,o){NC(e,t[s],t[r],t[n],t.scale,a,o)}const SC=["x","scaleX","originX"],kC=["y","scaleY","originY"];function Rf(e,t,s,r){Af(e.x,t,SC,s?s.x:void 0,r?r.x:void 0),Af(e.y,t,kC,s?s.y:void 0,r?r.y:void 0)}function Of(e){return e.translate===0&&e.scale===1}function Ey(e){return Of(e.x)&&Of(e.y)}function Df(e,t){return e.min===t.min&&e.max===t.max}function _C(e,t){return Df(e.x,t.x)&&Df(e.y,t.y)}function Lf(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function Ty(e,t){return Lf(e.x,t.x)&&Lf(e.y,t.y)}function Mf(e){return Le(e.x)/Le(e.y)}function If(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class CC{constructor(){this.members=[]}add(t){wd(this.members,t),t.scheduleRender()}remove(t){if(bd(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const s=this.members[this.members.length-1];s&&this.promote(s)}}relegate(t){const s=this.members.findIndex(n=>t===n);if(s===0)return!1;let r;for(let n=s;n>=0;n--){const a=this.members[n];if(a.isPresent!==!1){r=a;break}}return r?(this.promote(r),!0):!1}promote(t,s){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,s&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:n}=t.options;n===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:s,resumingFrom:r}=t;s.onExitComplete&&s.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function PC(e,t,s){let r="";const n=e.x.translate/t.x,a=e.y.translate/t.y,o=(s==null?void 0:s.z)||0;if((n||a||o)&&(r=`translate3d(${n}px, ${a}px, ${o}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),s){const{transformPerspective:u,rotate:d,rotateX:h,rotateY:m,skewX:x,skewY:w}=s;u&&(r=`perspective(${u}px) ${r}`),d&&(r+=`rotate(${d}deg) `),h&&(r+=`rotateX(${h}deg) `),m&&(r+=`rotateY(${m}deg) `),x&&(r+=`skewX(${x}deg) `),w&&(r+=`skewY(${w}deg) `)}const l=e.x.scale*t.x,c=e.y.scale*t.y;return(l!==1||c!==1)&&(r+=`scale(${l}, ${c})`),r||"none"}const Tl=["","X","Y","Z"],EC={visibility:"hidden"},TC=1e3;let AC=0;function Al(e,t,s,r){const{latestValues:n}=t;n[e]&&(s[e]=n[e],t.setStaticValue(e,0),r&&(r[e]=0))}function Ay(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const s=my(t);if(window.MotionHasOptimisedAnimation(s,"transform")){const{layout:n,layoutId:a}=e.options;window.MotionCancelOptimisedAnimation(s,"transform",ne,!(n||a))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&Ay(r)}function Ry({attachResizeListener:e,defaultParent:t,measureScroll:s,checkIsScrollRoot:r,resetTransform:n}){return class{constructor(o={},l=t==null?void 0:t()){this.id=AC++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(DC),this.nodes.forEach(FC),this.nodes.forEach(zC),this.nodes.forEach(LC)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new xC)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new Nd),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const c=this.eventHandlers.get(o);c&&c.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=Xx(o)&&!A4(o),this.instance=o;const{layoutId:l,layout:c,visualElement:u}=this.options;if(u&&!u.current&&u.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(c||l)&&(this.isLayoutDirty=!0),e){let d;const h=()=>this.root.updateBlockedByResize=!1;e(o,()=>{this.root.updateBlockedByResize=!0,d&&d(),d=yC(h,250),ja.hasAnimatedSinceResize&&(ja.hasAnimatedSinceResize=!1,this.nodes.forEach(Ff))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&u&&(l||c)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:h,hasRelativeLayoutChanged:m,layout:x})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const w=this.options.transition||u.getDefaultTransition()||qC,{onLayoutAnimationStart:b,onLayoutAnimationComplete:y}=u.getProps(),g=!this.targetLayout||!Ty(this.targetLayout,x),p=!h&&m;if(this.options.layoutRoot||this.resumeFrom||p||h&&(g||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const f={...Md(w,"layout"),onPlay:b,onComplete:y};(u.shouldReduceMotion||this.options.layoutRoot)&&(f.delay=0,f.type=!1),this.startAnimation(f),this.setAnimationOrigin(d,p)}else h||Ff(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=x})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Ns(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(VC),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Ay(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const h=this.path[d];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach($f);return}this.isUpdating||this.nodes.forEach(IC),this.isUpdating=!1,this.nodes.forEach($C),this.nodes.forEach(RC),this.nodes.forEach(OC),this.clearAllSnapshots();const l=Ue.now();je.delta=Ht(0,1e3/60,l-je.timestamp),je.timestamp=l,je.isProcessing=!0,bl.update.process(je),bl.preRender.process(je),bl.render.process(je),je.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,$d.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(MC),this.sharedNodes.forEach(BC)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ne.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ne.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Le(this.snapshot.measuredBox.x)&&!Le(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=ue(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l&&this.instance){const c=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:c,offset:s(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!n)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!Ey(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;o&&this.instance&&(l||zs(this.latestValues)||d)&&(n(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return o&&(c=this.removeTransform(c)),HC(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var u;const{visualElement:o}=this.options;if(!o)return ue();const l=o.measureViewportBox();if(!(((u=this.scroll)==null?void 0:u.wasRoot)||this.path.some(GC))){const{scroll:d}=this.root;d&&(Er(l.x,d.offset.x),Er(l.y,d.offset.y))}return l}removeElementScroll(o){var c;const l=ue();if(tt(l,o),(c=this.scroll)!=null&&c.wasRoot)return l;for(let u=0;u<this.path.length;u++){const d=this.path[u],{scroll:h,options:m}=d;d!==this.root&&h&&m.layoutScroll&&(h.wasRoot&&tt(l,o),Er(l.x,h.offset.x),Er(l.y,h.offset.y))}return l}applyTransform(o,l=!1){const c=ue();tt(c,o);for(let u=0;u<this.path.length;u++){const d=this.path[u];!l&&d.options.layoutScroll&&d.scroll&&d!==d.root&&Tr(c,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),zs(d.latestValues)&&Tr(c,d.latestValues)}return zs(this.latestValues)&&Tr(c,this.latestValues),c}removeTransform(o){const l=ue();tt(l,o);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!zs(u.latestValues))continue;lu(u.latestValues)&&u.updateSnapshot();const d=ue(),h=u.measurePageBox();tt(d,h),Rf(l,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return zs(this.latestValues)&&Rf(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==je.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var m;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||(m=this.parent)!=null&&m.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:h}=this.options;if(!(!this.layout||!(d||h))){if(this.resolvedRelativeTargetAt=je.timestamp,!this.targetDelta&&!this.relativeTarget){const x=this.getClosestProjectingParent();x&&x.layout&&this.animationProgress!==1?(this.relativeParent=x,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ue(),this.relativeTargetOrigin=ue(),Un(this.relativeTargetOrigin,this.layout.layoutBox,x.layout.layoutBox),tt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=ue(),this.targetWithTransforms=ue()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Q_(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):tt(this.target,this.layout.layoutBox),by(this.target,this.targetDelta)):tt(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const x=this.getClosestProjectingParent();x&&!!x.resumingFrom==!!this.resumingFrom&&!x.options.layoutScroll&&x.target&&this.animationProgress!==1?(this.relativeParent=x,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ue(),this.relativeTargetOrigin=ue(),Un(this.relativeTargetOrigin,this.target,x.target),tt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||lu(this.parent.latestValues)||wy(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var w;const o=this.getLead(),l=!!this.resumingFrom||this!==o;let c=!0;if((this.isProjectionDirty||(w=this.parent)!=null&&w.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===je.timestamp&&(c=!1),c)return;const{layout:u,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||d))return;tt(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,m=this.treeScale.y;Y_(this.layoutCorrected,this.treeScale,this.path,l),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=ue());const{target:x}=o;if(!x){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Ef(this.prevProjectionDelta.x,this.projectionDelta.x),Ef(this.prevProjectionDelta.y,this.projectionDelta.y)),Bn(this.projectionDelta,this.layoutCorrected,x,this.latestValues),(this.treeScale.x!==h||this.treeScale.y!==m||!If(this.projectionDelta.x,this.prevProjectionDelta.x)||!If(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",x))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var l;if((l=this.options.visualElement)==null||l.scheduleRender(),o){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Pr(),this.projectionDelta=Pr(),this.projectionDeltaWithTransform=Pr()}setAnimationOrigin(o,l=!1){const c=this.snapshot,u=c?c.latestValues:{},d={...this.latestValues},h=Pr();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const m=ue(),x=c?c.source:void 0,w=this.layout?this.layout.source:void 0,b=x!==w,y=this.getStack(),g=!y||y.members.length<=1,p=!!(b&&!g&&this.options.crossfade===!0&&!this.path.some(WC));this.animationProgress=0;let f;this.mixTargetDelta=j=>{const N=j/1e3;zf(h.x,o.x,N),zf(h.y,o.y,N),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Un(m,this.layout.layoutBox,this.relativeParent.layout.layoutBox),UC(this.relativeTarget,this.relativeTargetOrigin,m,N),f&&_C(this.relativeTarget,f)&&(this.isProjectionDirty=!1),f||(f=ue()),tt(f,this.relativeTarget)),b&&(this.animationValues=d,wC(d,u,this.latestValues,N,p,g)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=N},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var l,c,u;this.notifyListeners("animationStart"),(l=this.currentAnimation)==null||l.stop(),(u=(c=this.resumingFrom)==null?void 0:c.currentAnimation)==null||u.stop(),this.pendingAnimation&&(Ns(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ne.update(()=>{ja.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Qr(0)),this.currentAnimation=pC(this.motionValue,[0,1e3],{...o,isSync:!0,onUpdate:d=>{this.mixTargetDelta(d),o.onUpdate&&o.onUpdate(d)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(TC),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:c,layout:u,latestValues:d}=o;if(!(!l||!c||!u)){if(this!==o&&this.layout&&u&&Oy(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||ue();const h=Le(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+h;const m=Le(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+m}tt(l,c),Tr(l,d),Bn(this.projectionDeltaWithTransform,this.layoutCorrected,l,d)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new CC),this.sharedNodes.get(o).add(l);const u=l.options.initialPromotionConfig;l.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var l;const{layoutId:o}=this.options;return o?((l=this.getStack())==null?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:o}=this.options;return o?(l=this.getStack())==null?void 0:l.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:c}=o;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(l=!0),!l)return;const u={};c.z&&Al("z",o,u,this.animationValues);for(let d=0;d<Tl.length;d++)Al(`rotate${Tl[d]}`,o,u,this.animationValues),Al(`skew${Tl[d]}`,o,u,this.animationValues);o.render();for(const d in u)o.setStaticValue(d,u[d]),this.animationValues&&(this.animationValues[d]=u[d]);o.scheduleRender()}getProjectionStyles(o){if(!this.instance||this.isSVG)return;if(!this.isVisible)return EC;const l={visibility:""},c=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,l.opacity="",l.pointerEvents=ba(o==null?void 0:o.pointerEvents)||"",l.transform=c?c(this.latestValues,""):"none",l;const u=this.getLead();if(!this.projectionDelta||!this.layout||!u.target){const x={};return this.options.layoutId&&(x.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,x.pointerEvents=ba(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!zs(this.latestValues)&&(x.transform=c?c({},""):"none",this.hasProjected=!1),x}const d=u.animationValues||u.latestValues;this.applyTransformsToTarget(),l.transform=PC(this.projectionDeltaWithTransform,this.treeScale,d),c&&(l.transform=c(d,l.transform));const{x:h,y:m}=this.projectionDelta;l.transformOrigin=`${h.origin*100}% ${m.origin*100}% 0`,u.animationValues?l.opacity=u===this?d.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:d.opacityExit:l.opacity=u===this?d.opacity!==void 0?d.opacity:"":d.opacityExit!==void 0?d.opacityExit:0;for(const x in fi){if(d[x]===void 0)continue;const{correct:w,applyTo:b,isCSSVariable:y}=fi[x],g=l.transform==="none"?d[x]:w(d[x],u);if(b){const p=b.length;for(let f=0;f<p;f++)l[b[f]]=g}else y?this.options.visualElement.renderState.vars[x]=g:l[x]=g}return this.options.layoutId&&(l.pointerEvents=u===this?ba(o==null?void 0:o.pointerEvents)||"":"none"),l}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var l;return(l=o.currentAnimation)==null?void 0:l.stop()}),this.root.nodes.forEach($f),this.root.sharedNodes.clear()}}}function RC(e){e.updateLayout()}function OC(e){var s;const t=((s=e.resumeFrom)==null?void 0:s.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:n}=e.layout,{animationType:a}=e.options,o=t.source!==e.layout.source;a==="size"?st(h=>{const m=o?t.measuredBox[h]:t.layoutBox[h],x=Le(m);m.min=r[h].min,m.max=m.min+x}):Oy(a,t.layoutBox,r)&&st(h=>{const m=o?t.measuredBox[h]:t.layoutBox[h],x=Le(r[h]);m.max=m.min+x,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[h].max=e.relativeTarget[h].min+x)});const l=Pr();Bn(l,r,t.layoutBox);const c=Pr();o?Bn(c,e.applyTransform(n,!0),t.measuredBox):Bn(c,r,t.layoutBox);const u=!Ey(l);let d=!1;if(!e.resumeFrom){const h=e.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:m,layout:x}=h;if(m&&x){const w=ue();Un(w,t.layoutBox,m.layoutBox);const b=ue();Un(b,r,x.layoutBox),Ty(w,b)||(d=!0),h.options.layoutRoot&&(e.relativeTarget=b,e.relativeTargetOrigin=w,e.relativeParent=h)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:t,delta:c,layoutDelta:l,hasLayoutChanged:u,hasRelativeLayoutChanged:d})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function DC(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function LC(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function MC(e){e.clearSnapshot()}function $f(e){e.clearMeasurements()}function IC(e){e.isLayoutDirty=!1}function $C(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function Ff(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function FC(e){e.resolveTargetDelta()}function zC(e){e.calcProjection()}function VC(e){e.resetSkewAndRotation()}function BC(e){e.removeLeadSnapshot()}function zf(e,t,s){e.translate=se(t.translate,0,s),e.scale=se(t.scale,1,s),e.origin=t.origin,e.originPoint=t.originPoint}function Vf(e,t,s,r){e.min=se(t.min,s.min,r),e.max=se(t.max,s.max,r)}function UC(e,t,s,r){Vf(e.x,t.x,s.x,r),Vf(e.y,t.y,s.y,r)}function WC(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const qC={duration:.45,ease:[.4,0,.1,1]},Bf=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),Uf=Bf("applewebkit/")&&!Bf("chrome/")?Math.round:ot;function Wf(e){e.min=Uf(e.min),e.max=Uf(e.max)}function HC(e){Wf(e.x),Wf(e.y)}function Oy(e,t,s){return e==="position"||e==="preserve-aspect"&&!K_(Mf(t),Mf(s),.2)}function GC(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const KC=Ry({attachResizeListener:(e,t)=>gi(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Rl={current:void 0},Dy=Ry({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Rl.current){const e=new KC({});e.mount(window),e.setOptions({layoutScroll:!0}),Rl.current=e}return Rl.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),QC={pan:{Feature:dC},drag:{Feature:uC,ProjectionNode:Dy,MeasureLayout:_y}};function qf(e,t,s){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover",s==="Start");const n="onHover"+s,a=r[n];a&&ne.postRender(()=>a(t,Ei(t)))}class YC extends Rs{mount(){const{current:t}=this.node;t&&(this.unmount=_4(t,(s,r)=>(qf(this.node,r,"Start"),n=>qf(this.node,n,"End"))))}unmount(){}}class JC extends Rs{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=_i(gi(this.node.current,"focus",()=>this.onFocus()),gi(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Hf(e,t,s){const{props:r}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap",s==="Start");const n="onTap"+(s==="End"?"":s),a=r[n];a&&ne.postRender(()=>a(t,Ei(t)))}class XC extends Rs{mount(){const{current:t}=this.node;t&&(this.unmount=T4(t,(s,r)=>(Hf(this.node,r,"Start"),(n,{success:a})=>Hf(this.node,n,a?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const du=new WeakMap,Ol=new WeakMap,ZC=e=>{const t=du.get(e.target);t&&t(e)},e5=e=>{e.forEach(ZC)};function t5({root:e,...t}){const s=e||document;Ol.has(s)||Ol.set(s,{});const r=Ol.get(s),n=JSON.stringify(t);return r[n]||(r[n]=new IntersectionObserver(e5,{root:e,...t})),r[n]}function s5(e,t,s){const r=t5(t);return du.set(e,s),r.observe(e),()=>{du.delete(e),r.unobserve(e)}}const r5={some:0,all:1};class n5 extends Rs{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:s,margin:r,amount:n="some",once:a}=t,o={root:s?s.current:void 0,rootMargin:r,threshold:typeof n=="number"?n:r5[n]},l=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,a&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:h}=this.node.getProps(),m=u?d:h;m&&m(c)};return s5(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:s}=this.node;["amount","margin","root"].some(i5(t,s))&&this.startObserver()}unmount(){}}function i5({viewport:e={}},{viewport:t={}}={}){return s=>e[s]!==t[s]}const a5={inView:{Feature:n5},tap:{Feature:XC},focus:{Feature:JC},hover:{Feature:YC}},o5={layout:{ProjectionNode:Dy,MeasureLayout:_y}},hu={current:null},Ly={current:!1};function l5(){if(Ly.current=!0,!!yd)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>hu.current=e.matches;e.addListener(t),t()}else hu.current=!1}const c5=new WeakMap;function u5(e,t,s){for(const r in t){const n=t[r],a=s[r];if(Te(n))e.addValue(r,n);else if(Te(a))e.addValue(r,Qr(n,{owner:e}));else if(a!==n)if(e.hasValue(r)){const o=e.getValue(r);o.liveStyle===!0?o.jump(n):o.hasAnimated||o.set(n)}else{const o=e.getStaticValue(r);e.addValue(r,Qr(o!==void 0?o:n,{owner:e}))}}for(const r in s)t[r]===void 0&&e.removeValue(r);return t}const Gf=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class d5{scrapeMotionValuesFromProps(t,s,r){return{}}constructor({parent:t,props:s,presenceContext:r,reducedMotionConfig:n,blockInitialAnimation:a,visualState:o},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Ld,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const m=Ue.now();this.renderScheduledAt<m&&(this.renderScheduledAt=m,ne.render(this.render,!1,!0))};const{latestValues:c,renderState:u}=o;this.latestValues=c,this.baseTarget={...c},this.initialValues=s.initial?{...c}:{},this.renderState=u,this.parent=t,this.props=s,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=n,this.options=l,this.blockInitialAnimation=!!a,this.isControllingVariants=$o(s),this.isVariantNode=sy(s),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:d,...h}=this.scrapeMotionValuesFromProps(s,{},this);for(const m in h){const x=h[m];c[m]!==void 0&&Te(x)&&x.set(c[m],!1)}}mount(t){this.current=t,c5.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((s,r)=>this.bindToMotionValue(r,s)),Ly.current||l5(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:hu.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Ns(this.notifyUpdate),Ns(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const s=this.features[t];s&&(s.unmount(),s.isMounted=!1)}this.current=null}bindToMotionValue(t,s){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=ln.has(t);r&&this.onBindTransform&&this.onBindTransform();const n=s.on("change",l=>{this.latestValues[t]=l,this.props.onUpdate&&ne.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),a=s.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,t,s)),this.valueSubscriptions.set(t,()=>{n(),a(),o&&o(),s.owner&&s.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Yr){const s=Yr[t];if(!s)continue;const{isEnabled:r,Feature:n}=s;if(!this.features[t]&&n&&r(this.props)&&(this.features[t]=new n(this)),this.features[t]){const a=this.features[t];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ue()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,s){this.latestValues[t]=s}update(t,s){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=s;for(let r=0;r<Gf.length;r++){const n=Gf[r];this.propEventSubscriptions[n]&&(this.propEventSubscriptions[n](),delete this.propEventSubscriptions[n]);const a="on"+n,o=t[a];o&&(this.propEventSubscriptions[n]=this.on(n,o))}this.prevMotionValues=u5(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const s=this.getClosestVariantNode();if(s)return s.variantChildren&&s.variantChildren.add(t),()=>s.variantChildren.delete(t)}addValue(t,s){const r=this.values.get(t);s!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,s),this.values.set(t,s),this.latestValues[t]=s.get())}removeValue(t){this.values.delete(t);const s=this.valueSubscriptions.get(t);s&&(s(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,s){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&s!==void 0&&(r=Qr(s===null?void 0:s,{owner:this}),this.addValue(t,r)),r}readValue(t,s){let r=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return r!=null&&(typeof r=="string"&&(cx(r)||dx(r))?r=parseFloat(r):!O4(r)&&Ss.test(s)&&(r=Gx(t,s)),this.setBaseTarget(t,Te(r)?r.get():r)),Te(r)?r.get():r}setBaseTarget(t,s){this.baseTarget[t]=s}getBaseTarget(t){var a;const{initial:s}=this.props;let r;if(typeof s=="string"||typeof s=="object"){const o=Hd(this.props,s,(a=this.presenceContext)==null?void 0:a.custom);o&&(r=o[t])}if(s&&r!==void 0)return r;const n=this.getBaseTargetFromProps(this.props,t);return n!==void 0&&!Te(n)?n:this.initialValues[t]!==void 0&&r===void 0?void 0:this.baseTarget[t]}on(t,s){return this.events[t]||(this.events[t]=new Nd),this.events[t].add(s)}notify(t,...s){this.events[t]&&this.events[t].notify(...s)}}class My extends d5{constructor(){super(...arguments),this.KeyframeResolver=b4}sortInstanceNodePosition(t,s){return t.compareDocumentPosition(s)&2?1:-1}getBaseTargetFromProps(t,s){return t.style?t.style[s]:void 0}removeValueFromRenderState(t,{vars:s,style:r}){delete s[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Te(t)&&(this.childSubscription=t.on("change",s=>{this.current&&(this.current.textContent=`${s}`)}))}}function Iy(e,{style:t,vars:s},r,n){Object.assign(e.style,t,n&&n.getProjectionStyles(r));for(const a in s)e.style.setProperty(a,s[a])}function h5(e){return window.getComputedStyle(e)}class m5 extends My{constructor(){super(...arguments),this.type="html",this.renderInstance=Iy}readValueFromInstance(t,s){var r;if(ln.has(s))return(r=this.projection)!=null&&r.isProjecting?Zc(s):zk(t,s);{const n=h5(t),a=(_d(s)?n.getPropertyValue(s):n[s])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(t,{transformPagePoint:s}){return jy(t,s)}build(t,s,r){Ud(t,s,r.transformTemplate)}scrapeMotionValuesFromProps(t,s,r){return Gd(t,s,r)}}const $y=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function f5(e,t,s,r){Iy(e,t,void 0,r);for(const n in t.attrs)e.setAttribute($y.has(n)?n:Bd(n),t.attrs[n])}class p5 extends My{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=ue}getBaseTargetFromProps(t,s){return t[s]}readValueFromInstance(t,s){if(ln.has(s)){const r=Hx(s);return r&&r.default||0}return s=$y.has(s)?s:Bd(s),t.getAttribute(s)}scrapeMotionValuesFromProps(t,s,r){return hy(t,s,r)}build(t,s,r){ly(t,s,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(t,s,r,n){f5(t,s,r,n)}mount(t){this.isSVGTag=uy(t.tagName),super.mount(t)}}const g5=(e,t)=>qd(e)?new p5(t):new m5(t,{allowProjection:e!==v.Fragment}),x5=f_({...z_,...a5,...QC,...o5},g5),y5=F4(x5),v5={classic:{description:"Timeless pieces with clean lines and sophisticated silhouettes",shopQuery:"classic+minimalist",products:[{id:"classic-1",name:"Classic White Shirt",price:89.99,image:"/images/classic-shirt.jpg"}]},minimalist:{description:"Clean, simple, and functional pieces with a focus on quality",shopQuery:"minimalist+basic",products:[{id:"min-1",name:"Minimalist Black Dress",price:129.99,image:"/images/minimalist-dress.jpg"}]},bohemian:{description:"Free-spirited and artistic with flowing fabrics and earthy tones",shopQuery:"bohemian+hippie",products:[{id:"boho-1",name:"Bohemian Maxi Dress",price:79.99,image:"/images/bohemian-dress.jpg"}]},edgy:{description:"Bold and unconventional, pushing fashion boundaries.",shopQuery:"edgy+alternative",products:[{id:"edgy-1",name:"Edgy Leather Jacket",price:199.99,image:"/images/edgy-jacket.jpg"}]},sporty:{description:"Comfortable and athletic-inspired, functional yet stylish.",shopQuery:"sporty+athleisure",products:[{id:"sporty-1",name:"Sporty Hoodie",price:69.99,image:"/images/sporty-hoodie.jpg"}]},romantic:{description:"Feminine and delicate, with soft fabrics and floral prints.",shopQuery:"romantic+floral",products:[{id:"romantic-1",name:"Romantic Lace Top",price:79.99,image:"/images/romantic-top.jpg"}]},trendy:{description:"Up-to-the-minute styles, reflecting current fashion trends.",shopQuery:"trendy+new-arrivals",products:[{id:"trendy-1",name:"Trendy Wide-Leg Pants",price:99.99,image:"/images/trendy-pants.jpg"}]},bold:{description:"Statement-making pieces with vibrant colors and daring designs.",shopQuery:"bold+statement",products:[{id:"bold-1",name:"Bold Printed Blouse",price:85,image:"/images/bold-blouse.jpg"}]},casual:{description:"Relaxed and comfortable for everyday wear.",shopQuery:"casual+everyday",products:[{id:"casual-1",name:"Casual Denim Jeans",price:75,image:"/images/casual-jeans.jpg"}]},boho:{description:"Earthy and artistic, similar to bohemian but perhaps more casual.",shopQuery:"boho+casual",products:[{id:"boho-casual-1",name:"Boho Tunic Top",price:65,image:"/images/boho-tunic.jpg"}]},polished:{description:"Refined and put-together, suitable for professional settings.",shopQuery:"polished+workwear",products:[{id:"polished-1",name:"Polished Blazer",price:149.99,image:"/images/polished-blazer.jpg"}]},eclectic:{description:"A diverse mix of styles, eras, and textures.",shopQuery:"eclectic+vintage",products:[{id:"eclectic-1",name:"Eclectic Patterned Scarf",price:49.99,image:"/images/eclectic-scarf.jpg"}]},natural:{description:"Focus on natural fabrics, earthy tones, and simple comfort.",shopQuery:"natural+organic",products:[{id:"natural-1",name:"Natural Linen Shirt",price:95,image:"/images/natural-shirt.jpg"}]},comfort:{description:"Prioritizes comfort and ease of movement, soft and cozy.",shopQuery:"comfort+loungewear",products:[{id:"comfort-1",name:"Comfort Knit Sweater",price:89,image:"/images/comfort-sweater.jpg"}]},delicate:{description:"Light, airy, and often features fine details and soft hues.",shopQuery:"delicate+lace",products:[{id:"delicate-1",name:"Delicate Silk Camisole",price:70,image:"/images/delicate-camisole.jpg"}]}},Dl=[{id:1,type:"text",question:"How would you describe your personal style?",options:[{id:"a1",text:"Classic and timeless",style:["classic","minimalist"]},{id:"a2",text:"Trendy and bold",style:["trendy","bold"]},{id:"a3",text:"Casual and comfortable",style:["casual","comfort"]},{id:"a4",text:"Bohemian and free-spirited",style:["boho","eclectic"]}]},{id:2,type:"text",question:"What colors do you typically wear?",options:[{id:"b1",text:"Neutrals (black, white, beige)",style:["classic","minimalist"]},{id:"b2",text:"Bright and bold colors",style:["bold","trendy"]},{id:"b3",text:"Earthy tones",style:["bohemian","natural"]},{id:"b4",text:"Pastels and soft shades",style:["romantic","delicate"]}]}],w5=()=>{const e=Ge(),{user:t}=Ke()||{},[s,r]=v.useState(0),[n,a]=v.useState({}),[o,l]=v.useState(!1);v.useState([]);const[c,u]=v.useState(!1),d=Dl[s],h=Dl.length;v.useEffect(()=>{(async()=>{if(t){u(!0);try{await new Promise(g=>setTimeout(g,500))}catch(g){console.error("Failed to load saved styles:",g)}finally{u(!1)}}})()},[t]);const m=y=>{const g={...n,[s]:y};a(g),s<h-1?r(p=>p+1):l(!0)},w=o?(()=>{const y={};return Object.entries(n).forEach(([g,p])=>{const f=Dl[parseInt(g,10)];if(!f)return;const j=f.options.find(N=>N.id===p);j&&j.style.forEach(N=>{y[N]=(y[N]||0)+1})}),Object.entries(y).sort((g,p)=>p[1]-g[1]).slice(0,3).map(([g])=>{const p=g,f=v5[p];return{style:p,description:f.description,shopQuery:f.shopQuery,products:f.products}})})():[],b=()=>{r(0),a({}),l(!1)};return c?i.jsx("div",{className:"flex items-center justify-center min-h-screen",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-gray-900 mx-auto"}),i.jsx("p",{className:"mt-4 text-gray-600",children:"Loading your style profile..."})]})}):i.jsx("div",{className:"container mx-auto px-4 py-12",children:i.jsxs("div",{className:"max-w-3xl mx-auto",children:[i.jsx("h1",{className:"text-3xl font-serif font-bold text-center mb-12",children:"Discover Your Style"}),o?i.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[i.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Your Style Profile"}),i.jsx("div",{className:"space-y-8",children:w.map((y,g)=>i.jsx("div",{className:"border-b pb-6 last:border-b-0",children:i.jsxs("div",{className:"flex items-start",children:[i.jsx("div",{className:"flex-shrink-0 h-12 w-12 rounded-full bg-blue-100 flex items-center justify-center text-blue-600 font-bold text-xl",children:g+1}),i.jsxs("div",{className:"ml-4",children:[i.jsx("h3",{className:"text-lg font-semibold capitalize",children:y.style}),i.jsx("p",{className:"text-gray-600 mt-1",children:y.description}),y.products.length>0&&i.jsxs("div",{className:"mt-4",children:[i.jsx("h4",{className:"font-medium mb-2",children:"Recommended for you:"}),i.jsx("div",{className:"grid grid-cols-2 gap-4",children:y.products.map(p=>i.jsxs("div",{className:"border rounded-lg overflow-hidden",children:[i.jsx("img",{src:p.image,alt:p.name,className:"w-full h-32 object-cover"}),i.jsxs("div",{className:"p-3",children:[i.jsx("p",{className:"font-medium",children:p.name}),i.jsxs("p",{className:"text-blue-600 font-semibold",children:["$",p.price.toFixed(2)]})]})]},p.id))})]})]})]})},y.style))}),i.jsxs("div",{className:"mt-8 flex justify-between",children:[i.jsx("button",{onClick:()=>e("/shop"),className:"px-6 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50 transition-colors",children:"Continue Shopping"}),i.jsxs("button",{onClick:b,className:"px-6 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors flex items-center",children:["Retake Quiz",i.jsx(bg,{className:"ml-2 h-4 w-4"})]})]})]}):i.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[i.jsxs("div",{className:"mb-6",children:[i.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:i.jsx("div",{className:"bg-blue-600 h-2.5 rounded-full",style:{width:`${s/h*100}%`}})}),i.jsxs("p",{className:"text-sm text-gray-600 mt-2",children:["Question ",s+1," of ",h]})]}),i.jsx("h2",{className:"text-xl font-semibold mb-6",children:d.question}),i.jsx("div",{className:"space-y-4",children:d.options.map(y=>i.jsxs(y5.button,{whileHover:{scale:1.02},whileTap:{scale:.98},className:`w-full text-left p-4 rounded-lg border-2 transition-colors ${n[s]===y.id?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"}`,onClick:()=>m(y.id),children:[y.image&&i.jsx("div",{className:"mb-3 overflow-hidden rounded-md",children:i.jsx("img",{src:y.image,alt:y.text,className:"w-full h-32 object-cover"})}),i.jsx("div",{className:"font-medium",children:y.text})]},y.id))})]})]})})};function b5(){var x,w;const[e,t]=v.useState(""),[s,r]=v.useState(""),[n,a]=v.useState(!1),[o,l]=v.useState(""),{login:c}=Ke(),u=Ge(),h=((w=(x=dt().state)==null?void 0:x.from)==null?void 0:w.pathname)||"/",m=async b=>{if(b.preventDefault(),!e||!s){l("Please fill in all fields");return}a(!0),l("");try{await c(e,s)&&u(h,{replace:!0})}catch(y){l("An error occurred. Please try again."),console.error("Login error:",y)}finally{a(!1)}};return i.jsx("div",{className:"min-h-screen flex items-center justify-center bg-neutral-50 py-12 px-4 sm:px-6 lg:px-8",children:i.jsxs("div",{className:"max-w-md w-full space-y-8",children:[i.jsxs("div",{className:"text-center",children:[i.jsx("h2",{className:"mt-6 text-3xl font-extrabold text-neutral-900",children:"Sign in to your account"}),i.jsxs("p",{className:"mt-2 text-sm text-neutral-600",children:["Or"," ",i.jsx(O,{to:"/register",className:"font-medium text-primary-600 hover:text-primary-500",children:"create a new account"})]})]}),o&&i.jsx("div",{className:"bg-red-50 border-l-4 border-red-400 p-4",children:i.jsxs("div",{className:"flex",children:[i.jsx("div",{className:"flex-shrink-0",children:i.jsx("svg",{className:"h-5 w-5 text-red-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:i.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),i.jsx("div",{className:"ml-3",children:i.jsx("p",{className:"text-sm text-red-700",children:o})})]})}),i.jsxs("form",{className:"mt-8 space-y-6",onSubmit:m,children:[i.jsx("input",{type:"hidden",name:"remember",value:"true"}),i.jsxs("div",{className:"rounded-md shadow-sm -space-y-px",children:[i.jsxs("div",{children:[i.jsx("label",{htmlFor:"email-address",className:"sr-only",children:"Email address"}),i.jsx("input",{id:"email-address",name:"email",type:"email",autoComplete:"email",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-neutral-300 placeholder-neutral-500 text-neutral-900 rounded-t-md focus:outline-none focus:ring-primary-500 focus:border-primary-500 focus:z-10 sm:text-sm",placeholder:"Email address",value:e,onChange:b=>t(b.target.value)})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"password",className:"sr-only",children:"Password"}),i.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-neutral-300 placeholder-neutral-500 text-neutral-900 rounded-b-md focus:outline-none focus:ring-primary-500 focus:border-primary-500 focus:z-10 sm:text-sm",placeholder:"Password",value:s,onChange:b=>r(b.target.value)})]})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx("input",{id:"remember-me",name:"remember-me",type:"checkbox",className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-neutral-300 rounded"}),i.jsx("label",{htmlFor:"remember-me",className:"ml-2 block text-sm text-neutral-900",children:"Remember me"})]}),i.jsx("div",{className:"text-sm",children:i.jsx(O,{to:"/forgot-password",className:"font-medium text-primary-600 hover:text-primary-500",children:"Forgot your password?"})})]}),i.jsx("div",{children:i.jsx("button",{type:"submit",disabled:n,className:`group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 ${n?"opacity-75 cursor-not-allowed":""}`,children:n?i.jsxs(i.Fragment,{children:[i.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[i.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),i.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Signing in..."]}):"Sign in"})})]}),i.jsxs("div",{className:"mt-6",children:[i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"absolute inset-0 flex items-center",children:i.jsx("div",{className:"w-full border-t border-neutral-300"})}),i.jsx("div",{className:"relative flex justify-center text-sm",children:i.jsx("span",{className:"px-2 bg-neutral-50 text-neutral-500",children:"Or continue with"})})]}),i.jsxs("div",{className:"mt-6 grid grid-cols-2 gap-3",children:[i.jsx("div",{children:i.jsxs("a",{href:"#",className:"w-full inline-flex justify-center py-2 px-4 border border-neutral-300 rounded-md shadow-sm bg-white text-sm font-medium text-neutral-500 hover:bg-neutral-50",children:[i.jsx("span",{className:"sr-only",children:"Sign in with Google"}),i.jsx("svg",{className:"w-5 h-5","aria-hidden":"true",fill:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{d:"M12.545,10.239v3.821h5.445c-0.712,2.315-2.647,3.972-5.445,3.972c-3.332,0-6.033-2.701-6.033-6.032s2.701-6.032,6.033-6.032c1.498,0,2.866,0.549,3.921,1.453l2.814-2.814C17.503,2.988,15.006,2,12.545,2C7.021,2,2.543,6.477,2.543,12s4.478,10,10.002,10c8.396,0,10.249-7.85,9.426-11.748L12.545,10.239z"})})]})}),i.jsx("div",{children:i.jsxs("a",{href:"#",className:"w-full inline-flex justify-center py-2 px-4 border border-neutral-300 rounded-md shadow-sm bg-white text-sm font-medium text-neutral-500 hover:bg-neutral-50",children:[i.jsx("span",{className:"sr-only",children:"Sign in with Facebook"}),i.jsx("svg",{className:"w-5 h-5","aria-hidden":"true",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{fillRule:"evenodd",d:"M20 10c0-5.523-4.477-10-10-10S0 4.477 0 10c0 4.991 3.657 9.128 8.438 9.878v-6.987h-2.54V10h2.54V7.797c0-2.506 1.492-3.89 3.777-3.89 1.094 0 2.238.195 2.238.195v2.46h-1.26c-1.243 0-1.63.771-1.63 1.562V10h2.773l-.443 2.89h-2.33v6.988C16.343 19.128 20 14.991 20 10z",clipRule:"evenodd"})})]})})]})]})]})})}function j5(){const[e,t]=v.useState(""),[s,r]=v.useState(""),[n,a]=v.useState(""),[o,l]=v.useState(""),[c,u]=v.useState(!1),[d,h]=v.useState(""),{register:m}=Ke(),x=Ge(),w=async b=>{if(b.preventDefault(),!e||!s||!n||!o){h("Please fill in all fields");return}if(n!==o){h("Passwords do not match");return}if(n.length<6){h("Password must be at least 6 characters");return}u(!0),h("");try{await m(e,s,n)?x("/",{replace:!0}):h("Registration failed. Please try again.")}catch(y){h("An error occurred. Please try again."),console.error("Registration error:",y)}finally{u(!1)}};return i.jsx("div",{className:"min-h-screen flex items-center justify-center bg-neutral-50 py-12 px-4 sm:px-6 lg:px-8",children:i.jsxs("div",{className:"max-w-md w-full space-y-8",children:[i.jsxs("div",{className:"text-center",children:[i.jsx("h2",{className:"mt-6 text-3xl font-extrabold text-neutral-900",children:"Create your account"}),i.jsxs("p",{className:"mt-2 text-sm text-neutral-600",children:["Already have an account?"," ",i.jsx(O,{to:"/login",className:"font-medium text-primary-600 hover:text-primary-500",state:{from:{pathname:"/"}},children:"Sign in"})]})]}),d&&i.jsx("div",{className:"bg-red-50 border-l-4 border-red-400 p-4",children:i.jsxs("div",{className:"flex",children:[i.jsx("div",{className:"flex-shrink-0",children:i.jsx("svg",{className:"h-5 w-5 text-red-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:i.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),i.jsx("div",{className:"ml-3",children:i.jsx("p",{className:"text-sm text-red-700",children:d})})]})}),i.jsxs("form",{className:"mt-8 space-y-6",onSubmit:w,children:[i.jsxs("div",{className:"rounded-md shadow-sm -space-y-px",children:[i.jsxs("div",{children:[i.jsx("label",{htmlFor:"name",className:"sr-only",children:"Full Name"}),i.jsx("input",{id:"name",name:"name",type:"text",autoComplete:"name",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-neutral-300 placeholder-neutral-500 text-neutral-900 rounded-t-md focus:outline-none focus:ring-primary-500 focus:border-primary-500 focus:z-10 sm:text-sm",placeholder:"Full Name",value:e,onChange:b=>t(b.target.value)})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"email-address",className:"sr-only",children:"Email address"}),i.jsx("input",{id:"email-address",name:"email",type:"email",autoComplete:"email",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-neutral-300 placeholder-neutral-500 text-neutral-900 focus:outline-none focus:ring-primary-500 focus:border-primary-500 focus:z-10 sm:text-sm",placeholder:"Email address",value:s,onChange:b=>r(b.target.value)})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"password",className:"sr-only",children:"Password"}),i.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"new-password",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-neutral-300 placeholder-neutral-500 text-neutral-900 focus:outline-none focus:ring-primary-500 focus:border-primary-500 focus:z-10 sm:text-sm",placeholder:"Password (min 6 characters)",value:n,onChange:b=>a(b.target.value)})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"confirm-password",className:"sr-only",children:"Confirm Password"}),i.jsx("input",{id:"confirm-password",name:"confirm-password",type:"password",autoComplete:"new-password",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-neutral-300 placeholder-neutral-500 text-neutral-900 rounded-b-md focus:outline-none focus:ring-primary-500 focus:border-primary-500 focus:z-10 sm:text-sm",placeholder:"Confirm Password",value:o,onChange:b=>l(b.target.value)})]})]}),i.jsxs("div",{className:"flex items-center",children:[i.jsx("input",{id:"terms",name:"terms",type:"checkbox",required:!0,className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-neutral-300 rounded"}),i.jsxs("label",{htmlFor:"terms",className:"ml-2 block text-sm text-neutral-900",children:["I agree to the"," ",i.jsx("a",{href:"#",className:"text-primary-600 hover:text-primary-500",children:"Terms of Service"})," ","and"," ",i.jsx("a",{href:"#",className:"text-primary-600 hover:text-primary-500",children:"Privacy Policy"})]})]}),i.jsx("div",{children:i.jsx("button",{type:"submit",disabled:c,className:`group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 ${c?"opacity-75 cursor-not-allowed":""}`,children:c?i.jsxs(i.Fragment,{children:[i.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[i.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),i.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Creating account..."]}):"Create Account"})})]}),i.jsxs("div",{className:"mt-6",children:[i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"absolute inset-0 flex items-center",children:i.jsx("div",{className:"w-full border-t border-neutral-300"})}),i.jsx("div",{className:"relative flex justify-center text-sm",children:i.jsx("span",{className:"px-2 bg-neutral-50 text-neutral-500",children:"Or sign up with"})})]}),i.jsxs("div",{className:"mt-6 grid grid-cols-2 gap-3",children:[i.jsx("div",{children:i.jsxs("a",{href:"#",className:"w-full inline-flex justify-center py-2 px-4 border border-neutral-300 rounded-md shadow-sm bg-white text-sm font-medium text-neutral-500 hover:bg-neutral-50",children:[i.jsx("span",{className:"sr-only",children:"Sign up with Google"}),i.jsx("svg",{className:"w-5 h-5","aria-hidden":"true",fill:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{d:"M12.545,10.239v3.821h5.445c-0.712,2.315-2.647,3.972-5.445,3.972c-3.332,0-6.033-2.701-6.033-6.032s2.701-6.032,6.033-6.032c1.498,0,2.866,0.549,3.921,1.453l2.814-2.814C17.503,2.988,15.006,2,12.545,2C7.021,2,2.543,6.477,2.543,12s4.478,10,10.002,10c8.396,0,10.249-7.85,9.426-11.748L12.545,10.239z"})})]})}),i.jsx("div",{children:i.jsxs("a",{href:"#",className:"w-full inline-flex justify-center py-2 px-4 border border-neutral-300 rounded-md shadow-sm bg-white text-sm font-medium text-neutral-500 hover:bg-neutral-50",children:[i.jsx("span",{className:"sr-only",children:"Sign up with Facebook"}),i.jsx("svg",{className:"w-5 h-5","aria-hidden":"true",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{fillRule:"evenodd",d:"M20 10c0-5.523-4.477-10-10-10S0 4.477 0 10c0 4.991 3.657 9.128 8.438 9.878v-6.987h-2.54V10h2.54V7.797c0-2.506 1.492-3.89 3.777-3.89 1.094 0 2.238.195 2.238.195v2.46h-1.26c-1.243 0-1.63.771-1.63 1.562V10h2.773l-.443 2.89h-2.33v6.988C16.343 19.128 20 14.991 20 10z",clipRule:"evenodd"})})]})})]})]})]})})}function N5(){const[e,t]=v.useState(""),[s,r]=v.useState(!1),[n,a]=v.useState(!1),[o,l]=v.useState(""),{resetPassword:c}=Ke(),u=async d=>{if(d.preventDefault(),!e){l("Please enter your email address");return}r(!0),l("");try{await c(e)&&a(!0)}catch{l("An error occurred. Please try again.")}finally{r(!1)}};return n?i.jsx("div",{className:"min-h-screen flex items-center justify-center bg-neutral-50 py-12 px-4 sm:px-6 lg:px-8",children:i.jsxs("div",{className:"max-w-md w-full space-y-8",children:[i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-green-100 mb-4",children:i.jsx(qt,{className:"h-6 w-6 text-green-600"})}),i.jsx("h2",{className:"text-3xl font-extrabold text-neutral-900",children:"Check your email"}),i.jsxs("p",{className:"mt-2 text-sm text-neutral-600",children:["We've sent a password reset link to ",i.jsx("strong",{children:e})]})]}),i.jsx("div",{className:"bg-white py-8 px-6 shadow rounded-lg",children:i.jsxs("div",{className:"space-y-4",children:[i.jsx("p",{className:"text-sm text-neutral-600",children:"Click the link in the email to reset your password. If you don't see the email, check your spam folder."}),i.jsxs("div",{className:"flex flex-col space-y-3",children:[i.jsx("button",{onClick:()=>{a(!1),t("")},className:"w-full flex justify-center py-2 px-4 border border-neutral-300 rounded-md shadow-sm text-sm font-medium text-neutral-700 bg-white hover:bg-neutral-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:"Try different email"}),i.jsx(O,{to:"/login",className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:"Back to Sign In"})]})]})})]})}):i.jsx("div",{className:"min-h-screen flex items-center justify-center bg-neutral-50 py-12 px-4 sm:px-6 lg:px-8",children:i.jsxs("div",{className:"max-w-md w-full space-y-8",children:[i.jsxs("div",{children:[i.jsxs(O,{to:"/login",className:"flex items-center text-primary-600 hover:text-primary-500 mb-6",children:[i.jsx(dd,{className:"w-4 h-4 mr-2"}),"Back to Sign In"]}),i.jsxs("div",{className:"text-center",children:[i.jsx("h2",{className:"text-3xl font-extrabold text-neutral-900",children:"Forgot your password?"}),i.jsx("p",{className:"mt-2 text-sm text-neutral-600",children:"Enter your email address and we'll send you a link to reset your password."})]})]}),o&&i.jsx("div",{className:"bg-red-50 border-l-4 border-red-400 p-4",children:i.jsxs("div",{className:"flex",children:[i.jsx("div",{className:"flex-shrink-0",children:i.jsx("svg",{className:"h-5 w-5 text-red-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:i.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),i.jsx("div",{className:"ml-3",children:i.jsx("p",{className:"text-sm text-red-700",children:o})})]})}),i.jsxs("form",{className:"mt-8 space-y-6",onSubmit:u,children:[i.jsxs("div",{children:[i.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-neutral-700",children:"Email address"}),i.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[i.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:i.jsx(qt,{className:"h-5 w-5 text-neutral-400"})}),i.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,className:"block w-full pl-10 pr-3 py-2 border border-neutral-300 rounded-md leading-5 bg-white placeholder-neutral-500 focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm",placeholder:"Enter your email address",value:e,onChange:d=>t(d.target.value)})]})]}),i.jsx("div",{children:i.jsx("button",{type:"submit",disabled:s,className:`group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 ${s?"opacity-75 cursor-not-allowed":""}`,children:s?i.jsxs(i.Fragment,{children:[i.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[i.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),i.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Sending..."]}):"Send reset link"})})]})]})})}function S5(){const[e]=gg(),t=Ge(),{updatePassword:s}=Ke(),[r,n]=v.useState(""),[a,o]=v.useState(""),[l,c]=v.useState(!1),[u,d]=v.useState(!1),[h,m]=v.useState(!1),[x,w]=v.useState(""),[b,y]=v.useState(!1);v.useEffect(()=>{const f=e.get("access_token"),j=e.get("refresh_token");f&&j?y(!0):w("Invalid or expired reset link")},[e]);const g=f=>f.length<6?"Password must be at least 6 characters long":/(?=.*[a-z])/.test(f)?/(?=.*[A-Z])/.test(f)?/(?=.*\d)/.test(f)?"":"Password must contain at least one number":"Password must contain at least one uppercase letter":"Password must contain at least one lowercase letter",p=async f=>{f.preventDefault();const j=g(r);if(j){w(j);return}if(r!==a){w("Passwords do not match");return}m(!0),w("");try{await s(r)&&t("/login",{state:{message:"Password updated successfully. Please sign in with your new password."}})}catch{w("Failed to update password. Please try again.")}finally{m(!1)}};return b?i.jsx("div",{className:"min-h-screen flex items-center justify-center bg-neutral-50 py-12 px-4 sm:px-6 lg:px-8",children:i.jsxs("div",{className:"max-w-md w-full space-y-8",children:[i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-primary-100 mb-4",children:i.jsx(Ln,{className:"h-6 w-6 text-primary-600"})}),i.jsx("h2",{className:"text-3xl font-extrabold text-neutral-900",children:"Reset your password"}),i.jsx("p",{className:"mt-2 text-sm text-neutral-600",children:"Enter your new password below"})]}),x&&i.jsx("div",{className:"bg-red-50 border-l-4 border-red-400 p-4",children:i.jsxs("div",{className:"flex",children:[i.jsx("div",{className:"flex-shrink-0",children:i.jsx("svg",{className:"h-5 w-5 text-red-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:i.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),i.jsx("div",{className:"ml-3",children:i.jsx("p",{className:"text-sm text-red-700",children:x})})]})}),i.jsxs("form",{className:"mt-8 space-y-6",onSubmit:p,children:[i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-neutral-700",children:"New Password"}),i.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[i.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:i.jsx(Ln,{className:"h-5 w-5 text-neutral-400"})}),i.jsx("input",{id:"password",name:"password",type:l?"text":"password",autoComplete:"new-password",required:!0,className:"block w-full pl-10 pr-10 py-2 border border-neutral-300 rounded-md leading-5 bg-white placeholder-neutral-500 focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm",placeholder:"Enter new password",value:r,onChange:f=>n(f.target.value)}),i.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>c(!l),children:l?i.jsx(Ya,{className:"h-5 w-5 text-neutral-400"}):i.jsx(Ja,{className:"h-5 w-5 text-neutral-400"})})]})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-neutral-700",children:"Confirm New Password"}),i.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[i.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:i.jsx(Ln,{className:"h-5 w-5 text-neutral-400"})}),i.jsx("input",{id:"confirmPassword",name:"confirmPassword",type:u?"text":"password",autoComplete:"new-password",required:!0,className:"block w-full pl-10 pr-10 py-2 border border-neutral-300 rounded-md leading-5 bg-white placeholder-neutral-500 focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm",placeholder:"Confirm new password",value:a,onChange:f=>o(f.target.value)}),i.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>d(!u),children:u?i.jsx(Ya,{className:"h-5 w-5 text-neutral-400"}):i.jsx(Ja,{className:"h-5 w-5 text-neutral-400"})})]})]})]}),i.jsxs("div",{className:"bg-blue-50 p-4 rounded-md",children:[i.jsx("h4",{className:"text-sm font-medium text-blue-800 mb-2",children:"Password Requirements:"}),i.jsxs("ul",{className:"text-sm text-blue-700 space-y-1",children:[i.jsx("li",{children:"• At least 6 characters long"}),i.jsx("li",{children:"• Contains at least one lowercase letter"}),i.jsx("li",{children:"• Contains at least one uppercase letter"}),i.jsx("li",{children:"• Contains at least one number"})]})]}),i.jsx("div",{children:i.jsx("button",{type:"submit",disabled:h,className:`group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 ${h?"opacity-75 cursor-not-allowed":""}`,children:h?i.jsxs(i.Fragment,{children:[i.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[i.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),i.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Updating..."]}):"Update Password"})})]})]})}):i.jsx("div",{className:"min-h-screen flex items-center justify-center bg-neutral-50 py-12 px-4 sm:px-6 lg:px-8",children:i.jsx("div",{className:"max-w-md w-full space-y-8",children:i.jsxs("div",{className:"text-center",children:[i.jsx("h2",{className:"text-3xl font-extrabold text-neutral-900",children:"Invalid Reset Link"}),i.jsx("p",{className:"mt-2 text-sm text-neutral-600",children:"This password reset link is invalid or has expired."}),i.jsx("div",{className:"mt-6",children:i.jsx("button",{onClick:()=>t("/forgot-password"),className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:"Request New Reset Link"})})]})})})}function k5({onSubmit:e,initialData:t,isLoading:s=!1}){const{profile:r}=Ke(),[n,a]=v.useState({firstName:"",lastName:"",email:"",phone:"",address1:"",address2:"",city:"",state:"",postalCode:"",country:"Egypt",isDefault:!1,...t}),[o,l]=v.useState({}),[c,u]=v.useState({});v.useEffect(()=>{var b;if(r&&!t){const y=((b=r.full_name)==null?void 0:b.split(" "))||["",""];a(g=>({...g,firstName:y[0]||"",lastName:y.slice(1).join(" ")||"",email:r.email||"",phone:r.phone||""}))}},[r,t]);const d=["Cairo","Alexandria","Giza","Shubra El Kheima","Port Said","Suez","Luxor","Mansoura","El Mahalla El Kubra","Tanta","Asyut","Ismailia","Fayyum","Zagazig","Aswan","Damietta","Damanhur","Minya","Beni Suef","Qena","Sohag","Hurghada","Shibin El Kom","Banha","Kafr El Sheikh","Arish","Mallawi","Bilbays","Marsa Matruh","Idfu"],h=(b,y)=>{const g={...o};switch(b){case"firstName":y.trim()?delete g.firstName:g.firstName="First name is required";break;case"lastName":y.trim()?delete g.lastName:g.lastName="Last name is required";break;case"email":y.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(y)?delete g.email:g.email="Please enter a valid email address":g.email="Email is required";break;case"phone":y.trim()?/^(\+20|0)?1[0-9]{9}$/.test(y.replace(/\s/g,""))?delete g.phone:g.phone="Please enter a valid Egyptian phone number":g.phone="Phone number is required";break;case"address1":y.trim()?delete g.address1:g.address1="Address is required";break;case"city":y.trim()?delete g.city:g.city="City is required";break;case"state":y.trim()?delete g.state:g.state="State/Governorate is required";break;case"postalCode":y.trim()?/^\d{5}$/.test(y)?delete g.postalCode:g.postalCode="Please enter a valid 5-digit postal code":g.postalCode="Postal code is required";break}return l(g),Object.keys(g).length===0},m=b=>{const{name:y,value:g,type:p}=b.target,f=p==="checkbox"?b.target.checked:g;a(j=>({...j,[y]:f})),c[y]&&h(y,String(f))},x=b=>{const{name:y,value:g}=b.target;u(p=>({...p,[y]:!0})),h(y,g)},w=b=>{b.preventDefault();const y=Object.keys(n).reduce((p,f)=>({...p,[f]:!0}),{});u(y);let g=!0;Object.entries(n).forEach(([p,f])=>{p!=="address2"&&p!=="isDefault"&&(g=h(p,String(f))&&g)}),g&&e(n)};return i.jsxs("form",{onSubmit:w,className:"space-y-6",children:[i.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-neutral-200",children:[i.jsxs("h3",{className:"text-lg font-medium mb-4 flex items-center",children:[i.jsx(jt,{className:"w-5 h-5 mr-2 text-primary-600"}),"Contact Information"]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{htmlFor:"firstName",className:"block text-sm font-medium text-neutral-700 mb-1",children:"First Name *"}),i.jsx("input",{type:"text",id:"firstName",name:"firstName",value:n.firstName,onChange:m,onBlur:x,className:`w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 ${o.firstName?"border-red-500":"border-neutral-300"}`,placeholder:"Enter your first name"}),o.firstName&&i.jsx("p",{className:"mt-1 text-sm text-red-600",children:o.firstName})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"lastName",className:"block text-sm font-medium text-neutral-700 mb-1",children:"Last Name *"}),i.jsx("input",{type:"text",id:"lastName",name:"lastName",value:n.lastName,onChange:m,onBlur:x,className:`w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 ${o.lastName?"border-red-500":"border-neutral-300"}`,placeholder:"Enter your last name"}),o.lastName&&i.jsx("p",{className:"mt-1 text-sm text-red-600",children:o.lastName})]}),i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"email",className:"block text-sm font-medium text-neutral-700 mb-1",children:[i.jsx(qt,{className:"w-4 h-4 inline mr-1"}),"Email Address *"]}),i.jsx("input",{type:"email",id:"email",name:"email",value:n.email,onChange:m,onBlur:x,className:`w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 ${o.email?"border-red-500":"border-neutral-300"}`,placeholder:"your.email@example.com"}),o.email&&i.jsx("p",{className:"mt-1 text-sm text-red-600",children:o.email})]}),i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"phone",className:"block text-sm font-medium text-neutral-700 mb-1",children:[i.jsx(Lc,{className:"w-4 h-4 inline mr-1"}),"Phone Number *"]}),i.jsx("input",{type:"tel",id:"phone",name:"phone",value:n.phone,onChange:m,onBlur:x,className:`w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 ${o.phone?"border-red-500":"border-neutral-300"}`,placeholder:"01234567890"}),o.phone&&i.jsx("p",{className:"mt-1 text-sm text-red-600",children:o.phone})]})]})]}),i.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-neutral-200",children:[i.jsxs("h3",{className:"text-lg font-medium mb-4 flex items-center",children:[i.jsx(gj,{className:"w-5 h-5 mr-2 text-primary-600"}),"Shipping Address"]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{htmlFor:"address1",className:"block text-sm font-medium text-neutral-700 mb-1",children:"Street Address *"}),i.jsx("input",{type:"text",id:"address1",name:"address1",value:n.address1,onChange:m,onBlur:x,className:`w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 ${o.address1?"border-red-500":"border-neutral-300"}`,placeholder:"123 Main Street"}),o.address1&&i.jsx("p",{className:"mt-1 text-sm text-red-600",children:o.address1})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"address2",className:"block text-sm font-medium text-neutral-700 mb-1",children:"Apartment, suite, etc. (optional)"}),i.jsx("input",{type:"text",id:"address2",name:"address2",value:n.address2,onChange:m,className:"w-full px-3 py-2 border border-neutral-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",placeholder:"Apartment, suite, unit, building, floor, etc."})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{htmlFor:"city",className:"block text-sm font-medium text-neutral-700 mb-1",children:"City *"}),i.jsx("input",{type:"text",id:"city",name:"city",value:n.city,onChange:m,onBlur:x,className:`w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 ${o.city?"border-red-500":"border-neutral-300"}`,placeholder:"Cairo"}),o.city&&i.jsx("p",{className:"mt-1 text-sm text-red-600",children:o.city})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"state",className:"block text-sm font-medium text-neutral-700 mb-1",children:"Governorate *"}),i.jsxs("select",{id:"state",name:"state",value:n.state,onChange:m,onBlur:x,className:`w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 ${o.state?"border-red-500":"border-neutral-300"}`,children:[i.jsx("option",{value:"",children:"Select Governorate"}),d.map(b=>i.jsx("option",{value:b,children:b},b))]}),o.state&&i.jsx("p",{className:"mt-1 text-sm text-red-600",children:o.state})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"postalCode",className:"block text-sm font-medium text-neutral-700 mb-1",children:"Postal Code *"}),i.jsx("input",{type:"text",id:"postalCode",name:"postalCode",value:n.postalCode,onChange:m,onBlur:x,className:`w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 ${o.postalCode?"border-red-500":"border-neutral-300"}`,placeholder:"12345",maxLength:5}),o.postalCode&&i.jsx("p",{className:"mt-1 text-sm text-red-600",children:o.postalCode})]})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"country",className:"block text-sm font-medium text-neutral-700 mb-1",children:"Country *"}),i.jsx("select",{id:"country",name:"country",value:n.country,onChange:m,className:"w-full px-3 py-2 border border-neutral-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",children:i.jsx("option",{value:"Egypt",children:"Egypt"})})]}),i.jsxs("div",{className:"flex items-center",children:[i.jsx("input",{type:"checkbox",id:"isDefault",name:"isDefault",checked:n.isDefault,onChange:m,className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-neutral-300 rounded"}),i.jsx("label",{htmlFor:"isDefault",className:"ml-2 block text-sm text-neutral-700",children:"Save as default shipping address"})]})]})]}),i.jsx("button",{type:"submit",disabled:s,className:`w-full py-3 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 ${s?"opacity-75 cursor-not-allowed":""}`,children:s?"Processing...":"Continue to Payment"})]})}function _5({onSelect:e,selectedMethod:t}){const s=[{id:"standard",name:"Standard Shipping",description:"Delivered within business days",price:150,estimatedDays:"5-7 business days",icon:Ic},{id:"express",name:"Express Shipping",description:"Faster delivery for urgent orders",price:300,estimatedDays:"2-3 business days",icon:hj},{id:"same-day",name:"Same Day Delivery",description:"Available in Cairo and Giza only",price:500,estimatedDays:"Same day",icon:Tj}],[r,n]=v.useState((t==null?void 0:t.id)||"standard"),a=o=>{n(o.id),e(o)};return i.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-neutral-200",children:[i.jsxs("h3",{className:"text-lg font-medium mb-4 flex items-center",children:[i.jsx(Ic,{className:"w-5 h-5 mr-2 text-primary-600"}),"Shipping Method"]}),i.jsx("div",{className:"space-y-3",children:s.map(o=>{const l=o.icon,c=r===o.id;return i.jsxs("div",{className:`relative border rounded-lg p-4 cursor-pointer transition-all ${c?"border-primary-600 bg-primary-50 ring-2 ring-primary-500":"border-neutral-200 hover:border-neutral-300"}`,onClick:()=>a(o),children:[i.jsxs("div",{className:"flex items-start",children:[i.jsx("div",{className:"flex items-center h-5",children:i.jsx("input",{type:"radio",name:"shipping-method",value:o.id,checked:c,onChange:()=>a(o),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-neutral-300"})}),i.jsx("div",{className:"ml-3 flex-1",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx(l,{className:"w-5 h-5 text-primary-600 mr-2"}),i.jsxs("div",{children:[i.jsx("h4",{className:"text-sm font-medium text-neutral-900",children:o.name}),i.jsx("p",{className:"text-sm text-neutral-500",children:o.description})]})]}),i.jsxs("div",{className:"text-right",children:[i.jsx("p",{className:"text-sm font-medium text-neutral-900",children:o.price===0?"Free":ve(o.price)}),i.jsx("p",{className:"text-xs text-neutral-500",children:o.estimatedDays})]})]})})]}),o.id==="same-day"&&i.jsx("div",{className:"mt-2 ml-7",children:i.jsx("p",{className:"text-xs text-amber-600 bg-amber-50 px-2 py-1 rounded",children:"⚠️ Available only in Cairo and Giza. Order before 2 PM for same-day delivery."})})]},o.id)})}),i.jsx("div",{className:"mt-4 p-3 bg-blue-50 rounded-lg",children:i.jsxs("p",{className:"text-sm text-blue-700",children:[i.jsx("strong",{children:"Free shipping"})," on orders over ج.م 1,500 (excluding same-day delivery)"]})})]})}function C5({title:e,titleId:t,...s},r){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},s),e?v.createElement("title",{id:t},e):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 19.5 3 12m0 0 7.5-7.5M3 12h18"}))}const P5=v.forwardRef(C5);function E5({title:e,titleId:t,...s},r){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},s),e?v.createElement("title",{id:t},e):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const T5=v.forwardRef(E5);function A5({title:e,titleId:t,...s},r){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},s),e?v.createElement("title",{id:t},e):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m8.25 4.5 7.5 7.5-7.5 7.5"}))}const R5=v.forwardRef(A5);function O5({title:e,titleId:t,...s},r){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},s),e?v.createElement("title",{id:t},e):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 10.5V6a3.75 3.75 0 1 0-7.5 0v4.5m11.356-1.993 1.263 12c.07.665-.45 1.243-1.119 1.243H4.25a1.125 1.125 0 0 1-1.12-1.243l1.264-12A1.125 1.125 0 0 1 5.513 7.5h12.974c.576 0 1.059.435 1.119 1.007ZM8.625 10.5a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm7.5 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Z"}))}const Jr=v.forwardRef(O5);function D5({title:e,titleId:t,...s},r){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},s),e?v.createElement("title",{id:t},e):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 18.75a1.5 1.5 0 0 1-3 0m3 0a1.5 1.5 0 0 0-3 0m3 0h6m-9 0H3.375a1.125 1.125 0 0 1-1.125-1.125V14.25m17.25 4.5a1.5 1.5 0 0 1-3 0m3 0a1.5 1.5 0 0 0-3 0m3 0h1.125c.621 0 1.129-.504 1.09-1.124a17.902 17.902 0 0 0-3.213-9.193 2.056 2.056 0 0 0-1.58-.86H14.25M16.5 18.75h-2.25m0-11.177v-.958c0-.568-.422-1.048-.987-1.106a48.554 48.554 0 0 0-10.026 0 1.106 1.106 0 0 0-.987 1.106v7.635m12-6.677v6.677m0 4.5v-4.5m0 0h-12"}))}const Fy=v.forwardRef(D5);function zy({items:e,subtotal:t,shippingCost:s,tax:r,total:n,shippingMethod:a,shippingAddress:o}){const l={standard:"Standard Shipping",express:"Express Shipping","free-shipping":"Free Shipping"}[a]||"Standard Shipping",c=s===0?"Free":ve(s);return i.jsxs("div",{className:"bg-white shadow overflow-hidden sm:rounded-lg",children:[i.jsx("div",{className:"px-4 py-5 sm:px-6 border-b border-neutral-200",children:i.jsx("h3",{className:"text-lg font-medium leading-6 text-neutral-900",children:"Order Summary"})}),i.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[i.jsx("div",{className:"flow-root",children:i.jsx("ul",{className:"divide-y divide-neutral-200",children:e.map(u=>i.jsxs("li",{className:"py-4 flex",children:[i.jsx("div",{className:"h-20 w-20 flex-shrink-0 overflow-hidden rounded-md border border-neutral-200",children:u.image?i.jsx("img",{src:u.image,alt:u.name,className:"h-full w-full object-cover object-center"}):i.jsx("div",{className:"h-full w-full bg-neutral-100 flex items-center justify-center",children:i.jsx(Jr,{className:"h-8 w-8 text-neutral-400"})})}),i.jsxs("div",{className:"ml-4 flex flex-1 flex-col",children:[i.jsxs("div",{children:[i.jsxs("div",{className:"flex justify-between text-base font-medium text-neutral-900",children:[i.jsx("h3",{children:i.jsx(O,{to:`/products/${u.id}`,className:"hover:text-primary-600",children:u.name})}),i.jsx("p",{className:"ml-4",children:ve(u.price*u.quantity)})]}),i.jsxs("p",{className:"mt-1 text-sm text-neutral-500",children:["Qty: ",u.quantity]})]}),i.jsx("div",{className:"flex-1 flex items-end justify-between text-sm",children:i.jsxs("p",{className:"text-neutral-500",children:[ve(u.price)," each"]})})]})]},u.id))})}),i.jsxs("div",{className:"mt-6 border-t border-neutral-200 pt-6",children:[i.jsx("h4",{className:"text-sm font-medium text-neutral-900 mb-4",children:"Shipping Address"}),i.jsxs("div",{className:"text-sm text-neutral-700 space-y-1",children:[i.jsxs("p",{children:[o.firstName," ",o.lastName]}),i.jsx("p",{children:o.address1}),o.address2&&i.jsx("p",{children:o.address2}),i.jsxs("p",{children:[o.city,", ",o.state," ",o.postalCode]}),i.jsx("p",{children:o.country}),o.email&&i.jsx("p",{className:"mt-2 text-primary-600",children:o.email}),o.phone&&i.jsx("p",{className:"text-primary-600",children:o.phone})]})]}),i.jsxs("div",{className:"mt-6 border-t border-neutral-200 pt-6",children:[i.jsx("h4",{className:"text-sm font-medium text-neutral-900 mb-4",children:"Shipping Method"}),i.jsxs("div",{className:"flex justify-between text-sm text-neutral-700",children:[i.jsx("p",{children:l}),i.jsx("p",{children:c})]})]}),i.jsx("div",{className:"mt-6 border-t border-neutral-200 pt-6",children:i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex justify-between text-sm text-neutral-600",children:[i.jsx("p",{children:"Subtotal"}),i.jsx("p",{children:ve(t)})]}),i.jsxs("div",{className:"flex justify-between text-sm text-neutral-600",children:[i.jsx("p",{children:"Shipping"}),i.jsx("p",{children:s===0?"Free":ve(s)})]}),i.jsxs("div",{className:"flex justify-between text-sm text-neutral-600",children:[i.jsx("p",{children:"Tax"}),i.jsx("p",{children:ve(r)})]}),i.jsxs("div",{className:"flex justify-between pt-3 border-t border-neutral-200 text-base font-medium text-neutral-900",children:[i.jsx("p",{children:"Total"}),i.jsx("p",{children:ve(n)})]})]})})]})]})}function L5(){const e=Ge(),{cartItems:t,getTotalPrice:s}=As(),{isAuthenticated:r}=Ke(),[n,a]=v.useState("shipping"),[o,l]=v.useState(null),[c,u]=v.useState(null),[d,h]=v.useState(!1),[m,x]=v.useState(null);v.useEffect(()=>{t.length===0&&e("/cart")},[t,e]);const w=s(),b=(c==null?void 0:c.price)||0,y=w*tx,g=w+b+y,p=async S=>{try{if(h(!0),x(null),console.log("Shipping address submitted:",S),!S.firstName||!S.lastName||!S.email||!S.address1||!S.city)throw new Error("Please fill in all required fields");l(S),c&&j(S,c)}catch(_){console.error("Error submitting shipping address:",_),x(_ instanceof Error?_.message:"Failed to save shipping address")}finally{h(!1)}},f=async S=>{try{h(!0),x(null),console.log("Shipping method selected:",S),u(S),o&&j(o,S)}catch(_){console.error("Error selecting shipping method:",_),x(_ instanceof Error?_.message:"Failed to select shipping method")}finally{h(!1)}},j=(S,_)=>{try{if(console.log("Proceeding to payment with:",{address:S,method:_,cartItems:t}),!S||!_||t.length===0)throw new Error("Missing required checkout information");e("/checkout/confirmation",{state:{shippingAddress:S,shippingMethod:_.id,cartItems:t,totals:{subtotal:w,shippingCost:_.price,tax:y,total:w+_.price+y}},replace:!1})}catch(k){console.error("Error proceeding to payment:",k),x(k instanceof Error?k.message:"Failed to proceed to payment")}},N=()=>{o&&c?j(o,c):x("Please complete both shipping address and method selection")};return t.length===0?null:i.jsx("div",{className:"min-h-screen bg-neutral-50",children:i.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-7xl",children:[i.jsxs("div",{className:"mb-8",children:[i.jsxs("button",{onClick:()=>e("/cart"),className:"flex items-center text-neutral-600 hover:text-primary-600 transition-colors mb-4",children:[i.jsx(dd,{className:"w-4 h-4 mr-2"}),"Back to Cart"]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h1",{className:"text-3xl font-bold text-neutral-900",children:"Checkout"}),i.jsxs("div",{className:"flex items-center text-sm text-neutral-500",children:[i.jsx(Ln,{className:"w-4 h-4 mr-1"}),"Secure Checkout"]})]}),i.jsx("div",{className:"mt-6",children:i.jsxs("div",{className:"flex items-center",children:[i.jsxs("div",{className:`flex items-center ${n==="shipping"?"text-primary-600":"text-neutral-400"}`,children:[i.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium ${n==="shipping"?"bg-primary-600 text-white":"bg-neutral-200"}`,children:"1"}),i.jsx("span",{className:"ml-2 font-medium",children:"Shipping"})]}),i.jsx("div",{className:"flex-1 h-px bg-neutral-200 mx-4"}),i.jsxs("div",{className:`flex items-center ${n==="payment"?"text-primary-600":"text-neutral-400"}`,children:[i.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium ${n==="payment"?"bg-primary-600 text-white":"bg-neutral-200"}`,children:"2"}),i.jsx("span",{className:"ml-2 font-medium",children:"Payment"})]})]})})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[i.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[!r&&i.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:i.jsxs("p",{className:"text-blue-700",children:[i.jsx("strong",{children:"Guest Checkout:"})," You're checking out as a guest.",i.jsx("button",{onClick:()=>e("/login",{state:{from:{pathname:"/checkout"}}}),className:"ml-1 text-blue-600 hover:text-blue-800 underline",children:"Sign in"})," ","or"," ",i.jsx("button",{onClick:()=>e("/register",{state:{from:{pathname:"/checkout"}}}),className:"text-blue-600 hover:text-blue-800 underline",children:"create an account"})," ","to save your information for faster checkout."]})}),m&&i.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx("svg",{className:"w-5 h-5 text-red-600 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),i.jsx("p",{className:"text-red-800 text-sm font-medium",children:m})]}),i.jsx("button",{onClick:()=>x(null),className:"mt-2 text-sm text-red-700 hover:text-red-800 underline",children:"Dismiss"})]}),i.jsx(k5,{onSubmit:p,isLoading:d}),i.jsx(_5,{onSelect:f,selectedMethod:c||void 0}),o&&c&&i.jsx("div",{className:"flex justify-end",children:i.jsx("button",{onClick:N,disabled:d,className:"px-6 py-3 bg-primary-600 text-white font-medium rounded-md hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:d?"Processing...":"Continue to Payment"})}),(!o||!c)&&i.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[i.jsx("h3",{className:"text-blue-800 font-medium mb-2",children:"Complete these steps to continue:"}),i.jsxs("ul",{className:"text-blue-700 text-sm space-y-1",children:[i.jsxs("li",{className:`flex items-center ${o?"line-through opacity-60":""}`,children:[i.jsx("span",{className:`w-4 h-4 rounded-full mr-2 flex items-center justify-center text-xs ${o?"bg-green-500 text-white":"bg-blue-200 text-blue-800"}`,children:o?"✓":"1"}),"Fill in shipping address"]}),i.jsxs("li",{className:`flex items-center ${c?"line-through opacity-60":""}`,children:[i.jsx("span",{className:`w-4 h-4 rounded-full mr-2 flex items-center justify-center text-xs ${c?"bg-green-500 text-white":"bg-blue-200 text-blue-800"}`,children:c?"✓":"2"}),"Select shipping method"]})]})]})]}),i.jsx("div",{className:"lg:col-span-1",children:i.jsxs("div",{className:"sticky top-8",children:[i.jsx(zy,{items:t.map(S=>{var _;return{id:S.id,name:S.name,price:S.price,quantity:S.quantity,image:(_=S.images)==null?void 0:_[0]}}),subtotal:w,shippingCost:b,tax:y,total:g,shippingMethod:(c==null?void 0:c.name)||"Not selected",shippingAddress:o||{}}),i.jsx("div",{className:"mt-6 p-4 bg-green-50 rounded-lg border border-green-200",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx(Ln,{className:"w-5 h-5 text-green-600 mr-2"}),i.jsxs("div",{children:[i.jsx("h4",{className:"text-sm font-medium text-green-800",children:"Secure Checkout"}),i.jsx("p",{className:"text-sm text-green-700",children:"Your payment information is encrypted and secure."})]})]})})]})})]})]})})}function M5({onSuccess:e,onError:t,isProcessing:s,disabled:r=!1}){const[n,a]=v.useState({cardNumber:"",cardName:"",expiryDate:"",cvv:"",saveCard:!1}),[o,l]=v.useState({}),[c,u]=v.useState({}),[d,h]=v.useState(!1),m=N=>{const{name:S,value:_,type:k,checked:A}=N.target,T=k==="checkbox"?A:_;a(H=>({...H,[S]:T})),c[S]&&y(S,String(T))},x=N=>{const{name:S,value:_}=N.target;c[S]||u(k=>({...k,[S]:!0})),y(S,_)},w=N=>{const S=N.replace(/\s+/g,"").replace(/[^0-9]/gi,""),_=[];for(let k=0;k<S.length;k+=4)_.push(S.substring(k,k+4));return _.join(" ")},b=N=>{const S=N.replace(/\s+/g,"").replace(/[^0-9]/gi,"");return S.length>=3?`${S.slice(0,2)}/${S.slice(2,4)}`:S},y=(N,S)=>{const _={...o};switch(N){case"cardNumber":{const k=S.replace(/\s/g,"");k?/^\d{16}$/.test(k)?delete _.cardNumber:_.cardNumber="Please enter a valid 16-digit card number":_.cardNumber="Card number is required";break}case"cardName":{S.trim()?delete _.cardName:_.cardName="Name on card is required";break}case"expiryDate":{if(!S)_.expiryDate="Expiry date is required";else if(!/^(0[1-9]|1[0-2])\/([0-9]{2})$/.test(S))_.expiryDate="Please enter a valid expiry date (MM/YY)";else{const[k,A]=S.split("/").map(Number),T=new Date,H=T.getFullYear()%100,B=T.getMonth()+1;A<H||A===H&&k<B?_.expiryDate="This card has expired":delete _.expiryDate}break}case"cvv":{S?/^\d{3,4}$/.test(S)?delete _.cvv:_.cvv="Please enter a valid CVV (3 or 4 digits)":_.cvv="CVV is required";break}}return l(_),Object.keys(_).length===0},g=()=>{const N=Object.keys(n).reduce((_,k)=>({..._,[k]:!0}),{});u(N);let S=!0;return Object.entries(n).forEach(([_,k])=>{_!=="saveCard"&&(S=y(_,String(k))&&S)}),S},p=async N=>{if(N.preventDefault(),!!g()&&!(d||s||r)){h(!0),l({});try{console.log("🚫 DEMO MODE: NO REAL PAYMENT WILL BE PROCESSED"),console.log("🎭 Simulating payment for demonstration purposes only");const S=Math.random()*1e3+500;await new Promise(k=>setTimeout(k,S));const _={paymentId:`DEMO_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,status:"demo_success",timestamp:new Date().toISOString(),lastFour:n.cardNumber.replace(/\s/g,"").slice(-4),cardType:f(n.cardNumber),isDemoMode:!0,realPayment:!1,demoNotice:"This is a demonstration - no actual payment was processed"};console.log("🎭 DEMO: Payment simulation completed successfully"),console.log("💡 No money was charged - this is for demonstration only"),e(_)}catch(S){console.error("Demo payment simulation error:",S);const _=S instanceof Error?S.message:"Demo payment simulation failed. Please try again.";l({payment:_}),t(S)}finally{h(!1)}}},f=N=>{const S=N.replace(/\s/g,"");return/^4/.test(S)?"Visa":/^5[1-5]/.test(S)?"Mastercard":/^3[47]/.test(S)?"American Express":/^6(?:011|5)/.test(S)?"Discover":"Card"},j=d||s||r;return i.jsxs("form",{onSubmit:p,className:"space-y-6",children:[i.jsx("div",{className:"bg-red-50 border-2 border-red-200 rounded-lg p-6",children:i.jsxs("div",{className:"flex items-start",children:[i.jsx("div",{className:"flex-shrink-0",children:i.jsx("svg",{className:"h-6 w-6 text-red-600",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})}),i.jsxs("div",{className:"ml-3",children:[i.jsx("h3",{className:"text-lg font-bold text-red-800",children:"⚠️ DEMO MODE - NO REAL PAYMENTS ⚠️"}),i.jsxs("div",{className:"mt-2 text-sm text-red-700",children:[i.jsx("p",{className:"font-semibold",children:"This is a demonstration checkout system."}),i.jsx("p",{children:"• No real payment will be processed"}),i.jsx("p",{children:"• No money will be charged to any card"}),i.jsx("p",{children:"• Use any test card details (e.g., 4242 4242 4242 4242)"}),i.jsx("p",{children:"• This is for demonstration purposes only"})]})]})]})}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"border border-neutral-200 rounded-md p-4 space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{htmlFor:"cardNumber",className:"block text-sm font-medium text-neutral-700 mb-1",children:"Card number (Demo - use any 16 digits)"}),i.jsx("input",{type:"text",id:"cardNumber",name:"cardNumber",value:w(n.cardNumber),onChange:N=>{N.target.value=w(N.target.value),m(N)},onBlur:x,maxLength:19,placeholder:"4242 4242 4242 4242",disabled:j,className:`mt-1 block w-full rounded-md border ${o.cardNumber?"border-red-500":"border-neutral-300"} shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm disabled:bg-neutral-100 disabled:cursor-not-allowed`}),o.cardNumber&&i.jsx("p",{className:"mt-1 text-sm text-red-600",children:o.cardNumber})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"cardName",className:"block text-sm font-medium text-neutral-700 mb-1",children:"Name on card (Demo - any name)"}),i.jsx("input",{type:"text",id:"cardName",name:"cardName",value:n.cardName,onChange:m,onBlur:x,placeholder:"John Doe",disabled:j,className:`mt-1 block w-full rounded-md border ${o.cardName?"border-red-500":"border-neutral-300"} shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm disabled:bg-neutral-100 disabled:cursor-not-allowed`}),o.cardName&&i.jsx("p",{className:"mt-1 text-sm text-red-600",children:o.cardName})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{htmlFor:"expiryDate",className:"block text-sm font-medium text-neutral-700 mb-1",children:"Expiry date (Demo)"}),i.jsx("input",{type:"text",id:"expiryDate",name:"expiryDate",value:n.expiryDate,onChange:N=>{N.target.value=b(N.target.value),m(N)},onBlur:x,maxLength:5,placeholder:"12/28",disabled:j,className:`mt-1 block w-full rounded-md border ${o.expiryDate?"border-red-500":"border-neutral-300"} shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm disabled:bg-neutral-100 disabled:cursor-not-allowed`}),o.expiryDate&&i.jsx("p",{className:"mt-1 text-sm text-red-600",children:o.expiryDate})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"cvv",className:"block text-sm font-medium text-neutral-700 mb-1",children:"CVV (Demo)"}),i.jsx("input",{type:"text",id:"cvv",name:"cvv",value:n.cvv,onChange:m,onBlur:x,maxLength:4,placeholder:"123",disabled:j,className:`mt-1 block w-full rounded-md border ${o.cvv?"border-red-500":"border-neutral-300"} shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm disabled:bg-neutral-100 disabled:cursor-not-allowed`}),o.cvv&&i.jsx("p",{className:"mt-1 text-sm text-red-600",children:o.cvv})]})]})]}),i.jsxs("div",{className:"flex items-center",children:[i.jsx("input",{id:"save-card",name:"saveCard",type:"checkbox",className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-neutral-300 rounded disabled:cursor-not-allowed",checked:n.saveCard,onChange:m,disabled:j}),i.jsx("label",{htmlFor:"save-card",className:"ml-2 block text-sm text-neutral-700",children:"Save card for future purchases (Demo only - not functional)"})]}),Object.entries(o).map(([N,S])=>i.jsx("div",{className:"text-sm text-red-600 p-2 bg-red-50 rounded-md mt-1",children:i.jsx("p",{children:S})},N))]}),i.jsxs("div",{className:"mt-6",children:[i.jsx("button",{type:"submit",disabled:j,className:`w-full flex justify-center py-3 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 transition-colors ${j?"opacity-75 cursor-not-allowed hover:bg-primary-600":""}`,children:d||s?i.jsxs(i.Fragment,{children:[i.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[i.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),i.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"🎭 Simulating Payment..."]}):"🎭 Complete Demo Order (No Real Payment)"}),i.jsx("p",{className:"mt-3 text-center text-sm text-red-600 font-semibold",children:"⚠️ DEMO MODE - No real payment will be processed ⚠️"}),i.jsx("div",{className:"mt-6 flex justify-center space-x-6",children:["Demo Only","No Real Charges","Test Mode"].map(N=>i.jsx("div",{className:"h-8 flex items-center",children:i.jsx("div",{className:"text-xs font-medium text-red-500 bg-red-50 px-2 py-1 rounded",children:N})},N))})]})]})}const I5=(e,t)=>v.useMemo(()=>{const s=(Array.isArray(e)?e:[]).filter(l=>!!l&&typeof l.id=="string"&&typeof l.name=="string"&&typeof l.price=="number"&&typeof l.quantity=="number"&&l.quantity>0),r=s.reduce((l,c)=>{const u=Fr(c.price||0),d=c.quantity||0;return l+u*d},0),n=t==="express"?Rm.express:Rm.standard,a=r*tx,o=r+n+a;return{safeCartItems:s,subtotal:r,shippingCost:n,tax:a,total:o}},[e,t]),$5=({message:e="Loading..."})=>i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-neutral-50 to-neutral-100 flex items-center justify-center",children:i.jsxs("div",{className:"text-center bg-white p-8 rounded-xl shadow-lg",children:[i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-4 border-primary-200 border-t-primary-600 mx-auto mb-4"}),i.jsx("p",{className:"text-neutral-600 font-medium",children:e})]})}),Ll=({title:e,message:t,actionText:s,onAction:r})=>i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-red-50 to-neutral-50 py-12 px-4 sm:px-6 lg:px-8",children:i.jsx("div",{className:"max-w-md mx-auto",children:i.jsxs("div",{className:"text-center bg-white p-8 rounded-xl shadow-lg border border-red-100",children:[i.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:i.jsx("svg",{className:"w-8 h-8 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L4.082 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),i.jsx("h2",{className:"text-xl font-semibold text-neutral-900 mb-2",children:e}),i.jsx("p",{className:"text-neutral-600 mb-6",children:t}),i.jsx("button",{onClick:r,className:"w-full inline-flex items-center justify-center px-6 py-3 border border-transparent text-base font-medium rounded-lg shadow-sm text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 transition-colors",children:s})]})})}),F5=({isVisible:e})=>e?i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 backdrop-blur-sm",children:i.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-2xl max-w-md w-full mx-4 text-center",children:[i.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:i.jsx("svg",{className:"w-8 h-8 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),i.jsx("h3",{className:"text-xl font-semibold text-neutral-900 mb-2",children:"Demo Order Created!"}),i.jsx("p",{className:"text-neutral-600 mb-4",children:"Your demo order has been saved successfully."}),i.jsx("div",{className:"animate-pulse text-sm text-neutral-500",children:"Redirecting to confirmation page..."})]})}):null,z5=async(e,t,s,r)=>{try{console.log("Creating order in database...",{orderDetails:t,paymentResult:s});const n=`ORD-${Date.now()}-${Math.random().toString(36).substring(2,8).toUpperCase()}`,{data:a,error:o}=await J.from("orders").insert({user_id:(e==null?void 0:e.id)||null,order_number:n,status:s.isDemoMode?"demo":"processing",total_amount:r.total,shipping_address:{firstName:t.shippingAddress.firstName,lastName:t.shippingAddress.lastName,email:t.shippingAddress.email,phone:t.shippingAddress.phone,address1:t.shippingAddress.address1,address2:t.shippingAddress.address2,city:t.shippingAddress.city,state:t.shippingAddress.state,postalCode:t.shippingAddress.postalCode,country:t.shippingAddress.country},billing_address:{firstName:t.shippingAddress.firstName,lastName:t.shippingAddress.lastName,email:t.shippingAddress.email,phone:t.shippingAddress.phone,address1:t.shippingAddress.address1,address2:t.shippingAddress.address2,city:t.shippingAddress.city,state:t.shippingAddress.state,postalCode:t.shippingAddress.postalCode,country:t.shippingAddress.country},payment_method:s.isDemoMode?"demo_card":"card",payment_status:s.isDemoMode?"demo_paid":"paid"}).select().single();if(o)throw console.error("Error creating order:",o),o;console.log("Order created successfully:",a);const l=t.items.map(h=>({order_id:a.id,product_id:h.id,quantity:h.quantity,price:Fr(h.price),size:h.size||null,color:h.color||null})),{error:c}=await J.from("order_items").insert(l);if(c)throw console.error("Error creating order items:",c),c;console.log("Order items created successfully");const u={id:a.id,orderNumber:a.order_number,date:a.created_at,status:a.status,total:a.total_amount,items:t.items.map(h=>{var m;return{id:h.id,name:h.name,price:Fr(h.price),quantity:h.quantity,image:(m=h.images)==null?void 0:m[0]}}),shippingAddress:t.shippingAddress,paymentMethod:a.payment_method,paymentId:s.paymentId,estimatedDelivery:new Date(Date.now()+5*24*60*60*1e3).toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric",year:"numeric"})},d=JSON.parse(localStorage.getItem("orders")||"[]");return d.unshift(u),localStorage.setItem("orders",JSON.stringify(d)),a}catch(n){throw console.error("Error in createOrderInDatabase:",n),n}};function V5(){var G,Z;const[e,t]=v.useState(!1),[s,r]=v.useState("idle"),[n,a]=v.useState(null),[o,l]=v.useState(null),[c,u]=v.useState(null),{cartItems:d=[],clearCart:h}=As(),{user:m}=Ke(),x=dt(),w=Ge(),b=(G=x.state)==null?void 0:G.shippingAddress,y=((Z=x.state)==null?void 0:Z.shippingMethod)||"standard",{safeCartItems:g,subtotal:p,shippingCost:f,tax:j,total:N}=I5(d,y),S=v.useMemo(()=>(console.log("Validating checkout data:",{hasShippingAddress:!!b,hasCartItems:g.length>0,shippingAddressValid:b&&b.firstName&&b.email&&b.address1,cartItemsCount:g.length}),b&&g.length>0&&b.firstName&&b.email&&b.address1),[b,g]);v.useEffect(()=>{if(console.log("Initializing order details...",{isValidCheckout:S,isInitialized:e,cartItemsLength:g.length,total:N}),!S){console.log("Invalid checkout data detected");return}if(!e)try{const Re={orderId:`ORD-${Date.now()}-${Math.random().toString(36).substring(2,8).toUpperCase()}`,amount:N,items:g,shippingAddress:b,paymentMethod:"card",createdAt:new Date};console.log("Created order details:",Re),a(Re),t(!0)}catch(R){console.error("Error creating order details:",R),l("Failed to prepare order. Please try again.")}},[S,N,g,b,e]),v.useEffect(()=>()=>{c&&clearTimeout(c)},[c]);const _=v.useCallback(async R=>{try{if(r("processing"),l(null),!n)throw new Error("Order details not found");console.log("Processing payment success and creating order...",R),c&&clearTimeout(c);const Re=setTimeout(()=>{console.warn("Payment processing timeout - forcing completion"),r("succeeded"),w(`/order-confirmation/${n.orderId}`,{state:{orderId:n.orderId,paymentId:R.paymentId,amount:n.amount,items:n.items,shippingAddress:n.shippingAddress,paymentMethod:n.paymentMethod,status:"succeeded",lastFour:R.lastFour,cardType:R.cardType,orderDate:n.createdAt,isDemoMode:R.isDemoMode||!0}})},1e4);u(Re);try{const W=await z5(m,n,R,{subtotal:p,shippingCost:f,tax:j,total:N});console.log("Order successfully created in database:",W),F.success("Demo order created successfully!")}catch(W){console.error("Database error (continuing anyway):",W),F.error("Order saved locally (database unavailable)")}await new Promise(W=>setTimeout(W,1500)),clearTimeout(Re),u(null),r("succeeded");try{await h(),console.log("Cart cleared successfully")}catch(W){console.warn("Failed to clear cart:",W)}setTimeout(()=>{w(`/order-confirmation/${n.orderId}`,{state:{orderId:n.orderId,paymentId:R.paymentId,amount:n.amount,items:n.items,shippingAddress:n.shippingAddress,paymentMethod:n.paymentMethod,status:"succeeded",lastFour:R.lastFour,cardType:R.cardType,orderDate:n.createdAt,isDemoMode:R.isDemoMode||!0}})},1e3)}catch(Re){console.error("Payment processing error:",Re),c&&(clearTimeout(c),u(null)),r("failed"),l(Re instanceof Error?Re.message:"Payment processing failed")}},[n,h,w,c,m,p,f,j,N]),k=v.useCallback(R=>{console.error("Payment error:",R),c&&(clearTimeout(c),u(null)),r("failed"),l((R==null?void 0:R.message)||"Payment failed. Please try again.")},[c]),A=v.useCallback(()=>{r("idle"),l(null),c&&(clearTimeout(c),u(null))},[c]),T=v.useCallback(()=>w("/checkout"),[w]),H=v.useCallback(()=>w("/cart"),[w]),B=v.useCallback(()=>w("/"),[w]);return b?g.length===0?i.jsx(Ll,{title:"Your Cart is Empty",message:"Add some items to your cart before proceeding to checkout.",actionText:"Continue Shopping",onAction:B}):!n&&S?i.jsx($5,{message:"Preparing your order..."}):n?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-neutral-50 to-neutral-100",children:i.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-7xl",children:[i.jsxs("div",{className:"mb-8",children:[i.jsxs("nav",{className:"flex items-center space-x-2 text-sm text-neutral-500 mb-4",children:[i.jsx("button",{onClick:H,className:"hover:text-primary-600 transition-colors",children:"Cart"}),i.jsx("span",{children:"→"}),i.jsx("button",{onClick:T,className:"hover:text-primary-600 transition-colors",children:"Shipping"}),i.jsx("span",{children:"→"}),i.jsx("span",{className:"text-primary-600 font-medium",children:"Payment"})]}),i.jsx("h1",{className:"text-3xl font-bold text-neutral-900",children:"Secure Checkout"}),i.jsx("p",{className:"text-neutral-600 mt-2",children:"Complete your demo purchase"})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[i.jsx("div",{className:"lg:col-span-2",children:i.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 border border-neutral-200",children:[i.jsxs("div",{className:"flex items-center mb-6",children:[i.jsx("div",{className:"w-8 h-8 bg-primary-100 rounded-full flex items-center justify-center mr-3",children:i.jsx("svg",{className:"w-4 h-4 text-primary-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"})})}),i.jsx("h2",{className:"text-xl font-semibold text-neutral-900",children:"Payment Details"})]}),o&&i.jsxs("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx("svg",{className:"w-5 h-5 text-red-600 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),i.jsx("p",{className:"text-red-800 text-sm font-medium",children:o})]}),s==="failed"&&i.jsx("button",{onClick:A,className:"mt-3 text-sm text-red-700 hover:text-red-800 underline transition-colors",children:"Try again"})]}),i.jsx(M5,{onSuccess:_,onError:k,isProcessing:s==="processing",disabled:s==="succeeded"})]})}),i.jsx("div",{className:"lg:col-span-1",children:i.jsxs("div",{className:"sticky top-8",children:[i.jsx(zy,{items:g,subtotal:p,shippingCost:f,tax:j,total:N,shippingMethod:y,shippingAddress:b}),i.jsx("div",{className:"mt-6 p-4 bg-white rounded-xl shadow-sm border border-neutral-200",children:i.jsxs("div",{className:"flex items-center justify-center space-x-4 text-xs text-neutral-500",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx("svg",{className:"w-4 h-4 mr-1 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})}),"Demo Secured"]}),i.jsxs("div",{className:"flex items-center",children:[i.jsx("svg",{className:"w-4 h-4 mr-1 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})}),"Test Mode"]})]})})]})})]})]})}),i.jsx(F5,{isVisible:s==="succeeded"})]}):i.jsx(Ll,{title:"Order Preparation Failed",message:"There was an issue preparing your order. Please try again.",actionText:"Go to Cart",onAction:H}):i.jsx(Ll,{title:"Missing Shipping Information",message:"Please complete the shipping information before proceeding to payment.",actionText:"Go to Shipping",onAction:T})}function B5(){var p,f,j,N,S,_;const{orderId:e}=Co(),t=dt(),s=Ge(),r=t.state,n=((p=t.state)==null?void 0:p.paymentMethod)||"Credit Card",a=((f=t.state)==null?void 0:f.paymentId)||"N/A",o=((j=t.state)==null?void 0:j.status)||"succeeded",l=((N=t.state)==null?void 0:N.lastFour)||"",c=((S=t.state)==null?void 0:S.cardType)||"Card",u=((_=t.state)==null?void 0:_.isDemoMode)||!0;if(v.useEffect(()=>{r||s("/")},[r,s]),!r)return null;const{items:d,shippingAddress:h,estimatedDelivery:m}=r,x=d.reduce((k,A)=>k+A.price*A.quantity,0),w=x*.1,b=r.shippingMethod==="free"?0:7.99,y=x+w+b,g=()=>{if(m)return m;const k=new Date;let A=3+Math.floor(Math.random()*3);for(;A>0;)k.setDate(k.getDate()+1),k.getDay()!==0&&k.getDay()!==6&&A--;return k.toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric",year:"numeric"})};return i.jsx("div",{className:"bg-neutral-50 py-12 px-4 sm:px-6 lg:px-8",children:i.jsxs("div",{className:"max-w-4xl mx-auto",children:[u&&i.jsx("div",{className:"bg-red-50 border-2 border-red-200 rounded-lg p-4 mb-8",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"flex-shrink-0",children:i.jsx("svg",{className:"h-6 w-6 text-red-600",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})}),i.jsxs("div",{className:"ml-3",children:[i.jsx("h3",{className:"text-lg font-bold text-red-800",children:"🎭 DEMO ORDER - NO REAL PAYMENT PROCESSED"}),i.jsx("p",{className:"text-sm text-red-700 mt-1",children:"This is a demonstration order. No actual payment was charged and no real products will be shipped."})]})]})}),i.jsxs("div",{className:"bg-white shadow overflow-hidden sm:rounded-lg mb-8",children:[i.jsxs("div",{className:"px-4 py-5 sm:px-6 bg-primary-50",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx(T5,{className:"h-8 w-8 text-green-600 mr-3"}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold text-neutral-900",children:u?"🎭 Demo Order Completed!":"Thank you for your order!"}),i.jsxs("div",{className:"mt-2",children:[i.jsxs("p",{className:"text-sm text-neutral-600",children:[c," ending in ••••",l||a.slice(-4)]}),i.jsx("p",{className:"text-sm text-neutral-600",children:u?"🎭 Demo Payment (No Real Charge)":o==="succeeded"?"Paid":"Pending"})]})]})]}),i.jsxs("p",{className:"mt-1 text-sm text-neutral-600",children:["Order #",e," has been ",u?"simulated":"placed"," and is being processed."]}),i.jsx("p",{className:"mt-2 text-sm text-neutral-600",children:u?"🎭 This is a demo confirmation. No real order was placed or payment processed.":"We've sent a confirmation email with order details and tracking information."})]}),i.jsxs("div",{className:"border-t border-neutral-200 px-4 py-5 sm:p-6",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row justify-between",children:[i.jsxs("div",{className:"mb-6 sm:mb-0",children:[i.jsx("h2",{className:"text-lg font-medium text-neutral-900 mb-3",children:"Order Information"}),i.jsxs("div",{className:"space-y-1 text-sm text-neutral-700",children:[i.jsxs("p",{children:[i.jsx("span",{className:"font-medium",children:"Order Number:"})," ",e]}),i.jsxs("p",{children:[i.jsx("span",{className:"font-medium",children:"Date:"})," ",new Date().toLocaleDateString()]}),i.jsxs("p",{children:[i.jsx("span",{className:"font-medium",children:"Payment Method:"})," ",n," ",u?"(Demo)":""]}),i.jsxs("p",{children:[i.jsx("span",{className:"font-medium",children:"Payment ID:"})," ",a]}),u&&i.jsx("p",{className:"text-red-600 font-medium",children:"⚠️ Demo Mode: No real payment processed"})]})]}),i.jsxs("div",{className:"bg-neutral-50 p-4 rounded-md",children:[i.jsx("h3",{className:"text-sm font-medium text-neutral-900 mb-2",children:"Shipping Address"}),i.jsxs("div",{className:"text-sm text-neutral-700",children:[i.jsxs("p",{children:[h.firstName," ",h.lastName]}),i.jsx("p",{children:h.address1}),h.address2&&i.jsx("p",{children:h.address2}),i.jsxs("p",{children:[h.city,", ",h.state," ",h.postalCode]}),i.jsx("p",{children:h.country})]})]})]}),i.jsxs("div",{className:"mt-8",children:[i.jsx("h2",{className:"text-lg font-medium text-neutral-900 mb-4",children:"Order Summary"}),i.jsx("div",{className:"overflow-hidden border border-neutral-200 rounded-md",children:i.jsxs("table",{className:"min-w-full divide-y divide-neutral-200",children:[i.jsx("thead",{className:"bg-neutral-50",children:i.jsxs("tr",{children:[i.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-neutral-500 uppercase tracking-wider",children:"Product"}),i.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-neutral-500 uppercase tracking-wider",children:"Price"}),i.jsx("th",{scope:"col",className:"px-6 py-3 text-center text-xs font-medium text-neutral-500 uppercase tracking-wider",children:"Qty"}),i.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-neutral-500 uppercase tracking-wider",children:"Total"})]})}),i.jsx("tbody",{className:"bg-white divide-y divide-neutral-200",children:d.map(k=>i.jsxs("tr",{children:[i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"flex-shrink-0 h-10 w-10 bg-neutral-100 rounded-md flex items-center justify-center",children:i.jsx(Jr,{className:"h-6 w-6 text-neutral-400"})}),i.jsxs("div",{className:"ml-4",children:[i.jsx("div",{className:"text-sm font-medium text-neutral-900",children:k.name}),i.jsxs("div",{className:"text-sm text-neutral-500",children:["SKU: ",k.id]})]})]})}),i.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-neutral-500 text-right",children:["$",k.price.toFixed(2)]}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-neutral-500 text-center",children:k.quantity}),i.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-neutral-900 text-right",children:["$",(k.price*k.quantity).toFixed(2)]})]},k.id))}),i.jsxs("tfoot",{className:"bg-neutral-50",children:[i.jsxs("tr",{children:[i.jsx("td",{colSpan:3,className:"px-6 py-3 text-right text-sm font-medium text-neutral-700",children:"Subtotal"}),i.jsxs("td",{className:"px-6 py-3 text-right text-sm font-medium text-neutral-900",children:["$",x.toFixed(2)]})]}),i.jsxs("tr",{children:[i.jsx("td",{colSpan:3,className:"px-6 py-1 text-right text-sm font-medium text-neutral-700",children:"Shipping"}),i.jsx("td",{className:"px-6 py-1 text-right text-sm font-medium text-neutral-900",children:b===0?"Free":`$${b.toFixed(2)}`})]}),i.jsxs("tr",{children:[i.jsx("td",{colSpan:3,className:"px-6 py-1 text-right text-sm font-medium text-neutral-700",children:"Tax"}),i.jsxs("td",{className:"px-6 py-1 text-right text-sm font-medium text-neutral-900",children:["$",w.toFixed(2)]})]}),i.jsxs("tr",{className:"border-t border-neutral-200",children:[i.jsxs("td",{colSpan:3,className:"px-6 py-3 text-right text-base font-bold text-neutral-900",children:["Total ",u?"(Demo)":""]}),i.jsxs("td",{className:"px-6 py-3 text-right text-base font-bold text-neutral-900",children:["$",y.toFixed(2)]})]})]})]})})]}),i.jsxs("div",{className:"mt-8 pt-8 border-t border-neutral-200",children:[i.jsx("h2",{className:"text-lg font-medium text-neutral-900 mb-4",children:"What's Next?"}),i.jsx("div",{className:`${u?"bg-red-50":"bg-blue-50"} rounded-lg p-4`,children:i.jsxs("div",{className:"flex",children:[i.jsx("div",{className:"flex-shrink-0",children:i.jsx(Fy,{className:`h-5 w-5 ${u?"text-red-400":"text-blue-400"}`})}),i.jsxs("div",{className:"ml-3",children:[i.jsx("h3",{className:`text-sm font-medium ${u?"text-red-800":"text-blue-800"}`,children:u?"🎭 Demo Order Status":"Order Status"}),i.jsx("div",{className:`mt-2 text-sm ${u?"text-red-700":"text-blue-700"}`,children:u?i.jsxs(i.Fragment,{children:[i.jsx("p",{children:"This is a demonstration order - no real products will be shipped."}),i.jsxs("p",{className:"mt-1 font-medium",children:["Demo estimated delivery: ",i.jsx("span",{className:"font-medium",children:g()})]})]}):i.jsxs(i.Fragment,{children:[i.jsx("p",{children:"Your order is being processed and will be shipped soon."}),i.jsxs("p",{className:"mt-1",children:["Estimated delivery: ",i.jsx("span",{className:"font-medium",children:g()})]})]})})]})]})}),i.jsxs("div",{className:"mt-6 flex flex-col sm:flex-row space-y-3 sm:space-y-0 sm:space-x-4",children:[i.jsx(O,{to:"/shop",className:"flex-1 flex items-center justify-center px-6 py-3 border border-transparent rounded-md shadow-sm text-base font-medium text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:"Continue Shopping"}),i.jsx(O,{to:"/orders",className:"flex-1 flex items-center justify-center px-6 py-3 border border-neutral-300 rounded-md shadow-sm text-base font-medium text-neutral-700 bg-white hover:bg-neutral-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:"View Order History"})]})]})]})]}),i.jsxs("div",{className:"bg-white shadow overflow-hidden sm:rounded-lg",children:[i.jsx("div",{className:"px-4 py-5 sm:px-6",children:i.jsx("h3",{className:"text-lg font-medium leading-6 text-neutral-900",children:"Need Help?"})}),i.jsxs("div",{className:"border-t border-neutral-200 px-4 py-5 sm:p-6",children:[i.jsxs("p",{className:"text-sm text-neutral-700 mb-4",children:["If you have any questions about your ",u?"demo ":"","order, please don't hesitate to contact our customer service team."]}),i.jsxs("div",{className:"space-y-3",children:[i.jsx("a",{href:"mailto:support@stylesphere.com",className:"block text-sm font-medium text-primary-600 hover:text-primary-500",children:"support@stylesphere.com"}),i.jsx("a",{href:"tel:+18005551234",className:"block text-sm font-medium text-primary-600 hover:text-primary-500",children:"(800) 555-1234"}),i.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"Our customer service team is available Monday to Friday, 9:00 AM to 5:00 PM EST."})]})]})]})]})})}function U5(){const[e,t]=v.useState([]),[s,r]=v.useState(!0),{user:n,isAuthenticated:a}=Ke();v.useEffect(()=>{(async()=>{try{r(!0);let m=[];if(a&&n){console.log("Fetching orders from Supabase for user:",n.id);const{data:w,error:b}=await J.from("orders").select(`
              id,
              order_number,
              status,
              total_amount,
              shipping_address,
              payment_method,
              created_at,
              order_items (
                id,
                quantity,
                price,
                size,
                color,
                products (
                  id,
                  name,
                  images
                )
              )
            `).eq("user_id",n.id).order("created_at",{ascending:!1});b?console.error("Error fetching orders from Supabase:",b):w&&(console.log("Fetched orders from Supabase:",w),m=w.map(y=>{var g;return{id:y.id,orderNumber:y.order_number,date:y.created_at,status:y.status,total:y.total_amount,items:((g=y.order_items)==null?void 0:g.map(p=>{var f,j,N,S;return{id:((f=p.products)==null?void 0:f.id)||p.id,name:((j=p.products)==null?void 0:j.name)||"Unknown Product",price:p.price,quantity:p.quantity,image:(S=(N=p.products)==null?void 0:N.images)==null?void 0:S[0]}}))||[],shippingAddress:y.shipping_address||{},paymentMethod:y.payment_method,paymentId:`pay_${y.id.slice(-8)}`,estimatedDelivery:l(y.status==="delivered"?-5:5)}}))}const x=localStorage.getItem("orders");if(x)try{const w=JSON.parse(x);console.log("Found orders in localStorage:",w);const b=w.map(p=>({id:p.id||p.orderNumber,orderNumber:p.orderNumber||p.id,date:p.date,status:p.status,total:p.total,items:p.items||[],shippingAddress:p.shippingAddress||{},paymentMethod:p.paymentMethod,paymentId:p.paymentId,estimatedDelivery:p.estimatedDelivery})),y=new Set(m.map(p=>p.id)),g=b.filter(p=>!y.has(p.id));m=[...m,...g]}catch(w){console.error("Error parsing localStorage orders:",w)}m.length===0&&(console.log("No orders found, generating mock data"),m=o(),localStorage.setItem("orders",JSON.stringify(m))),m.sort((w,b)=>new Date(b.date).getTime()-new Date(w.date).getTime()),console.log("Final orders data:",m),t(m)}catch(m){console.error("Error fetching orders:",m)}finally{r(!1)}})()},[n,a]);const o=()=>[{id:"order_"+Math.random().toString(36).substring(2,11),orderNumber:`ORD-${Date.now()}-DEMO1`,date:new Date(Date.now()-1728e5).toISOString(),status:"demo",total:4500,items:[{id:"p1",name:"Organic Cotton T-Shirt",price:1500,quantity:2,image:"https://images.pexels.com/photos/5698851/pexels-photo-5698851.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1"},{id:"p2",name:"Recycled Denim Jeans",price:1500,quantity:1,image:"https://images.pexels.com/photos/4210863/pexels-photo-4210863.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1"}],shippingAddress:{firstName:"Demo",lastName:"User",address1:"123 Demo Street",city:"Cairo",state:"Cairo",postalCode:"12345",country:"Egypt"},paymentMethod:"demo_card",paymentId:"DEMO_"+Math.random().toString(36).substring(2,11),estimatedDelivery:l(5)}];function l(h){const m=new Date;return m.setDate(m.getDate()+h),m.toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric",year:"numeric"})}const c=h=>new Date(h).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),u=h=>{switch(h){case"processing":return"bg-blue-100 text-blue-800";case"shipped":return"bg-yellow-100 text-yellow-800";case"delivered":return"bg-green-100 text-green-800";case"cancelled":return"bg-red-100 text-red-800";case"demo":return"bg-purple-100 text-purple-800";default:return"bg-gray-100 text-gray-800"}},d=h=>h==="demo"?"Demo Order":h.charAt(0).toUpperCase()+h.slice(1);return s?i.jsx("div",{className:"min-h-screen bg-neutral-50 flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto mb-4"}),i.jsx("p",{className:"text-neutral-600",children:"Loading your orders..."})]})}):i.jsx("div",{className:"bg-neutral-50 min-h-screen py-12 px-4 sm:px-6 lg:px-8",children:i.jsxs("div",{className:"max-w-7xl mx-auto",children:[i.jsxs("div",{className:"flex justify-between items-center mb-8",children:[i.jsx("h1",{className:"text-3xl font-bold text-neutral-900",children:"My Orders"}),e.some(h=>h.status==="demo")&&i.jsx("div",{className:"bg-purple-50 border border-purple-200 rounded-lg px-4 py-2",children:i.jsx("p",{className:"text-sm text-purple-700",children:"🎭 Demo orders are shown for demonstration purposes"})})]}),e.length===0?i.jsxs("div",{className:"bg-white shadow overflow-hidden sm:rounded-lg p-6 text-center",children:[i.jsx(Jr,{className:"h-12 w-12 text-neutral-400 mx-auto mb-4"}),i.jsx("h3",{className:"text-lg font-medium text-neutral-900 mb-2",children:"No orders yet"}),i.jsx("p",{className:"text-neutral-600 mb-6",children:"You haven't placed any orders yet."}),i.jsx(O,{to:"/shop",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:"Start Shopping"})]}):i.jsx("div",{className:"bg-white shadow overflow-hidden sm:rounded-lg",children:i.jsx("ul",{className:"divide-y divide-neutral-200",children:e.map(h=>i.jsx("li",{children:i.jsx(O,{to:`/orders/${h.id}`,className:"block hover:bg-neutral-50 transition-colors",children:i.jsxs("div",{className:"px-4 py-5 sm:px-6 flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[i.jsxs("div",{className:"mb-4 sm:mb-0",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsxs("h3",{className:"text-lg font-medium text-neutral-900",children:["Order #",h.orderNumber.split("-").pop()||h.id.split("_")[1]]}),i.jsx("span",{className:`ml-3 inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${u(h.status)}`,children:d(h.status)})]}),i.jsxs("p",{className:"mt-1 text-sm text-neutral-500",children:["Placed on ",c(h.date)]}),i.jsxs("p",{className:"mt-1 text-sm text-neutral-500",children:[h.items.length," ",h.items.length===1?"item":"items"," • ",ve(h.total)]})]}),i.jsxs("div",{className:"flex items-center",children:[i.jsxs("div",{className:"flex -space-x-2 overflow-hidden mr-4",children:[h.items.slice(0,3).map((m,x)=>i.jsx("div",{className:"h-10 w-10 rounded-full border-2 border-white overflow-hidden bg-neutral-100 flex items-center justify-center",children:m.image?i.jsx("img",{src:m.image,alt:m.name,className:"h-full w-full object-cover"}):i.jsx(Jr,{className:"h-5 w-5 text-neutral-400"})},x)),h.items.length>3&&i.jsxs("div",{className:"h-10 w-10 rounded-full border-2 border-white bg-neutral-100 flex items-center justify-center text-xs font-medium text-neutral-500",children:["+",h.items.length-3]})]}),i.jsx(R5,{className:"h-5 w-5 text-neutral-400"})]})]})})},h.id))})})]})})}function W5(){const{orderId:e}=Co(),t=Ge(),[s,r]=v.useState(null),[n,a]=v.useState(!0),[o,l]=v.useState(null);v.useEffect(()=>{e&&(async()=>{try{a(!0),l(null);const b=localStorage.getItem("orders");if(b){const g=JSON.parse(b).find(p=>p.id===e);g?r(g):l("Order not found")}else l("No orders found")}catch(b){console.error("Error fetching order:",b),l("Failed to load order details")}finally{a(!1)}})()},[e]);const c=w=>new Date(w).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),u=w=>{switch(w){case"processing":return"bg-blue-100 text-blue-800";case"shipped":return"bg-yellow-100 text-yellow-800";case"delivered":return"bg-green-100 text-green-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},d=w=>w.charAt(0).toUpperCase()+w.slice(1);if(n)return i.jsx("div",{className:"min-h-screen bg-neutral-50 flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto mb-4"}),i.jsx("p",{className:"text-neutral-600",children:"Loading order details..."})]})});if(o||!s)return i.jsx("div",{className:"min-h-screen bg-neutral-50 py-12 px-4 sm:px-6 lg:px-8",children:i.jsx("div",{className:"max-w-7xl mx-auto",children:i.jsxs("div",{className:"bg-white shadow overflow-hidden sm:rounded-lg p-6 text-center",children:[i.jsx(Jr,{className:"h-12 w-12 text-neutral-400 mx-auto mb-4"}),i.jsx("h3",{className:"text-lg font-medium text-neutral-900 mb-2",children:"Order not found"}),i.jsx("p",{className:"text-neutral-600 mb-6",children:o||"The requested order could not be found."}),i.jsx(O,{to:"/orders",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:"Back to Orders"})]})})});const h=s.items.reduce((w,b)=>w+b.price*b.quantity,0),m=h*.14,x=s.status==="cancelled"?0:s.total-h-m;return i.jsx("div",{className:"bg-neutral-50 min-h-screen py-12 px-4 sm:px-6 lg:px-8",children:i.jsxs("div",{className:"max-w-4xl mx-auto",children:[i.jsx("div",{className:"mb-6",children:i.jsxs("button",{onClick:()=>t("/orders"),className:"inline-flex items-center text-sm font-medium text-primary-600 hover:text-primary-500",children:[i.jsx(P5,{className:"h-4 w-4 mr-1"}),"Back to Orders"]})}),i.jsxs("div",{className:"bg-white shadow overflow-hidden sm:rounded-lg mb-8",children:[i.jsx("div",{className:"px-4 py-5 sm:px-6 border-b border-neutral-200",children:i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[i.jsxs("div",{children:[i.jsxs("h1",{className:"text-2xl font-bold text-neutral-900",children:["Order #",s.id.split("_")[1]]}),i.jsxs("p",{className:"mt-1 text-sm text-neutral-500",children:["Placed on ",c(s.date)]})]}),i.jsx("div",{className:"mt-3 sm:mt-0",children:i.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${u(s.status)}`,children:d(s.status)})})]})}),i.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-lg font-medium text-neutral-900 mb-3",children:"Shipping Information"}),i.jsxs("div",{className:"text-sm text-neutral-700 space-y-1",children:[i.jsxs("p",{className:"font-medium",children:[s.shippingAddress.firstName," ",s.shippingAddress.lastName]}),i.jsx("p",{children:s.shippingAddress.address1}),s.shippingAddress.address2&&i.jsx("p",{children:s.shippingAddress.address2}),i.jsxs("p",{children:[s.shippingAddress.city,", ",s.shippingAddress.state," ",s.shippingAddress.postalCode]}),i.jsx("p",{children:s.shippingAddress.country})]}),s.status!=="cancelled"&&s.estimatedDelivery&&i.jsxs("div",{className:"mt-6",children:[i.jsx("h3",{className:"text-sm font-medium text-neutral-900 mb-2",children:"Delivery Information"}),i.jsxs("div",{className:"bg-blue-50 rounded-lg p-3 flex",children:[i.jsx(Fy,{className:"h-5 w-5 text-blue-400 mr-2"}),i.jsxs("div",{children:[i.jsxs("p",{className:"text-sm text-blue-700",children:[s.status==="delivered"?"Delivered on":"Estimated delivery",":"]}),i.jsx("p",{className:"text-sm font-medium text-blue-800",children:s.estimatedDelivery})]})]})]})]}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-lg font-medium text-neutral-900 mb-3",children:"Payment Information"}),i.jsxs("div",{className:"text-sm text-neutral-700 space-y-1",children:[i.jsxs("p",{children:[i.jsx("span",{className:"font-medium",children:"Payment Method:"})," ",s.paymentMethod==="card"?"Credit Card":s.paymentMethod]}),i.jsxs("p",{children:[i.jsx("span",{className:"font-medium",children:"Payment ID:"})," ",s.paymentId]}),i.jsxs("p",{children:[i.jsx("span",{className:"font-medium",children:"Payment Status:"})," ",s.status==="cancelled"?"Refunded":"Paid"]})]})]})]}),i.jsxs("div",{className:"mt-8",children:[i.jsx("h2",{className:"text-lg font-medium text-neutral-900 mb-4",children:"Order Items"}),i.jsx("div",{className:"overflow-hidden border border-neutral-200 rounded-lg",children:i.jsxs("table",{className:"min-w-full divide-y divide-neutral-200",children:[i.jsx("thead",{className:"bg-neutral-50",children:i.jsxs("tr",{children:[i.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-neutral-500 uppercase tracking-wider",children:"Product"}),i.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-neutral-500 uppercase tracking-wider",children:"Price"}),i.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-neutral-500 uppercase tracking-wider",children:"Quantity"}),i.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-neutral-500 uppercase tracking-wider",children:"Total"})]})}),i.jsx("tbody",{className:"bg-white divide-y divide-neutral-200",children:s.items.map(w=>i.jsxs("tr",{children:[i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"h-10 w-10 flex-shrink-0 overflow-hidden rounded-md border border-neutral-200",children:w.image?i.jsx("img",{src:w.image,alt:w.name,className:"h-full w-full object-cover object-center"}):i.jsx("div",{className:"h-full w-full bg-neutral-100 flex items-center justify-center",children:i.jsx(Jr,{className:"h-5 w-5 text-neutral-400"})})}),i.jsx("div",{className:"ml-4",children:i.jsx("div",{className:"text-sm font-medium text-neutral-900",children:w.name})})]})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm text-neutral-500",children:ve(w.price)}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm text-neutral-500",children:w.quantity}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium text-neutral-900",children:ve(w.price*w.quantity)})]},w.id))}),i.jsxs("tfoot",{children:[i.jsxs("tr",{children:[i.jsx("td",{colSpan:3,className:"px-6 py-1 text-right text-sm font-medium text-neutral-700",children:"Subtotal"}),i.jsx("td",{className:"px-6 py-1 text-right text-sm font-medium text-neutral-900",children:ve(h)})]}),i.jsxs("tr",{children:[i.jsx("td",{colSpan:3,className:"px-6 py-1 text-right text-sm font-medium text-neutral-700",children:"Shipping"}),i.jsx("td",{className:"px-6 py-1 text-right text-sm font-medium text-neutral-900",children:x===0?"Free":ve(x)})]}),i.jsxs("tr",{children:[i.jsx("td",{colSpan:3,className:"px-6 py-1 text-right text-sm font-medium text-neutral-700",children:"Tax"}),i.jsx("td",{className:"px-6 py-1 text-right text-sm font-medium text-neutral-900",children:ve(m)})]}),i.jsxs("tr",{className:"border-t border-neutral-200",children:[i.jsx("td",{colSpan:3,className:"px-6 py-3 text-right text-base font-bold text-neutral-900",children:"Total"}),i.jsx("td",{className:"px-6 py-3 text-right text-base font-bold text-neutral-900",children:ve(s.total)})]})]})]})})]}),s.status!=="cancelled"&&i.jsx("div",{className:"mt-8 flex justify-end",children:i.jsx(O,{to:"/products",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:"Buy Again"})})]})]}),i.jsxs("div",{className:"bg-white shadow overflow-hidden sm:rounded-lg",children:[i.jsx("div",{className:"px-4 py-5 sm:px-6",children:i.jsx("h3",{className:"text-lg font-medium leading-6 text-neutral-900",children:"Need Help?"})}),i.jsxs("div",{className:"border-t border-neutral-200 px-4 py-5 sm:p-6",children:[i.jsx("p",{className:"text-sm text-neutral-700 mb-4",children:"If you have any questions about your order, please don't hesitate to contact our customer service team."}),i.jsxs("div",{className:"space-y-3",children:[i.jsx("a",{href:"mailto:support@stylesphere.com",className:"block text-sm font-medium text-primary-600 hover:text-primary-500",children:"support@stylesphere.com"}),i.jsx("a",{href:"tel:+18005551234",className:"block text-sm font-medium text-primary-600 hover:text-primary-500",children:"(800) 555-1234"}),i.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"Our customer service team is available Monday to Friday, 9:00 AM to 5:00 PM EST."})]})]})]})]})})}function q5(){return i.jsx(QN,{children:i.jsx(YN,{children:i.jsx(wS,{children:i.jsx(lS,{children:i.jsxs("div",{className:"min-h-screen flex flex-col bg-neutral-50",children:[i.jsx(oj,{position:"top-center",toastOptions:{duration:4e3,style:{background:"#363636",color:"#fff"},success:{duration:3e3,iconTheme:{primary:"#4ade80",secondary:"#fff"}},error:{duration:4e3,iconTheme:{primary:"#ef4444",secondary:"#fff"}}}}),i.jsx(JN,{}),i.jsx("main",{className:"flex-grow",children:i.jsxs(ab,{children:[i.jsx(ae,{path:"/",element:i.jsx(oS,{})}),i.jsx(ae,{path:"/shop",element:i.jsx(fS,{})}),i.jsx(ae,{path:"/product/:id",element:i.jsx(yS,{})}),i.jsx(ae,{path:"/sustainability",element:i.jsx(vS,{})}),i.jsx(ae,{path:"/blog",element:i.jsx(_S,{})}),i.jsx(ae,{path:"/blog/:slug",element:i.jsx(CS,{})}),i.jsx(ae,{path:"/gift-cards",element:i.jsx(ES,{})}),i.jsx(ae,{path:"/gift-cards/purchase",element:i.jsx(RS,{})}),i.jsx(ae,{path:"/gift-cards/redeem",element:i.jsx(OS,{})}),i.jsx(ae,{path:"/cart",element:i.jsx(MS,{})}),i.jsx(ae,{path:"/style-quiz",element:i.jsx(w5,{})}),i.jsx(ae,{path:"/login",element:i.jsx(mr,{requireAuth:!1,children:i.jsx(b5,{})})}),i.jsx(ae,{path:"/register",element:i.jsx(mr,{requireAuth:!1,children:i.jsx(j5,{})})}),i.jsx(ae,{path:"/forgot-password",element:i.jsx(N5,{})}),i.jsx(ae,{path:"/reset-password",element:i.jsx(S5,{})}),i.jsx(ae,{path:"/profile",element:i.jsx(mr,{children:i.jsx(NS,{})})}),i.jsx(ae,{path:"/orders",element:i.jsx(mr,{children:i.jsx(U5,{})})}),i.jsx(ae,{path:"/orders/:orderId",element:i.jsx(mr,{children:i.jsx(W5,{})})}),i.jsx(ae,{path:"/checkout",element:i.jsx(L5,{})}),i.jsx(ae,{path:"/checkout/confirmation",element:i.jsx(V5,{})}),i.jsx(ae,{path:"/order-confirmation/:orderId",element:i.jsx(B5,{})})]})}),i.jsx(XN,{}),i.jsx(sS,{})]})})})})})}ag(document.getElementById("root")).render(i.jsx(v.StrictMode,{children:i.jsx(fb,{children:i.jsx(q5,{})})}));
